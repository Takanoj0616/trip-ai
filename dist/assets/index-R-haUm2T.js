var Z_=Object.defineProperty,q_=Object.defineProperties;var Q_=Object.getOwnPropertyDescriptors;var va=Object.getOwnPropertySymbols;var fp=Object.prototype.hasOwnProperty,mp=Object.prototype.propertyIsEnumerable;var Is=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),K_=t=>{throw TypeError(t)};var dp=(t,e,n)=>e in t?Z_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||(e={}))fp.call(e,n)&&dp(t,n,e[n]);if(va)for(var n of va(e))mp.call(e,n)&&dp(t,n,e[n]);return t},Qe=(t,e)=>q_(t,Q_(e));var nr=(t,e)=>{var n={};for(var r in t)fp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&va)for(var r of va(t))e.indexOf(r)<0&&mp.call(t,r)&&(n[r]=t[r]);return n};var J_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var U=(t,e,n)=>new Promise((r,s)=>{var i=u=>{try{c(n.next(u))}catch(h){s(h)}},o=u=>{try{c(n.throw(u))}catch(h){s(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,o);c((n=n.apply(t,e)).next())}),Hr=function(t,e){this[0]=t,this[1]=e},gu=(t,e,n)=>{var r=(o,c,u,h)=>{try{var f=n[o](c),p=(c=f.value)instanceof Hr,g=f.done;Promise.resolve(p?c[0]:c).then(y=>p?r(o==="return"?o:"next",c[1]?{done:y.done,value:y.value}:y,u,h):u({value:y,done:g})).catch(y=>r("throw",y,u,h))}catch(y){h(y)}},s=o=>i[o]=c=>new Promise((u,h)=>r(o,c,u,h)),i={};return n=n.apply(t,e),i[Is("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i},yu=t=>{var e=t[Is("asyncIterator")],n=!1,r,s={};return e==null?(e=t[Is("iterator")](),r=i=>s[i]=o=>e[i](o)):(e=e.call(t),r=i=>s[i]=o=>{if(n){if(n=!1,i==="throw")throw o;return o}return n=!0,{done:!1,value:new Hr(new Promise(c=>{var u=e[i](o);u instanceof Object||K_("Object expected"),c(u)}),1)}}),s[Is("iterator")]=()=>s,r("next"),"throw"in e?r("throw"):s.throw=i=>{throw i},"return"in e&&r("return"),s},pp=(t,e,n)=>(e=t[Is("asyncIterator")])?e.call(t):(t=t[Is("iterator")](),e={},n=(r,s)=>(s=t[r])&&(e[r]=i=>new Promise((o,c,u)=>(i=s.call(t,i),u=i.done,Promise.resolve(i.value).then(h=>o({value:h,done:u}),c)))),n("next"),n("return"),e);var NA=J_(Me=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function X_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy={exports:{}},oc={},uy={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),Y_=Symbol.for("react.portal"),eb=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),rb=Symbol.for("react.provider"),sb=Symbol.for("react.context"),ib=Symbol.for("react.forward_ref"),ob=Symbol.for("react.suspense"),ab=Symbol.for("react.memo"),lb=Symbol.for("react.lazy"),gp=Symbol.iterator;function cb(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,fy={};function di(t,e,n){this.props=t,this.context=e,this.refs=fy,this.updater=n||hy}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function my(){}my.prototype=di.prototype;function Cd(t,e,n){this.props=t,this.context=e,this.refs=fy,this.updater=n||hy}var Ad=Cd.prototype=new my;Ad.constructor=Cd;dy(Ad,di.prototype);Ad.isPureReactComponent=!0;var yp=Array.isArray,py=Object.prototype.hasOwnProperty,Rd={current:null},gy={key:!0,ref:!0,__self:!0,__source:!0};function yy(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)py.call(e,r)&&!gy.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:zo,type:t,key:i,ref:o,props:s,_owner:Rd.current}}function ub(t,e){return{$$typeof:zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pd(t){return typeof t=="object"&&t!==null&&t.$$typeof===zo}function hb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xp=/\/+/g;function xu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hb(""+t.key):e.toString(36)}function Wa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zo:case Y_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xu(o,0):r,yp(s)?(n="",t!=null&&(n=t.replace(xp,"$&/")+"/"),Wa(s,e,n,"",function(h){return h})):s!=null&&(Pd(s)&&(s=ub(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yp(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+xu(i,c);o+=Wa(i,e,n,u,s)}else if(u=cb(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+xu(i,c++),o+=Wa(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wa(t,e,n){if(t==null)return t;var r=[],s=0;return Wa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function db(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ga={transition:null},fb={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Rd};function xy(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!Pd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=di;ie.Fragment=eb;ie.Profiler=nb;ie.PureComponent=Cd;ie.StrictMode=tb;ie.Suspense=ob;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb;ie.act=xy;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)py.call(e,u)&&!gy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:zo,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:sb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rb,_context:t},t.Consumer=t};ie.createElement=yy;ie.createFactory=function(t){var e=yy.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:ib,render:t}};ie.isValidElement=Pd;ie.lazy=function(t){return{$$typeof:lb,_payload:{_status:-1,_result:t},_init:db}};ie.memo=function(t,e){return{$$typeof:ab,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=e}};ie.unstable_act=xy;ie.useCallback=function(t,e){return kt.current.useCallback(t,e)};ie.useContext=function(t){return kt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return kt.current.useEffect(t,e)};ie.useId=function(){return kt.current.useId()};ie.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return kt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ie.useRef=function(t){return kt.current.useRef(t)};ie.useState=function(t){return kt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return kt.current.useTransition()};ie.version="18.3.1";uy.exports=ie;var R=uy.exports;const mb=X_(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=R,gb=Symbol.for("react.element"),yb=Symbol.for("react.fragment"),xb=Object.prototype.hasOwnProperty,vb=pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wb={key:!0,ref:!0,__self:!0,__source:!0};function vy(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xb.call(e,r)&&!wb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:gb,type:t,key:i,ref:o,props:s,_owner:vb.current}}oc.Fragment=yb;oc.jsx=vy;oc.jsxs=vy;cy.exports=oc;var a=cy.exports,oh={},wy={exports:{}},Ft={},_y={exports:{}},by={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,X){var re=H.length;H.push(X);e:for(;0<re;){var ve=re-1>>>1,fe=H[ve];if(0<s(fe,X))H[ve]=X,H[re]=fe,re=ve;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var X=H[0],re=H.pop();if(re!==X){H[0]=re;e:for(var ve=0,fe=H.length,Ne=fe>>>1;ve<Ne;){var Xt=2*(ve+1)-1,Bt=H[Xt],Z=Xt+1,Y=H[Z];if(0>s(Bt,re))Z<fe&&0>s(Y,Bt)?(H[ve]=Y,H[Z]=re,ve=Z):(H[ve]=Bt,H[Xt]=re,ve=Xt);else if(Z<fe&&0>s(Y,re))H[ve]=Y,H[Z]=re,ve=Z;else break e}}return X}function s(H,X){var re=H.sortIndex-X.sortIndex;return re!==0?re:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,g=3,y=!1,k=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=H)r(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function C(H){if(x=!1,N(H),!k)if(n(u)!==null)k=!0,Fr(D);else{var X=n(h);X!==null&&Jt(C,X.startTime-H)}}function D(H,X){k=!1,x&&(x=!1,_(b),b=-1),y=!0;var re=g;try{for(N(X),p=n(u);p!==null&&(!(p.expirationTime>X)||H&&!A());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,g=p.priorityLevel;var fe=ve(p.expirationTime<=X);X=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(u)&&r(u),N(X)}else r(u);p=n(u)}if(p!==null)var Ne=!0;else{var Xt=n(h);Xt!==null&&Jt(C,Xt.startTime-X),Ne=!1}return Ne}finally{p=null,g=re,y=!1}}var O=!1,E=null,b=-1,T=5,j=-1;function A(){return!(t.unstable_now()-j<T)}function P(){if(E!==null){var H=t.unstable_now();j=H;var X=!0;try{X=E(!0,H)}finally{X?S():(O=!1,E=null)}}else O=!1}var S;if(typeof v=="function")S=function(){v(P)};else if(typeof MessageChannel!="undefined"){var xt=new MessageChannel,Mn=xt.port2;xt.port1.onmessage=P,S=function(){Mn.postMessage(null)}}else S=function(){I(P,0)};function Fr(H){E=H,O||(O=!0,S())}function Jt(H,X){b=I(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){k||y||(k=!0,Fr(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var re=g;g=X;try{return H()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=g;g=H;try{return X()}finally{g=re}},t.unstable_scheduleCallback=function(H,X,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,H){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=re+fe,H={id:f++,callback:X,priorityLevel:H,startTime:re,expirationTime:fe,sortIndex:-1},re>ve?(H.sortIndex=re,e(h,H),n(u)===null&&H===n(h)&&(x?(_(b),b=-1):x=!0,Jt(C,re-ve))):(H.sortIndex=fe,e(u,H),k||y||(k=!0,Fr(D))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var X=g;return function(){var re=g;g=X;try{return H.apply(this,arguments)}finally{g=re}}}})(by);_y.exports=by;var _b=_y.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb=R,Ot=_b;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iy=new Set,mo={};function hs(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(mo[t]=e,t=0;t<e.length;t++)Iy.add(e[t])}var Hn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ah=Object.prototype.hasOwnProperty,Ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vp={},wp={};function kb(t){return ah.call(wp,t)?!0:ah.call(vp,t)?!1:Ib.test(t)?wp[t]=!0:(vp[t]=!0,!1)}function Nb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Eb(t,e,n,r){if(e===null||typeof e=="undefined"||Nb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Md=/[\-:]([a-z])/g;function Dd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Md,Dd);it[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Md,Dd);it[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Md,Dd);it[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ld(t,e,n,r){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Eb(e,n,s,r)&&(n=null),r||s===null?kb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=bb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),Ss=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Vd=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Ny=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),Fd=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Ey=Symbol.for("react.offscreen"),_p=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=_p&&t[_p]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,vu;function Gi(t){if(vu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vu=e&&e[1]||""}return`
`+vu+t}var wu=!1;function _u(t,e){if(!t||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function Tb(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=_u(t.type,!1),t;case 11:return t=_u(t.type.render,!1),t;case 1:return t=_u(t.type,!0),t;default:return""}}function hh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case Ss:return"Portal";case lh:return"Profiler";case Vd:return"StrictMode";case ch:return"Suspense";case uh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ny:return(t.displayName||"Context")+".Consumer";case ky:return(t._context.displayName||"Context")+".Provider";case Od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fd:return e=t.displayName||null,e!==null?e:hh(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return hh(t(e))}catch(n){}}return null}function jb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hh(e);case 8:return e===Vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ty(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sb(t){var e=Ty(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ba(t){t._valueTracker||(t._valueTracker=Sb(t))}function jy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ty(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function dh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sy(t,e){e=e.checked,e!=null&&Ld(t,"checked",e,!1)}function fh(t,e){Sy(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&mh(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ip(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mh(t,e,n){(e!=="number"||pl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zi=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Zi(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function Cy(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Np(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ay(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ay(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ia,Ry=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cb=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(t){Cb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yi[e]=Yi[t]})});function Py(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yi.hasOwnProperty(t)&&Yi[t]?(""+e).trim():e+"px"}function My(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Py(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ab=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(t,e){if(e){if(Ab[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=null;function Ud(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wh=null,zs=null,$s=null;function Ep(t){if(t=Wo(t)){if(typeof wh!="function")throw Error(z(280));var e=t.stateNode;e&&(e=hc(e),wh(t.stateNode,t.type,e))}}function Dy(t){zs?$s?$s.push(t):$s=[t]:zs=t}function Ly(){if(zs){var t=zs,e=$s;if($s=zs=null,Ep(t),e)for(t=0;t<e.length;t++)Ep(e[t])}}function Vy(t,e){return t(e)}function Oy(){}var bu=!1;function Fy(t,e,n){if(bu)return t(e,n);bu=!0;try{return Vy(t,e,n)}finally{bu=!1,(zs!==null||$s!==null)&&(Oy(),Ly())}}function go(t,e){var n=t.stateNode;if(n===null)return null;var r=hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var _h=!1;if(Hn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch(t){_h=!1}function Rb(t,e,n,r,s,i,o,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var eo=!1,gl=null,yl=!1,bh=null,Pb={onError:function(t){eo=!0,gl=t}};function Mb(t,e,n,r,s,i,o,c,u){eo=!1,gl=null,Rb.apply(Pb,arguments)}function Db(t,e,n,r,s,i,o,c,u){if(Mb.apply(this,arguments),eo){if(eo){var h=gl;eo=!1,gl=null}else throw Error(z(198));yl||(yl=!0,bh=h)}}function ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tp(t){if(ds(t)!==t)throw Error(z(188))}function Lb(t){var e=t.alternate;if(!e){if(e=ds(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tp(s),t;if(i===r)return Tp(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function By(t){return t=Lb(t),t!==null?zy(t):null}function zy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zy(t);if(e!==null)return e;t=t.sibling}return null}var $y=Ot.unstable_scheduleCallback,jp=Ot.unstable_cancelCallback,Vb=Ot.unstable_shouldYield,Ob=Ot.unstable_requestPaint,Fe=Ot.unstable_now,Fb=Ot.unstable_getCurrentPriorityLevel,Bd=Ot.unstable_ImmediatePriority,Hy=Ot.unstable_UserBlockingPriority,xl=Ot.unstable_NormalPriority,Ub=Ot.unstable_LowPriority,Wy=Ot.unstable_IdlePriority,ac=null,gn=null;function Bb(t){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch(e){}}var an=Math.clz32?Math.clz32:Hb,zb=Math.log,$b=Math.LN2;function Hb(t){return t>>>=0,t===0?32:31-(zb(t)/$b|0)|0}var ka=64,Na=4194304;function qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=qi(c):(i&=o,i!==0&&(r=qi(i)))}else o=n&~s,o!==0?r=qi(o):i!==0&&(r=qi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),s=1<<n,r|=t[n],e&=~s;return r}function Wb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-an(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=Wb(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function Ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gy(){var t=ka;return ka<<=1,!(ka&4194240)&&(ka=64),t}function Iu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $o(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function Zb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-an(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function zd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var me=0;function Zy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qy,$d,Qy,Ky,Jy,kh=!1,Ea=[],hr=null,dr=null,fr=null,yo=new Map,xo=new Map,or=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(e.pointerId)}}function Oi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wo(e),e!==null&&$d(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Qb(t,e,n,r,s){switch(e){case"focusin":return hr=Oi(hr,t,e,n,r,s),!0;case"dragenter":return dr=Oi(dr,t,e,n,r,s),!0;case"mouseover":return fr=Oi(fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yo.set(i,Oi(yo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xo.set(i,Oi(xo.get(i)||null,t,e,n,r,s)),!0}return!1}function Xy(t){var e=qr(t.target);if(e!==null){var n=ds(e);if(n!==null){if(e=n.tag,e===13){if(e=Uy(n),e!==null){t.blockedOn=e,Jy(t.priority,function(){Qy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Za(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vh=r,n.target.dispatchEvent(r),vh=null}else return e=Wo(n),e!==null&&$d(e),t.blockedOn=n,!1;e.shift()}return!0}function Cp(t,e,n){Za(t)&&n.delete(e)}function Kb(){kh=!1,hr!==null&&Za(hr)&&(hr=null),dr!==null&&Za(dr)&&(dr=null),fr!==null&&Za(fr)&&(fr=null),yo.forEach(Cp),xo.forEach(Cp)}function Fi(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,Kb)))}function vo(t){function e(s){return Fi(s,t)}if(0<Ea.length){Fi(Ea[0],t);for(var n=1;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Fi(hr,t),dr!==null&&Fi(dr,t),fr!==null&&Fi(fr,t),yo.forEach(e),xo.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)Xy(n),n.blockedOn===null&&or.shift()}var Hs=Xn.ReactCurrentBatchConfig,wl=!0;function Jb(t,e,n,r){var s=me,i=Hs.transition;Hs.transition=null;try{me=1,Hd(t,e,n,r)}finally{me=s,Hs.transition=i}}function Xb(t,e,n,r){var s=me,i=Hs.transition;Hs.transition=null;try{me=4,Hd(t,e,n,r)}finally{me=s,Hs.transition=i}}function Hd(t,e,n,r){if(wl){var s=Nh(t,e,n,r);if(s===null)Pu(t,e,r,_l,n),Sp(t,r);else if(Qb(s,t,e,n,r))r.stopPropagation();else if(Sp(t,r),e&4&&-1<qb.indexOf(t)){for(;s!==null;){var i=Wo(s);if(i!==null&&qy(i),i=Nh(t,e,n,r),i===null&&Pu(t,e,r,_l,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pu(t,e,r,null,n)}}var _l=null;function Nh(t,e,n,r){if(_l=null,t=Ud(r),t=qr(t),t!==null)if(e=ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _l=t,null}function Yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fb()){case Bd:return 1;case Hy:return 4;case xl:case Ub:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var lr=null,Wd=null,qa=null;function ex(){if(qa)return qa;var t,e=Wd,n=e.length,r,s="value"in lr?lr.value:lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qa=s.slice(t,1<r?1-r:void 0)}function Qa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ta(){return!0}function Ap(){return!1}function Ut(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ta:Ap,this.isPropagationStopped=Ap,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),e}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Ut(fi),Ho=Se({},fi,{view:0,detail:0}),Yb=Ut(Ho),ku,Nu,Ui,lc=Se({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(ku=t.screenX-Ui.screenX,Nu=t.screenY-Ui.screenY):Nu=ku=0,Ui=t),ku)},movementY:function(t){return"movementY"in t?t.movementY:Nu}}),Rp=Ut(lc),e2=Se({},lc,{dataTransfer:0}),t2=Ut(e2),n2=Se({},Ho,{relatedTarget:0}),Eu=Ut(n2),r2=Se({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),s2=Ut(r2),i2=Se({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o2=Ut(i2),a2=Se({},fi,{data:0}),Pp=Ut(a2),l2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u2[t])?!!e[t]:!1}function Zd(){return h2}var d2=Se({},Ho,{key:function(t){if(t.key){var e=l2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(t){return t.type==="keypress"?Qa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f2=Ut(d2),m2=Se({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=Ut(m2),p2=Se({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),g2=Ut(p2),y2=Se({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x2=Ut(y2),v2=Se({},lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w2=Ut(v2),_2=[9,13,27,32],qd=Hn&&"CompositionEvent"in window,to=null;Hn&&"documentMode"in document&&(to=document.documentMode);var b2=Hn&&"TextEvent"in window&&!to,tx=Hn&&(!qd||to&&8<to&&11>=to),Dp=" ",Lp=!1;function nx(t,e){switch(t){case"keyup":return _2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function I2(t,e){switch(t){case"compositionend":return rx(e);case"keypress":return e.which!==32?null:(Lp=!0,Dp);case"textInput":return t=e.data,t===Dp&&Lp?null:t;default:return null}}function k2(t,e){if(As)return t==="compositionend"||!qd&&nx(t,e)?(t=ex(),qa=Wd=lr=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tx&&e.locale!=="ko"?null:e.data;default:return null}}var N2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N2[t.type]:e==="textarea"}function sx(t,e,n,r){Dy(r),e=bl(e,"onChange"),0<e.length&&(n=new Gd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var no=null,wo=null;function E2(t){px(t,0)}function cc(t){var e=Ms(t);if(jy(e))return t}function T2(t,e){if(t==="change")return e}var ix=!1;if(Hn){var Tu;if(Hn){var ju="oninput"in document;if(!ju){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),ju=typeof Op.oninput=="function"}Tu=ju}else Tu=!1;ix=Tu&&(!document.documentMode||9<document.documentMode)}function Fp(){no&&(no.detachEvent("onpropertychange",ox),wo=no=null)}function ox(t){if(t.propertyName==="value"&&cc(wo)){var e=[];sx(e,wo,t,Ud(t)),Fy(E2,e)}}function j2(t,e,n){t==="focusin"?(Fp(),no=e,wo=n,no.attachEvent("onpropertychange",ox)):t==="focusout"&&Fp()}function S2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(wo)}function C2(t,e){if(t==="click")return cc(e)}function A2(t,e){if(t==="input"||t==="change")return cc(e)}function R2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:R2;function _o(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ah.call(e,s)||!cn(t[s],e[s]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,e){var n=Up(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Up(n)}}function ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lx(){for(var t=window,e=pl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=pl(t.document)}return e}function Qd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function P2(t){var e=lx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ax(n.ownerDocument.documentElement,n)){if(r!==null&&Qd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Bp(n,i);var o=Bp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M2=Hn&&"documentMode"in document&&11>=document.documentMode,Rs=null,Eh=null,ro=null,Th=!1;function zp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Th||Rs==null||Rs!==pl(r)||(r=Rs,"selectionStart"in r&&Qd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&_o(ro,r)||(ro=r,r=bl(Eh,"onSelect"),0<r.length&&(e=new Gd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rs)))}function ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ps={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Su={},cx={};Hn&&(cx=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function uc(t){if(Su[t])return Su[t];if(!Ps[t])return t;var e=Ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cx)return Su[t]=e[n];return t}var ux=uc("animationend"),hx=uc("animationiteration"),dx=uc("animationstart"),fx=uc("transitionend"),mx=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){mx.set(t,e),hs(e,[t])}for(var Cu=0;Cu<$p.length;Cu++){var Au=$p[Cu],D2=Au.toLowerCase(),L2=Au[0].toUpperCase()+Au.slice(1);Pr(D2,"on"+L2)}Pr(ux,"onAnimationEnd");Pr(hx,"onAnimationIteration");Pr(dx,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(fx,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Hp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Db(r,e,void 0,t),t.currentTarget=null}function px(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;Hp(s,c,h),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,h=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;Hp(s,c,h),i=u}}}if(yl)throw t=bh,yl=!1,bh=null,t}function _e(t,e){var n=e[Rh];n===void 0&&(n=e[Rh]=new Set);var r=t+"__bubble";n.has(r)||(gx(e,t,2,!1),n.add(r))}function Ru(t,e,n){var r=0;e&&(r|=4),gx(n,t,r,e)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function bo(t){if(!t[Sa]){t[Sa]=!0,Iy.forEach(function(n){n!=="selectionchange"&&(V2.has(n)||Ru(n,!1,t),Ru(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sa]||(e[Sa]=!0,Ru("selectionchange",!1,e))}}function gx(t,e,n,r){switch(Yy(e)){case 1:var s=Jb;break;case 4:s=Xb;break;default:s=Hd}n=s.bind(null,e,n,t),s=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=qr(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}Fy(function(){var h=i,f=Ud(n),p=[];e:{var g=mx.get(t);if(g!==void 0){var y=Gd,k=t;switch(t){case"keypress":if(Qa(n)===0)break e;case"keydown":case"keyup":y=f2;break;case"focusin":k="focus",y=Eu;break;case"focusout":k="blur",y=Eu;break;case"beforeblur":case"afterblur":y=Eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=t2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=g2;break;case ux:case hx:case dx:y=s2;break;case fx:y=x2;break;case"scroll":y=Yb;break;case"wheel":y=w2;break;case"copy":case"cut":case"paste":y=o2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mp}var x=(e&4)!==0,I=!x&&t==="scroll",_=x?g!==null?g+"Capture":null:g;x=[];for(var v=h,N;v!==null;){N=v;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,_!==null&&(C=go(v,_),C!=null&&x.push(Io(v,C,N)))),I)break;v=v.return}0<x.length&&(g=new y(g,k,null,n,f),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==vh&&(k=n.relatedTarget||n.fromElement)&&(qr(k)||k[Wn]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=h,k=k?qr(k):null,k!==null&&(I=ds(k),k!==I||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=h),y!==k)){if(x=Rp,C="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Mp,C="onPointerLeave",_="onPointerEnter",v="pointer"),I=y==null?g:Ms(y),N=k==null?g:Ms(k),g=new x(C,v+"leave",y,n,f),g.target=I,g.relatedTarget=N,C=null,qr(f)===h&&(x=new x(_,v+"enter",k,n,f),x.target=N,x.relatedTarget=I,C=x),I=C,y&&k)t:{for(x=y,_=k,v=0,N=x;N;N=ks(N))v++;for(N=0,C=_;C;C=ks(C))N++;for(;0<v-N;)x=ks(x),v--;for(;0<N-v;)_=ks(_),N--;for(;v--;){if(x===_||_!==null&&x===_.alternate)break t;x=ks(x),_=ks(_)}x=null}else x=null;y!==null&&Wp(p,g,y,x,!1),k!==null&&I!==null&&Wp(p,I,k,x,!0)}}e:{if(g=h?Ms(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var D=T2;else if(Vp(g))if(ix)D=A2;else{D=S2;var O=j2}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=C2);if(D&&(D=D(t,h))){sx(p,D,n,f);break e}O&&O(t,g,h),t==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&mh(g,"number",g.value)}switch(O=h?Ms(h):window,t){case"focusin":(Vp(O)||O.contentEditable==="true")&&(Rs=O,Eh=h,ro=null);break;case"focusout":ro=Eh=Rs=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,zp(p,n,f);break;case"selectionchange":if(M2)break;case"keydown":case"keyup":zp(p,n,f)}var E;if(qd)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else As?nx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(tx&&n.locale!=="ko"&&(As||b!=="onCompositionStart"?b==="onCompositionEnd"&&As&&(E=ex()):(lr=f,Wd="value"in lr?lr.value:lr.textContent,As=!0)),O=bl(h,b),0<O.length&&(b=new Pp(b,t,null,n,f),p.push({event:b,listeners:O}),E?b.data=E:(E=rx(n),E!==null&&(b.data=E)))),(E=b2?I2(t,n):k2(t,n))&&(h=bl(h,"onBeforeInput"),0<h.length&&(f=new Pp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=E))}px(p,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=go(t,n),i!=null&&r.unshift(Io(t,i,s)),i=go(t,e),i!=null&&r.push(Io(t,i,s))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,s?(u=go(n,i),u!=null&&o.unshift(Io(n,u,c))):s||(u=go(n,i),u!=null&&o.push(Io(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var O2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(O2,`
`).replace(F2,"")}function Ca(t,e,n){if(e=Gp(e),Gp(t)!==e&&n)throw Error(z(425))}function Il(){}var jh=null,Sh=null;function Ch(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,U2=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,B2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp!="undefined"?function(t){return Zp.resolve(null).then(t).catch(z2)}:Ah;function z2(t){setTimeout(function(){throw t})}function Mu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vo(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mi=Math.random().toString(36).slice(2),pn="__reactFiber$"+mi,ko="__reactProps$"+mi,Wn="__reactContainer$"+mi,Rh="__reactEvents$"+mi,$2="__reactListeners$"+mi,H2="__reactHandles$"+mi;function qr(t){var e=t[pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wn]||n[pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qp(t);t!==null;){if(n=t[pn])return n;t=qp(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[pn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function hc(t){return t[ko]||null}var Ph=[],Ds=-1;function Mr(t){return{current:t}}function Ie(t){0>Ds||(t.current=Ph[Ds],Ph[Ds]=null,Ds--)}function xe(t,e){Ds++,Ph[Ds]=t.current,t.current=e}var Er={},yt=Mr(Er),St=Mr(!1),ns=Er;function Xs(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(t){return t=t.childContextTypes,t!=null}function kl(){Ie(St),Ie(yt)}function Qp(t,e,n){if(yt.current!==Er)throw Error(z(168));xe(yt,e),xe(St,n)}function yx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,jb(t)||"Unknown",s));return Se({},n,r)}function Nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,ns=yt.current,xe(yt,t),xe(St,St.current),!0}function Kp(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=yx(t,e,ns),r.__reactInternalMemoizedMergedChildContext=t,Ie(St),Ie(yt),xe(yt,t)):Ie(St),xe(St,n)}var On=null,dc=!1,Du=!1;function xx(t){On===null?On=[t]:On.push(t)}function W2(t){dc=!0,xx(t)}function Dr(){if(!Du&&On!==null){Du=!0;var t=0,e=me;try{var n=On;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,dc=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),$y(Bd,Dr),s}finally{me=e,Du=!1}}return null}var Ls=[],Vs=0,El=null,Tl=0,$t=[],Ht=0,rs=null,Fn=1,Un="";function Wr(t,e){Ls[Vs++]=Tl,Ls[Vs++]=El,El=t,Tl=e}function vx(t,e,n){$t[Ht++]=Fn,$t[Ht++]=Un,$t[Ht++]=rs,rs=t;var r=Fn;t=Un;var s=32-an(r)-1;r&=~(1<<s),n+=1;var i=32-an(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-an(e)+s|n<<s|r,Un=i+t}else Fn=1<<i|n<<s|r,Un=t}function Kd(t){t.return!==null&&(Wr(t,1),vx(t,1,0))}function Jd(t){for(;t===El;)El=Ls[--Vs],Ls[Vs]=null,Tl=Ls[--Vs],Ls[Vs]=null;for(;t===rs;)rs=$t[--Ht],$t[Ht]=null,Un=$t[--Ht],$t[Ht]=null,Fn=$t[--Ht],$t[Ht]=null}var Vt=null,Lt=null,ke=!1,rn=null;function wx(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Lt=null,!0):!1;default:return!1}}function Mh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(ke){var e=Lt;if(e){var n=e;if(!Jp(t,e)){if(Mh(t))throw Error(z(418));e=mr(n.nextSibling);var r=Vt;e&&Jp(t,e)?wx(r,n):(t.flags=t.flags&-4097|2,ke=!1,Vt=t)}}else{if(Mh(t))throw Error(z(418));t.flags=t.flags&-4097|2,ke=!1,Vt=t}}}function Xp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Aa(t){if(t!==Vt)return!1;if(!ke)return Xp(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ch(t.type,t.memoizedProps)),e&&(e=Lt)){if(Mh(t))throw _x(),Error(z(418));for(;e;)wx(t,e),e=mr(e.nextSibling)}if(Xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Vt?mr(t.stateNode.nextSibling):null;return!0}function _x(){for(var t=Lt;t;)t=mr(t.nextSibling)}function Ys(){Lt=Vt=null,ke=!1}function Xd(t){rn===null?rn=[t]:rn.push(t)}var G2=Xn.ReactCurrentBatchConfig;function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ra(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yp(t){var e=t._init;return e(t._payload)}function bx(t){function e(_,v){if(t){var N=_.deletions;N===null?(_.deletions=[v],_.flags|=16):N.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=xr(_,v),_.index=0,_.sibling=null,_}function i(_,v,N){return _.index=N,t?(N=_.alternate,N!==null?(N=N.index,N<v?(_.flags|=2,v):N):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,v,N,C){return v===null||v.tag!==6?(v=zu(N,_.mode,C),v.return=_,v):(v=s(v,N),v.return=_,v)}function u(_,v,N,C){var D=N.type;return D===Cs?f(_,v,N.props.children,C,N.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===sr&&Yp(D)===v.type)?(C=s(v,N.props),C.ref=Bi(_,v,N),C.return=_,C):(C=nl(N.type,N.key,N.props,null,_.mode,C),C.ref=Bi(_,v,N),C.return=_,C)}function h(_,v,N,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=$u(N,_.mode,C),v.return=_,v):(v=s(v,N.children||[]),v.return=_,v)}function f(_,v,N,C,D){return v===null||v.tag!==7?(v=es(N,_.mode,C,D),v.return=_,v):(v=s(v,N),v.return=_,v)}function p(_,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zu(""+v,_.mode,N),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _a:return N=nl(v.type,v.key,v.props,null,_.mode,N),N.ref=Bi(_,null,v),N.return=_,N;case Ss:return v=$u(v,_.mode,N),v.return=_,v;case sr:var C=v._init;return p(_,C(v._payload),N)}if(Zi(v)||Li(v))return v=es(v,_.mode,N,null),v.return=_,v;Ra(_,v)}return null}function g(_,v,N,C){var D=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return D!==null?null:c(_,v,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _a:return N.key===D?u(_,v,N,C):null;case Ss:return N.key===D?h(_,v,N,C):null;case sr:return D=N._init,g(_,v,D(N._payload),C)}if(Zi(N)||Li(N))return D!==null?null:f(_,v,N,C,null);Ra(_,N)}return null}function y(_,v,N,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(N)||null,c(v,_,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _a:return _=_.get(C.key===null?N:C.key)||null,u(v,_,C,D);case Ss:return _=_.get(C.key===null?N:C.key)||null,h(v,_,C,D);case sr:var O=C._init;return y(_,v,N,O(C._payload),D)}if(Zi(C)||Li(C))return _=_.get(N)||null,f(v,_,C,D,null);Ra(v,C)}return null}function k(_,v,N,C){for(var D=null,O=null,E=v,b=v=0,T=null;E!==null&&b<N.length;b++){E.index>b?(T=E,E=null):T=E.sibling;var j=g(_,E,N[b],C);if(j===null){E===null&&(E=T);break}t&&E&&j.alternate===null&&e(_,E),v=i(j,v,b),O===null?D=j:O.sibling=j,O=j,E=T}if(b===N.length)return n(_,E),ke&&Wr(_,b),D;if(E===null){for(;b<N.length;b++)E=p(_,N[b],C),E!==null&&(v=i(E,v,b),O===null?D=E:O.sibling=E,O=E);return ke&&Wr(_,b),D}for(E=r(_,E);b<N.length;b++)T=y(E,_,b,N[b],C),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?b:T.key),v=i(T,v,b),O===null?D=T:O.sibling=T,O=T);return t&&E.forEach(function(A){return e(_,A)}),ke&&Wr(_,b),D}function x(_,v,N,C){var D=Li(N);if(typeof D!="function")throw Error(z(150));if(N=D.call(N),N==null)throw Error(z(151));for(var O=D=null,E=v,b=v=0,T=null,j=N.next();E!==null&&!j.done;b++,j=N.next()){E.index>b?(T=E,E=null):T=E.sibling;var A=g(_,E,j.value,C);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(_,E),v=i(A,v,b),O===null?D=A:O.sibling=A,O=A,E=T}if(j.done)return n(_,E),ke&&Wr(_,b),D;if(E===null){for(;!j.done;b++,j=N.next())j=p(_,j.value,C),j!==null&&(v=i(j,v,b),O===null?D=j:O.sibling=j,O=j);return ke&&Wr(_,b),D}for(E=r(_,E);!j.done;b++,j=N.next())j=y(E,_,b,j.value,C),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?b:j.key),v=i(j,v,b),O===null?D=j:O.sibling=j,O=j);return t&&E.forEach(function(P){return e(_,P)}),ke&&Wr(_,b),D}function I(_,v,N,C){if(typeof N=="object"&&N!==null&&N.type===Cs&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _a:e:{for(var D=N.key,O=v;O!==null;){if(O.key===D){if(D=N.type,D===Cs){if(O.tag===7){n(_,O.sibling),v=s(O,N.props.children),v.return=_,_=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===sr&&Yp(D)===O.type){n(_,O.sibling),v=s(O,N.props),v.ref=Bi(_,O,N),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}N.type===Cs?(v=es(N.props.children,_.mode,C,N.key),v.return=_,_=v):(C=nl(N.type,N.key,N.props,null,_.mode,C),C.ref=Bi(_,v,N),C.return=_,_=C)}return o(_);case Ss:e:{for(O=N.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(_,v.sibling),v=s(v,N.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=$u(N,_.mode,C),v.return=_,_=v}return o(_);case sr:return O=N._init,I(_,v,O(N._payload),C)}if(Zi(N))return k(_,v,N,C);if(Li(N))return x(_,v,N,C);Ra(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,N),v.return=_,_=v):(n(_,v),v=zu(N,_.mode,C),v.return=_,_=v),o(_)):n(_,v)}return I}var ei=bx(!0),Ix=bx(!1),jl=Mr(null),Sl=null,Os=null,Yd=null;function ef(){Yd=Os=Sl=null}function tf(t){var e=jl.current;Ie(jl),t._currentValue=e}function Lh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){Sl=t,Yd=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Yd!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(Sl===null)throw Error(z(308));Os=t,Sl.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Qr=null;function nf(t){Qr===null?Qr=[t]:Qr.push(t)}function kx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gn(t,n)}return s=r.interleaved,s===null?(e.next=e,nf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gn(t,n)}function Ka(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}function eg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cl(t,e,n,r){var s=t.updateQueue;ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,f=h=u=null,c=i;do{var g=c.lane,y=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=t,x=c;switch(g=e,y=n,x.tag){case 1:if(k=x.payload,typeof k=="function"){p=k.call(y,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=x.payload,g=typeof k=="function"?k.call(y,p,g):k,g==null)break e;p=Se({},p,g);break e;case 2:ir=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else y={eventTime:y,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=y,u=p):f=f.next=y,o|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=p}}function tg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Go={},yn=Mr(Go),No=Mr(Go),Eo=Mr(Go);function Kr(t){if(t===Go)throw Error(z(174));return t}function sf(t,e){switch(xe(Eo,e),xe(No,t),xe(yn,Go),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gh(e,t)}Ie(yn),xe(yn,e)}function ti(){Ie(yn),Ie(No),Ie(Eo)}function Ex(t){Kr(Eo.current);var e=Kr(yn.current),n=gh(e,t.type);e!==n&&(xe(No,t),xe(yn,n))}function of(t){No.current===t&&(Ie(yn),Ie(No))}var Ee=Mr(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lu=[];function af(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var Ja=Xn.ReactCurrentDispatcher,Vu=Xn.ReactCurrentBatchConfig,ss=0,Te=null,He=null,Je=null,Rl=!1,so=!1,To=0,Z2=0;function ut(){throw Error(z(321))}function lf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function cf(t,e,n,r,s,i){if(ss=i,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?J2:X2,t=n(r,s),so){i=0;do{if(so=!1,To=0,25<=i)throw Error(z(301));i+=1,Je=He=null,e.updateQueue=null,Ja.current=Y2,t=n(r,s)}while(so)}if(Ja.current=Pl,e=He!==null&&He.next!==null,ss=0,Je=He=Te=null,Rl=!1,e)throw Error(z(300));return t}function uf(){var t=To!==0;return To=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Te.memoizedState=Je=t:Je=Je.next=t,Je}function Kt(){if(He===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Je===null?Te.memoizedState:Je.next;if(e!==null)Je=e,He=t;else{if(t===null)throw Error(z(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Te.memoizedState=Je=t:Je=Je.next=t}return Je}function jo(t,e){return typeof e=="function"?e(t):e}function Ou(t){var e=Kt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=He,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,h=i;do{var f=h.lane;if((ss&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,Te.lanes|=f,is|=f}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=c,cn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Te.lanes|=i,is|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fu(t){var e=Kt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);cn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Tx(){}function jx(t,e){var n=Te,r=Kt(),s=e(),i=!cn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,hf(Ax.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,So(9,Cx.bind(null,n,r,s,e),void 0,null),Xe===null)throw Error(z(349));ss&30||Sx(n,e,s)}return s}function Sx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cx(t,e,n,r){e.value=n,e.getSnapshot=r,Rx(e)&&Px(t)}function Ax(t,e,n){return n(function(){Rx(e)&&Px(t)})}function Rx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch(r){return!0}}function Px(t){var e=Gn(t,1);e!==null&&ln(e,t,1,-1)}function ng(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},e.queue=t,t=t.dispatch=K2.bind(null,Te,t),[e.memoizedState,t]}function So(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mx(){return Kt().memoizedState}function Xa(t,e,n,r){var s=fn();Te.flags|=t,s.memoizedState=So(1|e,n,void 0,r===void 0?null:r)}function fc(t,e,n,r){var s=Kt();r=r===void 0?null:r;var i=void 0;if(He!==null){var o=He.memoizedState;if(i=o.destroy,r!==null&&lf(r,o.deps)){s.memoizedState=So(e,n,i,r);return}}Te.flags|=t,s.memoizedState=So(1|e,n,i,r)}function rg(t,e){return Xa(8390656,8,t,e)}function hf(t,e){return fc(2048,8,t,e)}function Dx(t,e){return fc(4,2,t,e)}function Lx(t,e){return fc(4,4,t,e)}function Vx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ox(t,e,n){return n=n!=null?n.concat([t]):null,fc(4,4,Vx.bind(null,e,t),n)}function df(){}function Fx(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ux(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bx(t,e,n){return ss&21?(cn(n,e)||(n=Gy(),Te.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function q2(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Vu.transition;Vu.transition={};try{t(!1),e()}finally{me=n,Vu.transition=r}}function zx(){return Kt().memoizedState}function Q2(t,e,n){var r=yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$x(t))Hx(e,n);else if(n=kx(t,e,n,r),n!==null){var s=It();ln(n,t,r,s),Wx(n,e,r)}}function K2(t,e,n){var r=yr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($x(t))Hx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,cn(c,o)){var u=e.interleaved;u===null?(s.next=s,nf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch(h){}finally{}n=kx(t,e,s,r),n!==null&&(s=It(),ln(n,t,r,s),Wx(n,e,r))}}function $x(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Hx(t,e){so=Rl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Wx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}var Pl={readContext:Qt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},J2={readContext:Qt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xa(4194308,4,Vx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xa(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q2.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:ng,useDebugValue:df,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=ng(!1),e=t[0];return t=q2.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,s=fn();if(ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Xe===null)throw Error(z(349));ss&30||Sx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rg(Ax.bind(null,r,i,t),[t]),r.flags|=2048,So(9,Cx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fn(),e=Xe.identifierPrefix;if(ke){var n=Un,r=Fn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=To++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X2={readContext:Qt,useCallback:Fx,useContext:Qt,useEffect:hf,useImperativeHandle:Ox,useInsertionEffect:Dx,useLayoutEffect:Lx,useMemo:Ux,useReducer:Ou,useRef:Mx,useState:function(){return Ou(jo)},useDebugValue:df,useDeferredValue:function(t){var e=Kt();return Bx(e,He.memoizedState,t)},useTransition:function(){var t=Ou(jo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:jx,useId:zx,unstable_isNewReconciler:!1},Y2={readContext:Qt,useCallback:Fx,useContext:Qt,useEffect:hf,useImperativeHandle:Ox,useInsertionEffect:Dx,useLayoutEffect:Lx,useMemo:Ux,useReducer:Fu,useRef:Mx,useState:function(){return Fu(jo)},useDebugValue:df,useDeferredValue:function(t){var e=Kt();return He===null?e.memoizedState=t:Bx(e,He.memoizedState,t)},useTransition:function(){var t=Fu(jo)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:jx,useId:zx,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=yr(t),i=zn(r,s);i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(ln(e,t,s,r),Ka(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=yr(t),i=zn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(ln(e,t,s,r),Ka(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=yr(t),s=zn(n,r);s.tag=2,e!=null&&(s.callback=e),e=pr(t,s,r),e!==null&&(ln(e,t,r,n),Ka(e,t,r))}};function sg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_o(n,r)||!_o(s,i):!0}function Gx(t,e,n){var r=!1,s=Er,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Ct(e)?ns:yt.current,r=e.contextTypes,i=(r=r!=null)?Xs(t,s):Er),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ig(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function Oh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Ct(e)?ns:yt.current,s.context=Xs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mc.enqueueReplaceState(s,s.state,null),Cl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ni(t,e){try{var n="",r=e;do n+=Tb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Uu(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Fh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function Zx(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dl||(Dl=!0,Qh=r),Fh(t,e)},n}function qx(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fh(t,e),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function og(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mI.bind(null,t,e,n),e.then(t,t))}function ag(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var tI=Xn.ReactCurrentOwner,jt=!1;function _t(t,e,n,r){e.child=t===null?Ix(e,null,n,r):ei(e,t.child,n,r)}function cg(t,e,n,r,s){n=n.render;var i=e.ref;return Ws(e,s),r=cf(t,e,n,r,i,s),n=uf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zn(t,e,s)):(ke&&n&&Kd(e),e.flags|=1,_t(t,e,r,s),e.child)}function ug(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Qx(t,e,i,r,s)):(t=nl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(o,r)&&t.ref===e.ref)return Zn(t,e,s)}return e.flags|=1,t=xr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Qx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_o(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Zn(t,e,s)}return Uh(t,e,n,r,s)}function Kx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Us,Dt),Dt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(Us,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(Us,Dt),Dt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,xe(Us,Dt),Dt|=r;return _t(t,e,s,n),e.child}function Jx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uh(t,e,n,r,s){var i=Ct(n)?ns:yt.current;return i=Xs(e,i),Ws(e,s),n=cf(t,e,n,r,i,s),r=uf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zn(t,e,s)):(ke&&r&&Kd(e),e.flags|=1,_t(t,e,n,s),e.child)}function hg(t,e,n,r,s){if(Ct(n)){var i=!0;Nl(e)}else i=!1;if(Ws(e,s),e.stateNode===null)Ya(t,e),Gx(e,n,r),Oh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Qt(h):(h=Ct(n)?ns:yt.current,h=Xs(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==h)&&ig(e,o,r,h),ir=!1;var g=e.memoizedState;o.state=g,Cl(e,r,o,s),u=e.memoizedState,c!==r||g!==u||St.current||ir?(typeof f=="function"&&(Vh(e,n,f,r),u=e.memoizedState),(c=ir||sg(e,n,c,r,g,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Nx(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:tn(e.type,c),o.props=h,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qt(u):(u=Ct(n)?ns:yt.current,u=Xs(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==u)&&ig(e,o,r,u),ir=!1,g=e.memoizedState,o.state=g,Cl(e,r,o,s);var k=e.memoizedState;c!==p||g!==k||St.current||ir?(typeof y=="function"&&(Vh(e,n,y,r),k=e.memoizedState),(h=ir||sg(e,n,h,r,g,k,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Bh(t,e,n,r,i,s)}function Bh(t,e,n,r,s,i){Jx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Kp(e,n,!1),Zn(t,e,i);r=e.stateNode,tI.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ei(e,t.child,null,i),e.child=ei(e,null,c,i)):_t(t,e,c,i),e.memoizedState=r.state,s&&Kp(e,n,!0),e.child}function Xx(t){var e=t.stateNode;e.pendingContext?Qp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qp(t,e.context,!1),sf(t,e.containerInfo)}function dg(t,e,n,r,s){return Ys(),Xd(s),e.flags|=256,_t(t,e,n,r),e.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function $h(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yx(t,e,n){var r=e.pendingProps,s=Ee.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xe(Ee,s&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yc(o,r,0,null),t=es(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$h(n),e.memoizedState=zh,t):ff(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return nI(t,e,o,r,c,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=xr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=xr(c,i):(i=es(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?$h(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zh,r}return i=t.child,t=i.sibling,r=xr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ff(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,n,r){return r!==null&&Xd(r),ei(e,t.child,null,n),t=ff(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Uu(Error(z(422))),Pa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yc({mode:"visible",children:r.children},s,0,null),i=es(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ei(e,t.child,null,o),e.child.memoizedState=$h(o),e.memoizedState=zh,i);if(!(e.mode&1))return Pa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(z(419)),r=Uu(i,r,void 0),Pa(t,e,o,r)}if(c=(o&t.childLanes)!==0,jt||c){if(r=Xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gn(t,s),ln(r,t,s,-1))}return vf(),r=Uu(Error(z(421))),Pa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Lt=mr(s.nextSibling),Vt=e,ke=!0,rn=null,t!==null&&($t[Ht++]=Fn,$t[Ht++]=Un,$t[Ht++]=rs,Fn=t.id,Un=t.overflow,rs=e),e=ff(e,r.children),e.flags|=4096,e)}function fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lh(t.return,e,n)}function Bu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function e1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(_t(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,n,e);else if(t.tag===19)fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Al(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bu(e,!0,n,null,i);break;case"together":Bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ya(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rI(t,e,n){switch(e.tag){case 3:Xx(e),Ys();break;case 5:Ex(e);break;case 1:Ct(e.type)&&Nl(e);break;case 4:sf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xe(jl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Yx(t,e,n):(xe(Ee,Ee.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);xe(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return e1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Kx(t,e,n)}return Zn(t,e,n)}var t1,Hh,n1,r1;t1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hh=function(){};n1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Kr(yn.current);var i=null;switch(n){case"input":s=dh(t,s),r=dh(t,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=ph(t,s),r=ph(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Il)}yh(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(mo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(mo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&_e("scroll",t),i||c===u||(i=[])):(i=i||[]).push(h,u))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};r1=function(t,e,n,r){n!==r&&(e.flags|=4)};function zi(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sI(t,e,n){var r=e.pendingProps;switch(Jd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Ct(e.type)&&kl(),ht(e),null;case 3:return r=e.stateNode,ti(),Ie(St),Ie(yt),af(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Aa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Xh(rn),rn=null))),Hh(t,e),ht(e),null;case 5:of(e);var s=Kr(Eo.current);if(n=e.type,t!==null&&e.stateNode!=null)n1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ht(e),null}if(t=Kr(yn.current),Aa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pn]=e,r[ko]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Qi.length;s++)_e(Qi[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":bp(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":kp(r,i),_e("invalid",r)}yh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ca(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ca(r.textContent,c,t),s=["children",""+c]):mo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":ba(r),Ip(r,i,!0);break;case"textarea":ba(r),Np(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Il)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ay(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pn]=e,t[ko]=r,t1(t,e,!1,!1),e.stateNode=t;e:{switch(o=xh(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qi.length;s++)_e(Qi[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":bp(t,r),s=dh(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),_e("invalid",t);break;case"textarea":kp(t,r),s=ph(t,r),_e("invalid",t);break;default:s=r}yh(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?My(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ry(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&po(t,u):typeof u=="number"&&po(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_e("scroll",t):u!=null&&Ld(t,i,u,o))}switch(n){case"input":ba(t),Ip(t,r,!1);break;case"textarea":ba(t),Np(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(t&&e.stateNode!=null)r1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Kr(Eo.current),Kr(yn.current),Aa(e)){if(r=e.stateNode,n=e.memoizedProps,r[pn]=e,(i=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ca(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ca(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=e,e.stateNode=r}return ht(e),null;case 13:if(Ie(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Lt!==null&&e.mode&1&&!(e.flags&128))_x(),Ys(),e.flags|=98560,i=!1;else if(i=Aa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[pn]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),i=!1}else rn!==null&&(Xh(rn),rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Ge===0&&(Ge=3):vf())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return ti(),Hh(t,e),t===null&&bo(e.stateNode.containerInfo),ht(e),null;case 10:return tf(e.type._context),ht(e),null;case 17:return Ct(e.type)&&kl(),ht(e),null;case 19:if(Ie(Ee),i=e.memoizedState,i===null)return ht(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zi(i,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Al(t),o!==null){for(e.flags|=128,zi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Ee,Ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>ri&&(e.flags|=128,r=!0,zi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return ht(e),null}else 2*Fe()-i.renderingStartTime>ri&&n!==1073741824&&(e.flags|=128,r=!0,zi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=Ee.current,xe(Ee,r?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return xf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function iI(t,e){switch(Jd(e),e.tag){case 1:return Ct(e.type)&&kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ti(),Ie(St),Ie(yt),af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return of(e),null;case 13:if(Ie(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Ee),null;case 4:return ti(),null;case 10:return tf(e.type._context),null;case 22:case 23:return xf(),null;case 24:return null;default:return null}}var Ma=!1,mt=!1,oI=typeof WeakSet=="function"?WeakSet:Set,G=null;function Fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Wh(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var mg=!1;function aI(t,e){if(jh=wl,t=lx(),Qd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(C){n=null;break e}var o=0,c=-1,u=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(c=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++h===s&&(c=o),g===i&&++f===r&&(u=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sh={focusedElem:t,selectionRange:n},wl=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var x=k.memoizedProps,I=k.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:tn(e.type,x),I);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){Pe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return k=mg,mg=!1,k}function io(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wh(e,n,i)}s=s.next}while(s!==r)}}function pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s1(t){var e=t.alternate;e!==null&&(t.alternate=null,s1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pn],delete e[ko],delete e[Rh],delete e[$2],delete e[H2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i1(t){return t.tag===5||t.tag===3||t.tag===4}function pg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Il));else if(r!==4&&(t=t.child,t!==null))for(Zh(t,e,n),t=t.sibling;t!==null;)Zh(t,e,n),t=t.sibling}function qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qh(t,e,n),t=t.sibling;t!==null;)qh(t,e,n),t=t.sibling}var et=null,nn=!1;function rr(t,e,n){for(n=n.child;n!==null;)o1(t,e,n),n=n.sibling}function o1(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ac,n)}catch(c){}switch(n.tag){case 5:mt||Fs(n,e);case 6:var r=et,s=nn;et=null,rr(t,e,n),et=r,nn=s,et!==null&&(nn?(t=et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(nn?(t=et,n=n.stateNode,t.nodeType===8?Mu(t.parentNode,n):t.nodeType===1&&Mu(t,n),vo(t)):Mu(et,n.stateNode));break;case 4:r=et,s=nn,et=n.stateNode.containerInfo,nn=!0,rr(t,e,n),et=r,nn=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wh(n,e,o),s=s.next}while(s!==r)}rr(t,e,n);break;case 1:if(!mt&&(Fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Pe(n,e,c)}rr(t,e,n);break;case 21:rr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,rr(t,e,n),mt=r):rr(t,e,n);break;default:rr(t,e,n)}}function gg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oI),e.forEach(function(r){var s=gI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:et=c.stateNode,nn=!1;break e;case 3:et=c.stateNode.containerInfo,nn=!0;break e;case 4:et=c.stateNode.containerInfo,nn=!0;break e}c=c.return}if(et===null)throw Error(z(160));o1(i,o,s),et=null,nn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){Pe(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a1(e,t),e=e.sibling}function a1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),hn(t),r&4){try{io(3,t,t.return),pc(3,t)}catch(x){Pe(t,t.return,x)}try{io(5,t,t.return)}catch(x){Pe(t,t.return,x)}}break;case 1:en(e,t),hn(t),r&512&&n!==null&&Fs(n,n.return);break;case 5:if(en(e,t),hn(t),r&512&&n!==null&&Fs(n,n.return),t.flags&32){var s=t.stateNode;try{po(s,"")}catch(x){Pe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Sy(s,i),xh(c,o);var h=xh(c,i);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?My(s,p):f==="dangerouslySetInnerHTML"?Ry(s,p):f==="children"?po(s,p):Ld(s,f,p,h)}switch(c){case"input":fh(s,i);break;case"textarea":Cy(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Bs(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Bs(s,!!i.multiple,i.defaultValue,!0):Bs(s,!!i.multiple,i.multiple?[]:"",!1))}s[ko]=i}catch(x){Pe(t,t.return,x)}}break;case 6:if(en(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Pe(t,t.return,x)}}break;case 3:if(en(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(e.containerInfo)}catch(x){Pe(t,t.return,x)}break;case 4:en(e,t),hn(t);break;case 13:en(e,t),hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gf=Fe())),r&4&&gg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(h=mt)||f,en(e,t),mt=h):en(e,t),hn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(p=G=f;G!==null;){switch(g=G,y=g.child,g.tag){case 0:case 11:case 14:case 15:io(4,g,g.return);break;case 1:Fs(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(x){Pe(r,n,x)}}break;case 5:Fs(g,g.return);break;case 22:if(g.memoizedState!==null){xg(p);continue}}y!==null?(y.return=g,G=y):xg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Py("display",o))}catch(x){Pe(t,t.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(x){Pe(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:en(e,t),hn(t),r&4&&gg(t);break;case 21:break;default:en(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(po(s,""),r.flags&=-33);var i=pg(t);qh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=pg(t);Zh(t,c,o);break;default:throw Error(z(161))}}catch(u){Pe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lI(t,e,n){G=t,l1(t)}function l1(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ma;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||mt;c=Ma;var h=mt;if(Ma=o,(mt=u)&&!h)for(G=s;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?vg(s):u!==null?(u.return=o,G=u):vg(s);for(;i!==null;)G=i,l1(i),i=i.sibling;G=s,Ma=c,mt=h}yg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):yg(t)}}function yg(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||pc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tg(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&vo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}mt||e.flags&512&&Gh(e)}catch(g){Pe(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function xg(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function vg(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pc(4,e)}catch(u){Pe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Pe(e,s,u)}}var i=e.return;try{Gh(e)}catch(u){Pe(e,i,u)}break;case 5:var o=e.return;try{Gh(e)}catch(u){Pe(e,o,u)}}}catch(u){Pe(e,e.return,u)}if(e===t){G=null;break}var c=e.sibling;if(c!==null){c.return=e.return,G=c;break}G=e.return}}var cI=Math.ceil,Ml=Xn.ReactCurrentDispatcher,mf=Xn.ReactCurrentOwner,qt=Xn.ReactCurrentBatchConfig,ue=0,Xe=null,Be=null,st=0,Dt=0,Us=Mr(0),Ge=0,Co=null,is=0,gc=0,pf=0,oo=null,Tt=null,gf=0,ri=1/0,Vn=null,Dl=!1,Qh=null,gr=null,Da=!1,cr=null,Ll=0,ao=0,Kh=null,el=-1,tl=0;function It(){return ue&6?Fe():el!==-1?el:el=Fe()}function yr(t){return t.mode&1?ue&2&&st!==0?st&-st:G2.transition!==null?(tl===0&&(tl=Gy()),tl):(t=me,t!==0||(t=window.event,t=t===void 0?16:Yy(t.type)),t):1}function ln(t,e,n,r){if(50<ao)throw ao=0,Kh=null,Error(z(185));$o(t,n,r),(!(ue&2)||t!==Xe)&&(t===Xe&&(!(ue&2)&&(gc|=n),Ge===4&&ar(t,st)),At(t,r),n===1&&ue===0&&!(e.mode&1)&&(ri=Fe()+500,dc&&Dr()))}function At(t,e){var n=t.callbackNode;Gb(t,e);var r=vl(t,t===Xe?st:0);if(r===0)n!==null&&jp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jp(n),e===1)t.tag===0?W2(wg.bind(null,t)):xx(wg.bind(null,t)),B2(function(){!(ue&6)&&Dr()}),n=null;else{switch(Zy(r)){case 1:n=Bd;break;case 4:n=Hy;break;case 16:n=xl;break;case 536870912:n=Wy;break;default:n=xl}n=g1(n,c1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c1(t,e){if(el=-1,tl=0,ue&6)throw Error(z(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=vl(t,t===Xe?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vl(t,r);else{e=r;var s=ue;ue|=2;var i=h1();(Xe!==t||st!==e)&&(Vn=null,ri=Fe()+500,Yr(t,e));do try{dI();break}catch(c){u1(t,c)}while(!0);ef(),Ml.current=i,ue=s,Be!==null?e=0:(Xe=null,st=0,e=Ge)}if(e!==0){if(e===2&&(s=Ih(t),s!==0&&(r=s,e=Jh(t,s))),e===1)throw n=Co,Yr(t,0),ar(t,r),At(t,Fe()),n;if(e===6)ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!uI(s)&&(e=Vl(t,r),e===2&&(i=Ih(t),i!==0&&(r=i,e=Jh(t,i))),e===1))throw n=Co,Yr(t,0),ar(t,r),At(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Gr(t,Tt,Vn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=gf+500-Fe(),10<e)){if(vl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ah(Gr.bind(null,t,Tt,Vn),e);break}Gr(t,Tt,Vn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-an(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cI(r/1960))-r,10<r){t.timeoutHandle=Ah(Gr.bind(null,t,Tt,Vn),r);break}Gr(t,Tt,Vn);break;case 5:Gr(t,Tt,Vn);break;default:throw Error(z(329))}}}return At(t,Fe()),t.callbackNode===n?c1.bind(null,t):null}function Jh(t,e){var n=oo;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=Vl(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Xh(e)),t}function Xh(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function uI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cn(i(),s))return!1}catch(o){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~pf,e&=~gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function wg(t){if(ue&6)throw Error(z(327));Gs();var e=vl(t,0);if(!(e&1))return At(t,Fe()),null;var n=Vl(t,e);if(t.tag!==0&&n===2){var r=Ih(t);r!==0&&(e=r,n=Jh(t,r))}if(n===1)throw n=Co,Yr(t,0),ar(t,e),At(t,Fe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Tt,Vn),At(t,Fe()),null}function yf(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ri=Fe()+500,dc&&Dr())}}function os(t){cr!==null&&cr.tag===0&&!(ue&6)&&Gs();var e=ue;ue|=1;var n=qt.transition,r=me;try{if(qt.transition=null,me=1,t)return t()}finally{me=r,qt.transition=n,ue=e,!(ue&6)&&Dr()}}function xf(){Dt=Us.current,Ie(Us)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U2(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:ti(),Ie(St),Ie(yt),af();break;case 5:of(r);break;case 4:ti();break;case 13:Ie(Ee);break;case 19:Ie(Ee);break;case 10:tf(r.type._context);break;case 22:case 23:xf()}n=n.return}if(Xe=t,Be=t=xr(t.current,null),st=Dt=e,Ge=0,Co=null,pf=gc=is=0,Tt=oo=null,Qr!==null){for(e=0;e<Qr.length;e++)if(n=Qr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qr=null}return t}function u1(t,e){do{var n=Be;try{if(ef(),Ja.current=Pl,Rl){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rl=!1}if(ss=0,Je=He=Te=null,so=!1,To=0,mf.current=null,n===null||n.return===null){Ge=1,Co=e,Be=null;break}e:{var i=t,o=n.return,c=n,u=e;if(e=st,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=ag(o);if(y!==null){y.flags&=-257,lg(y,o,c,i,e),y.mode&1&&og(i,h,e),e=y,u=h;var k=e.updateQueue;if(k===null){var x=new Set;x.add(u),e.updateQueue=x}else k.add(u);break e}else{if(!(e&1)){og(i,h,e),vf();break e}u=Error(z(426))}}else if(ke&&c.mode&1){var I=ag(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),lg(I,o,c,i,e),Xd(ni(u,c));break e}}i=u=ni(u,c),Ge!==4&&(Ge=2),oo===null?oo=[i]:oo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Zx(i,u,e);eg(i,_);break e;case 1:c=u;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(gr===null||!gr.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=qx(i,c,e);eg(i,C);break e}}i=i.return}while(i!==null)}f1(n)}catch(D){e=D,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function h1(){var t=Ml.current;return Ml.current=Pl,t===null?Pl:t}function vf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||!(is&268435455)&&!(gc&268435455)||ar(Xe,st)}function Vl(t,e){var n=ue;ue|=2;var r=h1();(Xe!==t||st!==e)&&(Vn=null,Yr(t,e));do try{hI();break}catch(s){u1(t,s)}while(!0);if(ef(),ue=n,Ml.current=r,Be!==null)throw Error(z(261));return Xe=null,st=0,Ge}function hI(){for(;Be!==null;)d1(Be)}function dI(){for(;Be!==null&&!Vb();)d1(Be)}function d1(t){var e=p1(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?f1(t):Be=e,mf.current=null}function f1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iI(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Be=null;return}}else if(n=sI(n,e,Dt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ge===0&&(Ge=5)}function Gr(t,e,n){var r=me,s=qt.transition;try{qt.transition=null,me=1,fI(t,e,n,r)}finally{qt.transition=s,me=r}return null}function fI(t,e,n,r){do Gs();while(cr!==null);if(ue&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zb(t,i),t===Xe&&(Be=Xe=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Da||(Da=!0,g1(xl,function(){return Gs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var o=me;me=1;var c=ue;ue|=4,mf.current=null,aI(t,n),a1(n,t),P2(Sh),wl=!!jh,Sh=jh=null,t.current=n,lI(n),Ob(),ue=c,me=o,qt.transition=i}else t.current=n;if(Da&&(Da=!1,cr=t,Ll=s),i=t.pendingLanes,i===0&&(gr=null),Bb(n.stateNode),At(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Dl)throw Dl=!1,t=Qh,Qh=null,t;return Ll&1&&t.tag!==0&&Gs(),i=t.pendingLanes,i&1?t===Kh?ao++:(ao=0,Kh=t):ao=0,Dr(),null}function Gs(){if(cr!==null){var t=Zy(Ll),e=qt.transition,n=me;try{if(qt.transition=null,me=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,Ll=0,ue&6)throw Error(z(331));var s=ue;for(ue|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(G=h;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:io(8,f,i)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var g=f.sibling,y=f.return;if(s1(f),f===h){G=null;break}if(g!==null){g.return=y,G=g;break}G=y}}}var k=i.alternate;if(k!==null){var x=k.child;if(x!==null){k.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:io(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,G=_;break e}G=i.return}}var v=t.current;for(G=v;G!==null;){o=G;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,G=N;else e:for(o=v;G!==null;){if(c=G,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:pc(9,c)}}catch(D){Pe(c,c.return,D)}if(c===o){G=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,G=C;break e}G=c.return}}if(ue=s,Dr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ac,t)}catch(D){}r=!0}return r}finally{me=n,qt.transition=e}}return!1}function _g(t,e,n){e=ni(n,e),e=Zx(t,e,1),t=pr(t,e,1),e=It(),t!==null&&($o(t,1,e),At(t,e))}function Pe(t,e,n){if(t.tag===3)_g(t,t,n);else for(;e!==null;){if(e.tag===3){_g(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){t=ni(n,t),t=qx(e,t,1),e=pr(e,t,1),t=It(),e!==null&&($o(e,1,t),At(e,t));break}}e=e.return}}function mI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(st&n)===n&&(Ge===4||Ge===3&&(st&130023424)===st&&500>Fe()-gf?Yr(t,0):pf|=n),At(t,e)}function m1(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=It();t=Gn(t,e),t!==null&&($o(t,e,n),At(t,n))}function pI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),m1(t,n)}function gI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),m1(t,n)}var p1;p1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,rI(t,e,n);jt=!!(t.flags&131072)}else jt=!1,ke&&e.flags&1048576&&vx(e,Tl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ya(t,e),t=e.pendingProps;var s=Xs(e,yt.current);Ws(e,n),s=cf(null,e,r,t,s,n);var i=uf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(i=!0,Nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(e),s.updater=mc,e.stateNode=s,s._reactInternals=e,Oh(e,r,t,n),e=Bh(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&Kd(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ya(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xI(r),t=tn(r,t),s){case 0:e=Uh(null,e,r,t,n);break e;case 1:e=hg(null,e,r,t,n);break e;case 11:e=cg(null,e,r,t,n);break e;case 14:e=ug(null,e,r,tn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Uh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),hg(t,e,r,s,n);case 3:e:{if(Xx(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Nx(t,e),Cl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ni(Error(z(423)),e),e=dg(t,e,r,n,s);break e}else if(r!==s){s=ni(Error(z(424)),e),e=dg(t,e,r,n,s);break e}else for(Lt=mr(e.stateNode.containerInfo.firstChild),Vt=e,ke=!0,rn=null,n=Ix(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===s){e=Zn(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return Ex(e),t===null&&Dh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ch(r,s)?o=null:i!==null&&Ch(r,i)&&(e.flags|=32),Jx(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return Yx(t,e,n);case 4:return sf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ei(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),cg(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,xe(jl,r._currentValue),r._currentValue=o,i!==null)if(cn(i.value,o)){if(i.children===s.children&&!St.current){e=Zn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=zn(-1,n&-n),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Lh(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Lh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ws(e,n),s=Qt(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=tn(r,e.pendingProps),s=tn(r.type,s),ug(t,e,r,s,n);case 15:return Qx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Ya(t,e),e.tag=1,Ct(r)?(t=!0,Nl(e)):t=!1,Ws(e,n),Gx(e,r,s),Oh(e,r,s,n),Bh(null,e,r,!0,t,n);case 19:return e1(t,e,n);case 22:return Kx(t,e,n)}throw Error(z(156,e.tag))};function g1(t,e){return $y(t,e)}function yI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new yI(t,e,n,r)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xI(t){if(typeof t=="function")return wf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Od)return 11;if(t===Fd)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return es(n.children,s,i,e);case Vd:o=8,s|=8;break;case lh:return t=Zt(12,n,e,s|2),t.elementType=lh,t.lanes=i,t;case ch:return t=Zt(13,n,e,s),t.elementType=ch,t.lanes=i,t;case uh:return t=Zt(19,n,e,s),t.elementType=uh,t.lanes=i,t;case Ey:return yc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ky:o=10;break e;case Ny:o=9;break e;case Od:o=11;break e;case Fd:o=14;break e;case sr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function es(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function yc(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=Ey,t.lanes=n,t.stateNode={isHidden:!1},t}function zu(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function $u(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _f(t,e,n,r,s,i,o,c,u){return t=new vI(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),t}function wI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function y1(t){if(!t)return Er;t=t._reactInternals;e:{if(ds(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ct(n))return yx(t,n,e)}return e}function x1(t,e,n,r,s,i,o,c,u){return t=_f(n,r,!0,t,s,i,o,c,u),t.context=y1(null),n=t.current,r=It(),s=yr(n),i=zn(r,s),i.callback=e!=null?e:null,pr(n,i,s),t.current.lanes=s,$o(t,s,r),At(t,r),t}function xc(t,e,n,r){var s=e.current,i=It(),o=yr(s);return n=y1(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(s,e,o),t!==null&&(ln(t,s,o,i),Ka(t,s,o)),o}function Ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bf(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function _I(){return null}var v1=typeof reportError=="function"?reportError:function(t){console.error(t)};function If(t){this._internalRoot=t}vc.prototype.render=If.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));xc(t,e,null,null)};vc.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){xc(null,t,null,null)}),e[Wn]=null}};function vc(t){this._internalRoot=t}vc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ky();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&Xy(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function bI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=Ol(o);i.call(h)}}var o=x1(e,r,t,0,null,!1,!1,"",Ig);return t._reactRootContainer=o,t[Wn]=o.current,bo(t.nodeType===8?t.parentNode:t),os(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=Ol(u);c.call(h)}}var u=_f(t,0,!1,null,null,!1,!1,"",Ig);return t._reactRootContainer=u,t[Wn]=u.current,bo(t.nodeType===8?t.parentNode:t),os(function(){xc(e,u,n,r)}),u}function _c(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=Ol(o);c.call(u)}}xc(e,o,t,s)}else o=bI(n,e,t,s,r);return Ol(o)}qy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qi(e.pendingLanes);n!==0&&(zd(e,n|1),At(e,Fe()),!(ue&6)&&(ri=Fe()+500,Dr()))}break;case 13:os(function(){var r=Gn(t,1);if(r!==null){var s=It();ln(r,t,1,s)}}),bf(t,1)}};$d=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=It();ln(e,t,134217728,n)}bf(t,134217728)}};Qy=function(t){if(t.tag===13){var e=yr(t),n=Gn(t,e);if(n!==null){var r=It();ln(n,t,e,r)}bf(t,e)}};Ky=function(){return me};Jy=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};wh=function(t,e,n){switch(e){case"input":if(fh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=hc(r);if(!s)throw Error(z(90));jy(r),fh(r,s)}}}break;case"textarea":Cy(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};Vy=yf;Oy=os;var II={usingClientEntryPoint:!1,Events:[Wo,Ms,hc,Dy,Ly,yf]},$i={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kI={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=By(t),t===null?null:t.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||_I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{ac=La.inject(kI),gn=La}catch(t){}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error(z(200));return wI(t,e,null,n)};Ft.createRoot=function(t,e){if(!kf(t))throw Error(z(299));var n=!1,r="",s=v1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_f(t,1,!1,null,null,n,!1,r,s),t[Wn]=e.current,bo(t.nodeType===8?t.parentNode:t),new If(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=By(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return os(t)};Ft.hydrate=function(t,e,n){if(!wc(e))throw Error(z(200));return _c(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!kf(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=v1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=x1(e,null,t,1,n!=null?n:null,s,!1,i,o),t[Wn]=e.current,bo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vc(e)};Ft.render=function(t,e,n){if(!wc(e))throw Error(z(200));return _c(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!wc(t))throw Error(z(40));return t._reactRootContainer?(os(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};Ft.unstable_batchedUpdates=yf;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return _c(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function w1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w1)}catch(t){console.error(t)}}w1(),wy.exports=Ft;var NI=wy.exports,kg=NI;oh.createRoot=kg.createRoot,oh.hydrateRoot=kg.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ng="popstate";function EI(t={}){function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return Yh("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ao(s)}return jI(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function kn(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function TI(){return Math.random().toString(36).substring(2,10)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function Yh(t,e,n=null,r){return Qe(te({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e),{state:n,key:e&&e.key||r||TI()})}function Ao({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jI(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState(Qe(te({},o.state),{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let I=f(),_=I==null?null:I-h;h=I,u&&u({action:c,location:x.location,delta:_})}function g(I,_){c="PUSH";let v=Yh(x.location,I,_);h=f()+1;let N=Eg(v,h),C=x.createHref(v);try{o.pushState(N,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(C)}i&&u&&u({action:c,location:x.location,delta:1})}function y(I,_){c="REPLACE";let v=Yh(x.location,I,_);h=f();let N=Eg(v,h),C=x.createHref(v);o.replaceState(N,"",C),i&&u&&u({action:c,location:x.location,delta:0})}function k(I){return SI(I)}let x={get action(){return c},get location(){return t(s,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Ng,p),u=I,()=>{s.removeEventListener(Ng,p),u=null}},createHref(I){return e(s,I)},createURL:k,encodeLocation(I){let _=k(I);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(I){return o.go(I)}};return x}function SI(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ao(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _1(t,e,n="/"){return CI(t,e,n,!1)}function CI(t,e,n,r){let s=typeof e=="string"?pi(e):e,i=qn(s.pathname||"/",n);if(i==null)return null;let o=b1(t);AI(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=zI(i);c=UI(o[u],h,r)}return c}function b1(t,e=[],n=[],r=""){let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let h=$n([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(je(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),b1(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:OI(h,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of I1(i.path))s(i,o,u)}),e}function I1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=I1(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function AI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RI=/^:[\w-]+$/,PI=3,MI=2,DI=1,LI=10,VI=-2,Tg=t=>t==="*";function OI(t,e){let n=t.split("/"),r=n.length;return n.some(Tg)&&(r+=VI),e&&(r+=MI),n.filter(s=>!Tg(s)).reduce((s,i)=>s+(RI.test(i)?PI:i===""?DI:LI),r)}function FI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function UI(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=Fl({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Fl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:$n([i,p.pathname]),pathnameBase:GI($n([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=$n([i,p.pathnameBase]))}return o}function Fl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let k=c[g]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const y=c[g];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function BI(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function zI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $I(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pi(t):t;return{pathname:n?n.startsWith("/")?n:HI(n,e):e,search:ZI(r),hash:qI(s)}}function HI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k1(t){let e=WI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function N1(t,e,n,r=!1){let s;typeof t=="string"?s=pi(t):(s=te({},t),je(!s.pathname||!s.pathname.includes("?"),Hu("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),Hu("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),Hu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=$I(s,c),h=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var $n=t=>t.join("/").replace(/\/\/+/g,"/"),GI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var E1=["POST","PUT","PATCH","DELETE"];new Set(E1);var KI=["GET",...E1];new Set(KI);var gi=R.createContext(null);gi.displayName="DataRouter";var bc=R.createContext(null);bc.displayName="DataRouterState";R.createContext(!1);var T1=R.createContext({isTransitioning:!1});T1.displayName="ViewTransition";var JI=R.createContext(new Map);JI.displayName="Fetchers";var XI=R.createContext(null);XI.displayName="Await";var Cn=R.createContext(null);Cn.displayName="Navigation";var Zo=R.createContext(null);Zo.displayName="Location";var An=R.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Nf=R.createContext(null);Nf.displayName="RouteError";function YI(t,{relative:e}={}){je(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Cn),{hash:s,pathname:i,search:o}=Qo(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:$n([n,i])),r.createHref({pathname:c,search:o,hash:s})}function qo(){return R.useContext(Zo)!=null}function Lr(){return je(qo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Zo).location}var j1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S1(t){R.useContext(Cn).static||R.useLayoutEffect(t)}function Rn(){let{isDataRoute:t}=R.useContext(An);return t?dk():ek()}function ek(){je(qo(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(gi),{basename:e,navigator:n}=R.useContext(Cn),{matches:r}=R.useContext(An),{pathname:s}=Lr(),i=JSON.stringify(k1(r)),o=R.useRef(!1);return S1(()=>{o.current=!0}),R.useCallback((u,h={})=>{if(kn(o.current,j1),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=N1(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$n([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,i,s,t])}R.createContext(null);function Ic(){let{matches:t}=R.useContext(An),e=t[t.length-1];return e?e.params:{}}function Qo(t,{relative:e}={}){let{matches:n}=R.useContext(An),{pathname:r}=Lr(),s=JSON.stringify(k1(n));return R.useMemo(()=>N1(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function tk(t,e){return C1(t,e)}function C1(t,e,n,r){var _;je(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Cn),{matches:i}=R.useContext(An),o=i[i.length-1],c=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let v=f&&f.path||"";A1(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=Lr(),g;if(e){let v=typeof e=="string"?pi(e):e;je(h==="/"||((_=v.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${v.pathname}" was given in the \`location\` prop.`),g=v}else g=p;let y=g.pathname||"/",k=y;if(h!=="/"){let v=h.replace(/^\//,"").split("/");k="/"+y.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=_1(t,{pathname:k});kn(f||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),kn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=ok(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:$n([h,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:$n([h,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&I?R.createElement(Zo.Provider,{value:{location:te({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},I):I}function nk(){let t=hk(),e=QI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,o)}var rk=R.createElement(nk,null),sk=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(An.Provider,{value:this.props.routeContext},R.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ik({routeContext:t,match:e,children:n}){let r=R.useContext(gi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(An.Provider,{value:t},n)}function ok(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let u=s.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);je(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let p,g=!1,y=null,k=null;n&&(p=i&&h.route.id?i[h.route.id]:void 0,y=h.route.errorElement||rk,o&&(c<0&&f===0?(A1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,k=null):c===f&&(g=!0,k=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),I=()=>{let _;return p?_=y:g?_=k:h.route.Component?_=R.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,R.createElement(ik,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?R.createElement(sk,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):I()},null)}function Ef(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(t){let e=R.useContext(gi);return je(e,Ef(t)),e}function lk(t){let e=R.useContext(bc);return je(e,Ef(t)),e}function ck(t){let e=R.useContext(An);return je(e,Ef(t)),e}function Tf(t){let e=ck(t),n=e.matches[e.matches.length-1];return je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uk(){return Tf("useRouteId")}function hk(){var r;let t=R.useContext(Nf),e=lk("useRouteError"),n=Tf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dk(){let{router:t}=ak("useNavigate"),e=Tf("useNavigate"),n=R.useRef(!1);return S1(()=>{n.current=!0}),R.useCallback((o,...c)=>U(this,[o,...c],function*(s,i={}){kn(n.current,j1),n.current&&(typeof s=="number"?t.navigate(s):yield t.navigate(s,te({fromRouteId:e},i)))}),[t,e])}var jg={};function A1(t,e,n){!e&&!jg[t]&&(jg[t]=!0,kn(!1,n))}R.memo(fk);function fk({routes:t,future:e,state:n}){return C1(t,void 0,n,e)}function zt(t){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){je(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=pi(n));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=R.useMemo(()=>{let k=qn(u,o);return k==null?null:{location:{pathname:k,search:h,hash:f,state:p,key:g},navigationType:r}},[o,u,h,f,p,g,r]);return kn(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:R.createElement(Cn.Provider,{value:c},R.createElement(Zo.Provider,{children:e,value:y}))}function pk({children:t,location:e}){return tk(ed(t),e)}function ed(t,e=[]){let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,ed(r.props.children,i));return}je(r.type===zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ed(r.props.children,i)),n.push(o)}),n}var rl="get",sl="application/x-www-form-urlencoded";function kc(t){return t!=null&&typeof t.tagName=="string"}function gk(t){return kc(t)&&t.tagName.toLowerCase()==="button"}function yk(t){return kc(t)&&t.tagName.toLowerCase()==="form"}function xk(t){return kc(t)&&t.tagName.toLowerCase()==="input"}function vk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wk(t,e){return t.button===0&&(!e||e==="_self")&&!vk(t)}var Va=null;function _k(){if(Va===null)try{new FormData(document.createElement("form"),0),Va=!1}catch(t){Va=!0}return Va}var bk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wu(t){return t!=null&&!bk.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sl}"`),null):t}function Ik(t,e){let n,r,s,i,o;if(yk(t)){let c=t.getAttribute("action");r=c?qn(c,e):null,n=t.getAttribute("method")||rl,s=Wu(t.getAttribute("enctype"))||sl,i=new FormData(t)}else if(gk(t)||xk(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?qn(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||rl,s=Wu(t.getAttribute("formenctype"))||Wu(c.getAttribute("enctype"))||sl,i=new FormData(c,t),!_k()){let{name:h,type:f,value:p}=t;if(f==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,p)}}else{if(kc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rl,r=null,s=sl,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jf(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function kk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&qn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}function Nk(t,e){return U(this,null,function*(){if(t.id in e)return e[t.id];try{let n=yield import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function Ek(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}function Tk(t,e,n){return U(this,null,function*(){let r=yield Promise.all(t.map(s=>U(this,null,function*(){let i=e.routes[s.route.id];if(i){let o=yield Nk(i,n);return o.links?o.links():[]}return[]})));return Ak(r.flat(1).filter(Ek).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?Qe(te({},s),{rel:"prefetch",as:"style"}):Qe(te({},s),{rel:"prefetch"})))})}function Sg(t,e,n,r,s,i){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jk(t,e,{includeHydrateFallback:n}={}){return Sk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Sk(t){return[...new Set(t)]}function Ck(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Ak(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Ck(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function R1(){let t=R.useContext(gi);return jf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rk(){let t=R.useContext(bc);return jf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sf=R.createContext(void 0);Sf.displayName="FrameworkContext";function P1(){let t=R.useContext(Sf);return jf(t,"You must render this element inside a <HydratedRouter> element"),t}function Pk(t,e){let n=R.useContext(Sf),[r,s]=R.useState(!1),[i,o]=R.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(v=>{o(v.isIntersecting)})},I=new IntersectionObserver(x,{threshold:.5});return g.current&&I.observe(g.current),()=>{I.disconnect()}}},[t]),R.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{s(!0)},k=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Hi(c,y),onBlur:Hi(u,k),onMouseEnter:Hi(h,y),onMouseLeave:Hi(f,k),onTouchStart:Hi(p,y)}]:[!1,g,{}]}function Hi(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mk(n){var r=n,{page:t}=r,e=nr(r,["page"]);let{router:s}=R1(),i=R.useMemo(()=>_1(s.routes,t,s.basename),[s.routes,t,s.basename]);return i?R.createElement(Lk,te({page:t,matches:i},e)):null}function Dk(t){let{manifest:e,routeModules:n}=P1(),[r,s]=R.useState([]);return R.useEffect(()=>{let i=!1;return Tk(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Lk(r){var s=r,{page:t,matches:e}=s,n=nr(s,["page","matches"]);let i=Lr(),{manifest:o,routeModules:c}=P1(),{basename:u}=R1(),{loaderData:h,matches:f}=Rk(),p=R.useMemo(()=>Sg(t,e,f,o,i,"data"),[t,e,f,o,i]),g=R.useMemo(()=>Sg(t,e,f,o,i,"assets"),[t,e,f,o,i]),y=R.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,_=!1;if(e.forEach(N=>{var D;let C=o.routes[N.route.id];!C||!C.hasLoader||(!p.some(O=>O.route.id===N.route.id)&&N.route.id in h&&((D=c[N.route.id])!=null&&D.shouldRevalidate)||C.hasClientLoader?_=!0:I.add(N.route.id))}),I.size===0)return[];let v=kk(t,u,"data");return _&&I.size>0&&v.searchParams.set("_routes",e.filter(N=>I.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[u,h,i,o,p,e,t,c]),k=R.useMemo(()=>jk(g,o),[g,o]),x=Dk(g);return R.createElement(R.Fragment,null,y.map(I=>R.createElement("link",te({key:I,rel:"prefetch",as:"fetch",href:I},n))),k.map(I=>R.createElement("link",te({key:I,rel:"modulepreload",href:I},n))),x.map(({key:I,link:_})=>R.createElement("link",te({key:I},_))))}function Vk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M1=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{M1&&(window.__reactRouterVersion="7.7.0")}catch(t){}function Ok({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=EI({window:n,v5Compat:!0}));let s=r.current,[i,o]=R.useState({action:s.action,location:s.location}),c=R.useCallback(u=>{R.startTransition(()=>o(u))},[o]);return R.useLayoutEffect(()=>s.listen(c),[s,c]),R.createElement(mk,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=R.forwardRef(function(k,y){var x=k,{onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=x,g=nr(x,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:I}=R.useContext(Cn),_=typeof h=="string"&&D1.test(h),v,N=!1;if(typeof h=="string"&&_&&(v=h,M1))try{let A=new URL(window.location.href),P=h.startsWith("//")?new URL(A.protocol+h):new URL(h),S=qn(P.pathname,I);P.origin===A.origin&&S!=null?h=S+P.search+P.hash:N=!0}catch(A){kn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=YI(h,{relative:s}),[D,O,E]=Pk(r,g),b=zk(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function T(A){e&&e(A),A.defaultPrevented||b(A)}let j=R.createElement("a",Qe(te(te({},g),E),{href:v||C,onClick:N||i?e:T,ref:Vk(y,O),target:u,"data-discover":!_&&n==="render"?"true":void 0}));return D&&!_?R.createElement(R.Fragment,null,j,R.createElement(Mk,{page:C})):j});bt.displayName="Link";var Fk=R.forwardRef(function(p,f){var g=p,{"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:c,children:u}=g,h=nr(g,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=Qo(o,{relative:h.relative}),k=Lr(),x=R.useContext(bc),{navigator:I,basename:_}=R.useContext(Cn),v=x!=null&&Zk(y)&&c===!0,N=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,C=k.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(C=C.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&_&&(D=qn(D,_)||D);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=C===N||!s&&C.startsWith(N)&&C.charAt(O)==="/",b=D!=null&&(D===N||!s&&D.startsWith(N)&&D.charAt(N.length)==="/"),T={isActive:E,isPending:b,isTransitioning:v},j=E?e:void 0,A;typeof r=="function"?A=r(T):A=[r,E?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(T):i;return R.createElement(bt,Qe(te({},h),{"aria-current":j,className:A,ref:f,style:P,to:o,viewTransition:c}),typeof u=="function"?u(T):u)});Fk.displayName="NavLink";var Uk=R.forwardRef((k,y)=>{var x=k,{discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=rl,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p}=x,g=nr(x,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let I=Wk(),_=Gk(c,{relative:h}),v=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&D1.test(c),C=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,E=(O==null?void 0:O.getAttribute("formmethod"))||o;I(O||D.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:i,relative:h,preventScrollReset:f,viewTransition:p})};return R.createElement("form",Qe(te({ref:y,method:v,action:_,onSubmit:r?u:C},g),{"data-discover":!N&&t==="render"?"true":void 0}))});Uk.displayName="Form";function Bk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(t){let e=R.useContext(gi);return je(e,Bk(t)),e}function zk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let c=Rn(),u=Lr(),h=Qo(t,{relative:i});return R.useCallback(f=>{if(wk(f,e)){f.preventDefault();let p=n!==void 0?n:Ao(u)===Ao(h);c(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,c,h,n,r,e,t,s,i,o])}var $k=0,Hk=()=>`__${String(++$k)}__`;function Wk(){let{router:t}=L1("useSubmit"),{basename:e}=R.useContext(Cn),n=uk();return R.useCallback((i,...o)=>U(this,[i,...o],function*(r,s={}){let{action:c,method:u,encType:h,formData:f,body:p}=Ik(r,e);if(s.navigate===!1){let g=s.fetcherKey||Hk();yield t.fetch(g,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else yield t.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[t,e,n])}function Gk(t,{relative:e}={}){let{basename:n}=R.useContext(Cn),r=R.useContext(An);je(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i=te({},Qo(t||".",{relative:e})),o=Lr();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:$n([n,i.pathname])),Ao(i)}function Zk(t,e={}){let n=R.useContext(T1);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L1("useViewTransitionState"),s=Qo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=qn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=qn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fl(s.pathname,o)!=null||Fl(s.pathname,i)!=null}const Vr=()=>{const t=Lr(),e=Rn(),n=()=>{e("/area-selection")};return a.jsx("nav",{className:"fixed w-full z-50 bg-black/20 backdrop-blur-lg border-b border-white/10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"flex-shrink-0",children:a.jsx(bt,{to:"/",className:"block",children:a.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent hover:opacity-80 transition-opacity",children:[a.jsx("i",{className:"fas fa-robot mr-2 text-neon-pink"}),"TripAI"]})})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[t.pathname==="/"?a.jsxs(a.Fragment,{children:[a.jsx("a",{href:"#features",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx("a",{href:"#how-it-works",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx("a",{href:"#tokyo-info",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx(bt,{to:"/area-selection",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx(bt,{to:"/",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx(bt,{to:"/area-selection",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx(bt,{to:"/spots",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx(bt,{to:"/tokyo-tower-live",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx(bt,{to:"/itinerary",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""})]}),a.jsx("a",{href:"#pricing",className:"text-white/80 hover:text-neon-blue transition duration-300",children:""}),a.jsx("button",{onClick:n,className:"bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-2 rounded-full hover:shadow-lg hover:shadow-neon-pink/50 transition duration-300 font-semibold",children:""})]}),a.jsx("div",{className:"md:hidden flex items-center",children:a.jsx("button",{className:"text-white",children:a.jsx("i",{className:"fas fa-bars text-xl"})})})]})})})},qk=()=>{const t=Rn(),e=()=>{t("/area-selection")};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-16",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-purple/20 via-transparent to-neon-blue/20"}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"floating-shape w-64 h-64 bg-gradient-to-r from-neon-pink/30 to-neon-purple/30 rounded-full absolute top-20 left-10 animate-float blur-xl"}),a.jsx("div",{className:"floating-shape w-48 h-48 bg-gradient-to-r from-neon-blue/30 to-neon-green/30 rounded-full absolute top-40 right-20 animate-float delay-1000 blur-xl"}),a.jsx("div",{className:"floating-shape w-32 h-32 bg-gradient-to-r from-electric-yellow/30 to-neon-pink/30 rounded-full absolute bottom-32 left-1/4 animate-float delay-2000 blur-xl"})]}),a.jsxs("div",{className:"relative z-10 text-center px-4 max-w-6xl mx-auto",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink to-neon-purple px-4 py-2 rounded-full text-sm font-semibold border border-neon-pink/50 animate-pulse-glow",children:" AI powered travel planning"})}),a.jsxs("h1",{className:"text-6xl md:text-8xl font-black mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent animate-slide-up",children:""}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-green to-electric-yellow bg-clip-text text-transparent animate-slide-up delay-200",children:""}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-electric-yellow via-neon-pink to-neon-purple bg-clip-text text-transparent animate-slide-up delay-400",children:"AI"})]}),a.jsxs("p",{className:"text-xl md:text-2xl mb-12 text-white/80 max-w-4xl mx-auto leading-relaxed animate-slide-up delay-600",children:["AI",a.jsx("br",{className:"hidden md:block"}),a.jsx("span",{className:"text-neon-blue font-semibold",children:""}),"",a.jsx("span",{className:"text-neon-pink font-semibold",children:""}),"",a.jsx("br",{className:"hidden md:block"}),""]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center animate-slide-up delay-800",children:[a.jsxs("button",{onClick:e,className:"group bg-gradient-to-r from-neon-pink to-neon-purple px-12 py-5 rounded-full text-xl font-bold hover:shadow-2xl hover:shadow-neon-pink/50 transition-all duration-300 transform hover:scale-105 border-2 border-neon-pink/50",children:[a.jsx("i",{className:"fas fa-magic mr-3 group-hover:animate-bounce"}),"AI",a.jsx("span",{className:"block text-sm font-normal opacity-80",children:""})]}),a.jsxs("button",{className:"group border-2 border-neon-blue px-10 py-5 rounded-full text-lg font-semibold hover:bg-neon-blue/20 transition-all duration-300 transform hover:scale-105",children:[a.jsx("i",{className:"fas fa-play mr-3 group-hover:text-neon-blue"}),""]})]}),a.jsxs("div",{className:"mt-16 flex justify-center items-center space-x-8 text-white/60 animate-slide-up delay-1000",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-neon-pink",children:"3"}),a.jsx("div",{className:"text-sm",children:""})]}),a.jsx("div",{className:"w-px h-12 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-neon-blue",children:"100+"}),a.jsx("div",{className:"text-sm",children:""})]}),a.jsx("div",{className:"w-px h-12 bg-white/20"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-neon-green",children:"98%"}),a.jsx("div",{className:"text-sm",children:""})]})]})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/60 animate-bounce-slow",children:a.jsx("i",{className:"fas fa-chevron-down text-2xl"})})]})},Qk=()=>a.jsx("section",{id:"how-it-works",className:"py-24 relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-5xl font-black mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-blue to-neon-green bg-clip-text text-transparent",children:"3"})}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"AI"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[a.jsx("div",{className:"group text-center relative",children:a.jsxs("div",{className:"bg-gradient-to-br from-neon-pink/20 to-neon-purple/20 backdrop-blur-xl rounded-3xl p-8 border border-neon-pink/30 hover:border-neon-pink/60 transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-neon-pink/30",children:[a.jsx("div",{className:"bg-gradient-to-r from-neon-pink to-neon-purple text-white p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center group-hover:animate-pulse",children:a.jsx("i",{className:"fas fa-brain text-3xl"})}),a.jsx("div",{className:"bg-gradient-to-r from-neon-pink to-neon-purple bg-clip-text text-transparent text-lg font-bold mb-2",children:"STEP 1"}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:""}),a.jsx("p",{className:"text-white/80 leading-relaxed",children:"AI"})]})}),a.jsx("div",{className:"group text-center relative",children:a.jsxs("div",{className:"bg-gradient-to-br from-neon-blue/20 to-neon-green/20 backdrop-blur-xl rounded-3xl p-8 border border-neon-blue/30 hover:border-neon-blue/60 transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-neon-blue/30",children:[a.jsx("div",{className:"bg-gradient-to-r from-neon-blue to-neon-green text-white p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center group-hover:animate-pulse",children:a.jsx("i",{className:"fas fa-cogs text-3xl"})}),a.jsx("div",{className:"bg-gradient-to-r from-neon-blue to-neon-green bg-clip-text text-transparent text-lg font-bold mb-2",children:"STEP 2"}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"AI"}),a.jsx("p",{className:"text-white/80 leading-relaxed",children:"AI"})]})}),a.jsx("div",{className:"group text-center relative",children:a.jsxs("div",{className:"bg-gradient-to-br from-electric-yellow/20 to-neon-pink/20 backdrop-blur-xl rounded-3xl p-8 border border-electric-yellow/30 hover:border-electric-yellow/60 transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-electric-yellow/30",children:[a.jsx("div",{className:"bg-gradient-to-r from-electric-yellow to-neon-pink text-white p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center group-hover:animate-pulse",children:a.jsx("i",{className:"fas fa-magic text-3xl"})}),a.jsx("div",{className:"bg-gradient-to-r from-electric-yellow to-neon-pink bg-clip-text text-transparent text-lg font-bold mb-2",children:"STEP 3"}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:""}),a.jsx("p",{className:"text-white/80 leading-relaxed",children:""})]})})]})]})}),Kk=()=>{const t=[{icon:"fas fa-bolt",title:"",description:"30",color:"neon-blue"},{icon:"fas fa-user-astronaut",title:"",description:"100%",color:"neon-pink"},{icon:"fas fa-sync-alt",title:"",description:"",color:"neon-green"},{icon:"fas fa-mobile-alt",title:"",description:"",color:"electric-yellow"},{icon:"fas fa-globe-asia",title:"",description:"200",color:"neon-purple"},{icon:"fas fa-share-alt",title:"",description:"",color:"neon-blue"}];return a.jsx("section",{id:"features",className:"py-24 bg-gradient-to-b from-transparent to-black/20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-5xl font-black mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-purple to-electric-yellow bg-clip-text text-transparent",children:"TripAI"})}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>a.jsxs("div",{className:`group bg-gradient-to-br from-white/5 to-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20 hover:border-${e.color}/50 transition-all duration-500 hover:shadow-2xl hover:shadow-${e.color}/20`,children:[a.jsx("div",{className:`text-${e.color} text-4xl mb-6`,children:a.jsx("i",{className:e.icon})}),a.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:e.title}),a.jsx("p",{className:"text-white/80",children:e.description})]},n))})]})})},Jk=()=>a.jsxs("section",{className:"py-32 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-neon-pink/30 via-neon-purple/30 to-neon-blue/30 animate-glow-pulse"})}),a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs("h2",{className:"text-6xl font-black mb-8",children:[a.jsx("span",{className:"bg-gradient-to-r from-electric-yellow via-neon-pink to-neon-purple bg-clip-text text-transparent",children:""}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-green to-electric-yellow bg-clip-text text-transparent",children:""})]}),a.jsxs("p",{className:"text-2xl text-white/90 mb-12 leading-relaxed",children:["",a.jsx("br",{}),a.jsx("span",{className:"text-neon-pink font-semibold",children:""}),"",a.jsx("span",{className:"text-neon-blue font-semibold",children:"30"}),""]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{className:"group bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue px-16 py-6 rounded-full text-2xl font-black hover:shadow-2xl hover:shadow-neon-pink/50 transition-all duration-500 transform hover:scale-110 border-2 border-white/20 hover:border-white/50",children:[a.jsx("i",{className:"fas fa-rocket mr-4 group-hover:animate-bounce"}),"",a.jsx("div",{className:"text-sm font-normal opacity-90 mt-1",children:"30"})]}),a.jsxs("div",{className:"flex justify-center items-center space-x-8 text-white/70 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle text-neon-green mr-2"}),""]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle text-neon-green mr-2"}),""]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("i",{className:"fas fa-check-circle text-neon-green mr-2"}),""]})]})]})]})]}),Or=()=>a.jsx("footer",{className:"bg-black/40 backdrop-blur-xl border-t border-white/10 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:a.jsxs("span",{className:"bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:[a.jsx("i",{className:"fas fa-robot mr-2"}),"TripAI"]})}),a.jsx("p",{className:"text-white/70 mb-6 max-w-md",children:"AI"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"bg-gradient-to-r from-neon-pink to-neon-purple p-3 rounded-full hover:shadow-lg hover:shadow-neon-pink/50 transition duration-300",children:a.jsx("i",{className:"fab fa-twitter"})}),a.jsx("a",{href:"#",className:"bg-gradient-to-r from-neon-blue to-neon-green p-3 rounded-full hover:shadow-lg hover:shadow-neon-blue/50 transition duration-300",children:a.jsx("i",{className:"fab fa-instagram"})}),a.jsx("a",{href:"#",className:"bg-gradient-to-r from-electric-yellow to-neon-pink p-3 rounded-full hover:shadow-lg hover:shadow-electric-yellow/50 transition duration-300",children:a.jsx("i",{className:"fab fa-youtube"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4 text-neon-blue",children:""}),a.jsxs("ul",{className:"space-y-2 text-white/70",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-blue transition duration-300",children:"AI"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-blue transition duration-300",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-blue transition duration-300",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-blue transition duration-300",children:""})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-4 text-neon-pink",children:""}),a.jsxs("ul",{className:"space-y-2 text-white/70",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-pink transition duration-300",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-pink transition duration-300",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-pink transition duration-300",children:""})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-neon-pink transition duration-300",children:""})})]})]})]}),a.jsx("div",{className:"border-t border-white/10 mt-12 pt-8 text-center text-white/50",children:a.jsx("p",{children:" 2024 TripAI. All rights reserved. Made with  & "})})]})}),Xk=()=>a.jsxs("div",{className:"font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white overflow-x-hidden",children:[a.jsx(Vr,{}),a.jsx(qk,{}),a.jsx(Qk,{}),a.jsx(Kk,{}),a.jsx(Jk,{}),a.jsx(Or,{})]});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Cg=t=>{const e=eN(t);return e.charAt(0).toUpperCase()+e.slice(1)},V1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=R.forwardRef((h,u)=>{var f=h,{color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o}=f,c=nr(f,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return R.createElement("svg",te(te(Qe(te({ref:u},nN),{width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:V1("lucide",s)}),!i&&!tN(c)&&{"aria-hidden":"true"}),c),[...o.map(([p,g])=>R.createElement(p,g)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(t,e)=>{const n=R.forwardRef((o,i)=>{var c=o,{className:r}=c,s=nr(c,["className"]);return R.createElement(rN,te({ref:i,iconNode:e,className:V1(`lucide-${Yk(Cg(t))}`,`lucide-${t}`,r)},s))});return n.displayName=Cg(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fs=K("arrow-left",sN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],as=K("arrow-right",iN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],aN=K("bot",oN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],cN=K("bus",lN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hN=K("calendar",uN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fN=K("camera",dN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],td=K("car",mN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gN=K("chevron-down",pN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xN=K("chevron-up",yN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cf=K("circle-alert",vN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O1=K("circle-check-big",wN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bN=K("circle-check",_N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nn=K("clock",IN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],NN=K("coffee",kN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],TN=K("database",EN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],F1=K("dollar-sign",jN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CN=K("download",SN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],RN=K("external-link",AN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],MN=K("footprints",PN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],LN=K("funnel",DN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ON=K("globe",VN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],UN=K("heart",FN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],zN=K("hotel",BN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HN=K("info",$N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],GN=K("lightbulb",WN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],qN=K("list",ZN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],il=K("loader-circle",QN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],En=K("map-pin",KN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],XN=K("map",JN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],eE=K("maximize-2",YN);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ag=K("message-circle",tE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],rE=K("minimize-2",nE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],U1=K("mountain",sE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]],oE=K("move-3d",iE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],lE=K("music",aE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["polygon",{points:"12 2 19 21 12 17 5 21 12 2",key:"x8c0qg"}]],Rg=K("navigation-2",cE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],B1=K("navigation",uE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]],dE=K("notebook",hE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],mE=K("phone",fE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zs=K("refresh-cw",pE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Ul=K("route",gE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xE=K("settings",yE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wE=K("share-2",vE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],bE=K("shopping-bag",_E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bn=K("star",IE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],NE=K("target",kE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],xn=K("tram-front",EE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nd=K("trash-2",TE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SE=K("upload",jE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nc=K("users",CE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],RE=K("utensils",AE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ME=K("zap",PE),DE={bearerToken:"",baseUrl:"https://api.twitter.com/2"},LE=()=>U(Me,null,function*(){try{return DE.bearerToken,Pg()}catch(t){return console.error("Error fetching Tokyo Tower tweets:",t),Pg()}}),Pg=()=>{const t=new Date,e=[{id:"1",text:" # #",author:"",username:"tokyo_lover123",createdAt:new Date(t.getTime()-2*60*60*1e3).toISOString(),likes:342,retweets:89,replies:23},{id:"2",text:"Tokyo Tower looking absolutely stunning today! The view from the top deck is incredible  #TokyoTower #Japan",author:"Travel Japan",username:"travel_japan_en",createdAt:new Date(t.getTime()-4*60*60*1e3).toISOString(),likes:256,retweets:67,replies:15},{id:"3",text:" # #",author:"",username:"tokyo_night_view",createdAt:new Date(t.getTime()-8*60*60*1e3).toISOString(),likes:478,retweets:156,replies:34},{id:"4",text:"  # #",author:"",username:"tokyo_walk",createdAt:new Date(t.getTime()-12*60*60*1e3).toISOString(),likes:189,retweets:45,replies:12},{id:"5",text:"visited Tokyo Tower today and the weather was perfect! Great views all around  #TokyoTower #Travel",author:"Adventure Seeker",username:"adventure_seeker",createdAt:new Date(t.getTime()-18*60*60*1e3).toISOString(),likes:123,retweets:28,replies:8},{id:"6",text:" # #",author:"Tokyo Caf Guide",username:"tokyo_cafe_guide",createdAt:new Date(t.getTime()-24*60*60*1e3).toISOString(),likes:267,retweets:78,replies:19},{id:"7",text:"Amazing sunset view from Tokyo Tower today! The sky was painted in beautiful colors  #TokyoTower #Sunset",author:"Sky Watcher",username:"sky_watcher_jp",createdAt:new Date(t.getTime()-30*60*60*1e3).toISOString(),likes:445,retweets:134,replies:27},{id:"8",text:" # # #",author:"",username:"night_photographer",createdAt:new Date(t.getTime()-36*60*60*1e3).toISOString(),likes:356,retweets:98,replies:21},{id:"9",text:"The observation deck at Tokyo Tower offers 360-degree views of the city. Absolutely breathtaking!  #TokyoTower",author:"City Explorer",username:"city_explorer_tk",createdAt:new Date(t.getTime()-42*60*60*1e3).toISOString(),likes:234,retweets:56,replies:14},{id:"10",text:" # #",author:"",username:"youth_travel_diary",createdAt:new Date(t.getTime()-45*60*60*1e3).toISOString(),likes:167,retweets:34,replies:9}],n=new Date;return n.setDate(n.getDate()-2),e.filter(r=>new Date(r.createdAt)>=n).sort((r,s)=>new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime())};function z1(t,e){return function(){return t.apply(e,arguments)}}const{toString:VE}=Object.prototype,{getPrototypeOf:Af}=Object,{iterator:Ec,toStringTag:$1}=Symbol,Tc=(t=>e=>{const n=VE.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),un=t=>(t=t.toLowerCase(),e=>Tc(e)===t),jc=t=>e=>typeof e===t,{isArray:yi}=Array,Ro=jc("undefined");function OE(t){return t!==null&&!Ro(t)&&t.constructor!==null&&!Ro(t.constructor)&&Rt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const H1=un("ArrayBuffer");function FE(t){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&H1(t.buffer),e}const UE=jc("string"),Rt=jc("function"),W1=jc("number"),Sc=t=>t!==null&&typeof t=="object",BE=t=>t===!0||t===!1,ol=t=>{if(Tc(t)!=="object")return!1;const e=Af(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($1 in t)&&!(Ec in t)},zE=un("Date"),$E=un("File"),HE=un("Blob"),WE=un("FileList"),GE=t=>Sc(t)&&Rt(t.pipe),ZE=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rt(t.append)&&((e=Tc(t))==="formdata"||e==="object"&&Rt(t.toString)&&t.toString()==="[object FormData]"))},qE=un("URLSearchParams"),[QE,KE,JE,XE]=["ReadableStream","Request","Response","Headers"].map(un),YE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ko(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t=="undefined")return;let r,s;if(typeof t!="object"&&(t=[t]),yi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(r=0;r<o;r++)c=i[r],e.call(null,t[c],c,t)}}function G1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Jr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:globalThis,Z1=t=>!Ro(t)&&t!==Jr;function rd(){const{caseless:t}=Z1(this)&&this||{},e={},n=(r,s)=>{const i=t&&G1(e,s)||s;ol(e[i])&&ol(r)?e[i]=rd(e[i],r):ol(r)?e[i]=rd({},r):yi(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ko(arguments[r],n);return e}const eT=(t,e,n,{allOwnKeys:r}={})=>(Ko(e,(s,i)=>{n&&Rt(s)?t[i]=z1(s,n):t[i]=s},{allOwnKeys:r}),t),tT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rT=(t,e,n,r)=>{let s,i,o;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=n!==!1&&Af(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},sT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},iT=t=>{if(!t)return null;if(yi(t))return t;let e=t.length;if(!W1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},oT=(t=>e=>t&&e instanceof t)(typeof Uint8Array!="undefined"&&Af(Uint8Array)),aT=(t,e)=>{const r=(t&&t[Ec]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},lT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cT=un("HTMLFormElement"),uT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Mg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),hT=un("RegExp"),q1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ko(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},dT=t=>{q1(t,(e,n)=>{if(Rt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fT=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return yi(t)?r(t):r(String(t).split(e)),n},mT=()=>{},pT=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function gT(t){return!!(t&&Rt(t.append)&&t[$1]==="FormData"&&t[Ec])}const yT=t=>{const e=new Array(10),n=(r,s)=>{if(Sc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=yi(r)?[]:{};return Ko(r,(o,c)=>{const u=n(o,s+1);!Ro(u)&&(i[c]=u)}),e[s]=void 0,i}}return r};return n(t,0)},xT=un("AsyncFunction"),vT=t=>t&&(Sc(t)||Rt(t))&&Rt(t.then)&&Rt(t.catch),Q1=((t,e)=>t?setImmediate:e?((n,r)=>(Jr.addEventListener("message",({source:s,data:i})=>{s===Jr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Jr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rt(Jr.postMessage)),wT=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Jr):typeof process!="undefined"&&process.nextTick||Q1,_T=t=>t!=null&&Rt(t[Ec]),L={isArray:yi,isArrayBuffer:H1,isBuffer:OE,isFormData:ZE,isArrayBufferView:FE,isString:UE,isNumber:W1,isBoolean:BE,isObject:Sc,isPlainObject:ol,isReadableStream:QE,isRequest:KE,isResponse:JE,isHeaders:XE,isUndefined:Ro,isDate:zE,isFile:$E,isBlob:HE,isRegExp:hT,isFunction:Rt,isStream:GE,isURLSearchParams:qE,isTypedArray:oT,isFileList:WE,forEach:Ko,merge:rd,extend:eT,trim:YE,stripBOM:tT,inherits:nT,toFlatObject:rT,kindOf:Tc,kindOfTest:un,endsWith:sT,toArray:iT,forEachEntry:aT,matchAll:lT,isHTMLForm:cT,hasOwnProperty:Mg,hasOwnProp:Mg,reduceDescriptors:q1,freezeMethods:dT,toObjectSet:fT,toCamelCase:uT,noop:mT,toFiniteNumber:pT,findKey:G1,global:Jr,isContextDefined:Z1,isSpecCompliantForm:gT,toJSONObject:yT,isAsyncFn:xT,isThenable:vT,setImmediate:Q1,asap:wT,isIterable:_T};function se(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const K1=se.prototype,J1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{J1[t]={value:t}});Object.defineProperties(se,J1);Object.defineProperty(K1,"isAxiosError",{value:!0});se.from=(t,e,n,r,s,i)=>{const o=Object.create(K1);return L.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),se.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const bT=null;function sd(t){return L.isPlainObject(t)||L.isArray(t)}function X1(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function Dg(t,e,n){return t?t.concat(e).map(function(s,i){return s=X1(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function IT(t){return L.isArray(t)&&!t.some(sd)}const kT=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Cc(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,I){return!L.isUndefined(I[x])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob!="undefined"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function h(k){if(k===null)return"";if(L.isDate(k))return k.toISOString();if(L.isBoolean(k))return k.toString();if(!u&&L.isBlob(k))throw new se("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(k)||L.isTypedArray(k)?u&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function f(k,x,I){let _=k;if(k&&!I&&typeof k=="object"){if(L.endsWith(x,"{}"))x=r?x:x.slice(0,-2),k=JSON.stringify(k);else if(L.isArray(k)&&IT(k)||(L.isFileList(k)||L.endsWith(x,"[]"))&&(_=L.toArray(k)))return x=X1(x),_.forEach(function(N,C){!(L.isUndefined(N)||N===null)&&e.append(o===!0?Dg([x],C,i):o===null?x:x+"[]",h(N))}),!1}return sd(k)?!0:(e.append(Dg(I,x,i),h(k)),!1)}const p=[],g=Object.assign(kT,{defaultVisitor:f,convertValue:h,isVisitable:sd});function y(k,x){if(!L.isUndefined(k)){if(p.indexOf(k)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(k),L.forEach(k,function(_,v){(!(L.isUndefined(_)||_===null)&&s.call(e,_,L.isString(v)?v.trim():v,x,g))===!0&&y(_,x?x.concat(v):[v])}),p.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Lg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Rf(t,e){this._pairs=[],t&&Cc(t,this,e)}const Y1=Rf.prototype;Y1.append=function(e,n){this._pairs.push([e,n])};Y1.toString=function(e){const n=e?function(r){return e.call(this,r,Lg)}:Lg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ev(t,e,n){if(!e)return t;const r=n&&n.encode||NT;L.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=L.isURLSearchParams(e)?e.toString():new Rf(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Vg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ET=typeof URLSearchParams!="undefined"?URLSearchParams:Rf,TT=typeof FormData!="undefined"?FormData:null,jT=typeof Blob!="undefined"?Blob:null,ST={isBrowser:!0,classes:{URLSearchParams:ET,FormData:TT,Blob:jT},protocols:["http","https","file","blob","url","data"]},Pf=typeof window!="undefined"&&typeof document!="undefined",id=typeof navigator=="object"&&navigator||void 0,CT=Pf&&(!id||["ReactNative","NativeScript","NS"].indexOf(id.product)<0),AT=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RT=Pf&&window.location.href||"http://localhost",PT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:CT,hasStandardBrowserWebWorkerEnv:AT,navigator:id,origin:RT},Symbol.toStringTag,{value:"Module"})),gt=te(te({},PT),ST);function MT(t,e){return Cc(t,new gt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return gt.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function DT(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LT(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function nv(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,u?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!c):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=LT(s[o])),!c)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,s)=>{e(DT(r),s,n,0)}),n}return null}function VT(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jo={transitional:tv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s?JSON.stringify(nv(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return MT(e,this.formSerializer).toString();if((c=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Cc(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),VT(e)):e}],transformResponse:[function(e){const n=this.transitional||Jo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?se.from(c,se.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gt.classes.FormData,Blob:gt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{Jo.headers[t]={}});const OT=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FT=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&OT[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Og=Symbol("internals");function Wi(t){return t&&String(t).trim().toLowerCase()}function al(t){return t===!1||t==null?t:L.isArray(t)?t.map(al):String(t)}function UT(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const BT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gu(t,e,n,r,s){if(L.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function zT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $T(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Pt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(c,u,h){const f=Wi(u);if(!f)throw new Error("header name must be a non-empty string");const p=L.findKey(s,f);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||u]=al(c))}const o=(c,u)=>L.forEach(c,(h,f)=>i(h,f,u));if(L.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(L.isString(e)&&(e=e.trim())&&!BT(e))o(FT(e),n);else if(L.isObject(e)&&L.isIterable(e)){let c={},u,h;for(const f of e){if(!L.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?L.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Wi(e),e){const r=L.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return UT(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wi(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Gu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Wi(o),o){const c=L.findKey(r,o);c&&(!n||Gu(r,r[c],c,n))&&(delete r[c],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Gu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=al(s),delete n[i];return}const c=e?zT(i):String(i).trim();c!==i&&delete n[i],n[c]=al(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Og]=this[Og]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Wi(o);r[c]||($T(s,o),r[c]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(Pt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});L.freezeMethods(Pt);function Zu(t,e){const n=this||Jo,r=e||n,s=Pt.from(r.headers);let i=r.data;return L.forEach(t,function(c){i=c.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function rv(t){return!!(t&&t.__CANCEL__)}function xi(t,e,n){se.call(this,t==null?"canceled":t,se.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(xi,se,{__CANCEL__:!0});function sv(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function WT(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[i];o||(o=h),n[s]=u,r[s]=h;let p=i,g=0;for(;p!==s;)g+=n[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-o<e)return;const y=f&&h-f;return y?Math.round(g*1e3/y):void 0}}function GT(t,e){let n=0,r=1e3/e,s,i;const o=(h,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-n;p>=r?o(h,f):(s=h,i||(i=setTimeout(()=>{i=null,o(s)},r-p)))},()=>s&&o(s)]}const Bl=(t,e,n=3)=>{let r=0;const s=WT(50,250);return GT(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-r,h=s(u),f=o<=c;r=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(p)},n)},Fg=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ug=t=>(...e)=>L.asap(()=>t(...e)),ZT=gt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,gt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(gt.origin),gt.navigator&&/(msie|trident)/i.test(gt.navigator.userAgent)):()=>!0,qT=gt.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(r)&&o.push("path="+r),L.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function KT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iv(t,e,n){let r=!QT(e);return t&&(r||n==!1)?KT(t,e):e}const Bg=t=>t instanceof Pt?te({},t):t;function ls(t,e){e=e||{};const n={};function r(h,f,p,g){return L.isPlainObject(h)&&L.isPlainObject(f)?L.merge.call({caseless:g},h,f):L.isPlainObject(f)?L.merge({},f):L.isArray(f)?f.slice():f}function s(h,f,p,g){if(L.isUndefined(f)){if(!L.isUndefined(h))return r(void 0,h,p,g)}else return r(h,f,p,g)}function i(h,f){if(!L.isUndefined(f))return r(void 0,f)}function o(h,f){if(L.isUndefined(f)){if(!L.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,p)=>s(Bg(h),Bg(f),p,!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(f){const p=u[f]||s,g=p(t[f],e[f],f);L.isUndefined(g)&&p!==c||(n[f]=g)}),n}const ov=t=>{const e=ls({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=Pt.from(o),e.url=ev(iv(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(L.isFormData(n)){if(gt.hasStandardBrowserEnv||gt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[h,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(gt.hasStandardBrowserEnv&&(r&&L.isFunction(r)&&(r=r(e)),r||r!==!1&&ZT(e.url))){const h=s&&i&&qT.read(i);h&&o.set(s,h)}return e},JT=typeof XMLHttpRequest!="undefined",XT=JT&&function(t){return new Promise(function(n,r){const s=ov(t);let i=s.data;const o=Pt.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=s,f,p,g,y,k;function x(){y&&y(),k&&k(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(s.method.toUpperCase(),s.url,!0),I.timeout=s.timeout;function _(){if(!I)return;const N=Pt.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!c||c==="text"||c==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:N,config:t,request:I};sv(function(E){n(E),x()},function(E){r(E),x()},D),I=null}"onloadend"in I?I.onloadend=_:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(_)},I.onabort=function(){I&&(r(new se("Request aborted",se.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new se("Network Error",se.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||tv;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new se(C,D.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,I)),I=null},i===void 0&&o.setContentType(null),"setRequestHeader"in I&&L.forEach(o.toJSON(),function(C,D){I.setRequestHeader(D,C)}),L.isUndefined(s.withCredentials)||(I.withCredentials=!!s.withCredentials),c&&c!=="json"&&(I.responseType=s.responseType),h&&([g,k]=Bl(h,!0),I.addEventListener("progress",g)),u&&I.upload&&([p,y]=Bl(u),I.upload.addEventListener("progress",p),I.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(f=N=>{I&&(r(!N||N.type?new xi(null,t,I):N),I.abort(),I=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const v=HT(s.url);if(v&&gt.protocols.indexOf(v)===-1){r(new se("Unsupported protocol "+v+":",se.ERR_BAD_REQUEST,t));return}I.send(i||null)})},YT=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,c();const f=h instanceof Error?h:this.reason;r.abort(f instanceof se?f:new xi(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,i(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>L.asap(c),u}},e3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},t3=function(t,e){return gu(this,null,function*(){try{for(var n=pp(n3(t)),r,s,i;r=!(s=yield new Hr(n.next())).done;r=!1){const o=s.value;yield*yu(e3(o,e))}}catch(s){i=[s]}finally{try{r&&(s=n.return)&&(yield new Hr(s.call(n)))}finally{if(i)throw i[0]}}})},n3=function(t){return gu(this,null,function*(){if(t[Symbol.asyncIterator]){yield*yu(t);return}const e=t.getReader();try{for(;;){const{done:n,value:r}=yield new Hr(e.read());if(n)break;yield r}}finally{yield new Hr(e.cancel())}})},zg=(t,e,n,r)=>{const s=t3(t,e);let i=0,o,c=h=>{o||(o=!0,r&&r(h))};return new ReadableStream({pull(h){return U(this,null,function*(){try{const{done:f,value:p}=yield s.next();if(f){c(),h.close();return}let g=p.byteLength;if(n){let y=i+=g;n(y)}h.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}})},cancel(h){return c(h),s.return()}},{highWaterMark:2})},Ac=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",av=Ac&&typeof ReadableStream=="function",r3=Ac&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):t=>U(Me,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),lv=(t,...e)=>{try{return!!t(...e)}catch(n){return!1}},s3=av&&lv(()=>{let t=!1;const e=new Request(gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),$g=64*1024,od=av&&lv(()=>L.isReadableStream(new Response("").body)),zl={stream:od&&(t=>t.body)};Ac&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zl[e]&&(zl[e]=L.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new se(`Response type '${e}' is not supported`,se.ERR_NOT_SUPPORT,r)})})})(new Response);const i3=t=>U(Me,null,function*(){if(t==null)return 0;if(L.isBlob(t))return t.size;if(L.isSpecCompliantForm(t))return(yield new Request(gt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(L.isArrayBufferView(t)||L.isArrayBuffer(t))return t.byteLength;if(L.isURLSearchParams(t)&&(t=t+""),L.isString(t))return(yield r3(t)).byteLength}),o3=(t,e)=>U(Me,null,function*(){const n=L.toFiniteNumber(t.getContentLength());return n==null?i3(e):n}),a3=Ac&&(t=>U(Me,null,function*(){let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:g}=ov(t);h=h?(h+"").toLowerCase():"text";let y=YT([s,i&&i.toAbortSignal()],o),k;const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let I;try{if(u&&s3&&n!=="get"&&n!=="head"&&(I=yield o3(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),O;if(L.isFormData(r)&&(O=D.headers.get("content-type"))&&f.setContentType(O),D.body){const[E,b]=Fg(I,Bl(Ug(u)));r=zg(D.body,$g,E,b)}}L.isString(p)||(p=p?"include":"omit");const _="credentials"in Request.prototype;k=new Request(e,Qe(te({},g),{signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:_?p:void 0}));let v=yield fetch(k,g);const N=od&&(h==="stream"||h==="response");if(od&&(c||N&&x)){const D={};["status","statusText","headers"].forEach(T=>{D[T]=v[T]});const O=L.toFiniteNumber(v.headers.get("content-length")),[E,b]=c&&Fg(O,Bl(Ug(c),!0))||[];v=new Response(zg(v.body,$g,E,()=>{b&&b(),x&&x()}),D)}h=h||"text";let C=yield zl[L.findKey(zl,h)||"text"](v,t);return!N&&x&&x(),yield new Promise((D,O)=>{sv(D,O,{data:C,headers:Pt.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:k})})}catch(_){throw x&&x(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,t,k),{cause:_.cause||_}):se.from(_,_&&_.code,t,k)}})),ad={http:bT,xhr:XT,fetch:a3};L.forEach(ad,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}});const Hg=t=>`- ${t}`,l3=t=>L.isFunction(t)||t===null||t===!1,cv={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!l3(n)&&(r=ad[(o=String(n)).toLowerCase()],r===void 0))throw new se(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Hg).join(`
`):" "+Hg(i[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ad};function qu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xi(null,t)}function Wg(t){return qu(t),t.headers=Pt.from(t.headers),t.data=Zu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cv.getAdapter(t.adapter||Jo.adapter)(t).then(function(r){return qu(t),r.data=Zu.call(t,t.transformResponse,r),r.headers=Pt.from(r.headers),r},function(r){return rv(r)||(qu(t),r&&r.response&&(r.response.data=Zu.call(t,t.transformResponse,r.response),r.response.headers=Pt.from(r.response.headers))),Promise.reject(r)})}const uv="1.10.0",Rc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Gg={};Rc.transitional=function(e,n,r){function s(i,o){return"[Axios v"+uv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(e===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!Gg[o]&&(Gg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,c):!0}};Rc.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function c3(t,e,n){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const c=t[i],u=c===void 0||o(c,i,t);if(u!==!0)throw new se("option "+i+" must be "+u,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const ll={assertOptions:c3,validators:Rc},dn=ll.validators;let ts=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Vg,response:new Vg}}request(e,n){return U(this,null,function*(){try{return yield this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch(o){}}throw r}})}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ls(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&ll.assertOptions(r,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:ll.assertOptions(s,{encode:dn.function,serialize:dn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ll.assertOptions(n,{baseUrl:dn.spelling("baseURL"),withXsrfToken:dn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&L.merge(i.common,i[n.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],k=>{delete i[k]}),n.headers=Pt.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,p=0,g;if(!u){const k=[Wg.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,h),g=k.length,f=Promise.resolve(n);p<g;)f=f.then(k[p++],k[p++]);return f}g=c.length;let y=n;for(p=0;p<g;){const k=c[p++],x=c[p++];try{y=k(y)}catch(I){x.call(this,I);break}}try{f=Wg.call(this,y)}catch(k){return Promise.reject(k)}for(p=0,g=h.length;p<g;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=ls(this.defaults,e);const n=iv(e.baseURL,e.url,e.allowAbsoluteUrls);return ev(n,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){ts.prototype[e]=function(n,r){return this.request(ls(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,c){return this.request(ls(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ts.prototype[e]=n(),ts.prototype[e+"Form"]=n(!0)});let u3=class hv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,c){r.reason||(r.reason=new xi(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hv(function(s){e=s}),cancel:e}}};function h3(t){return function(n){return t.apply(null,n)}}function d3(t){return L.isObject(t)&&t.isAxiosError===!0}const ld={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ld).forEach(([t,e])=>{ld[e]=t});function dv(t){const e=new ts(t),n=z1(ts.prototype.request,e);return L.extend(n,ts.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dv(ls(t,s))},n}const Ce=dv(Jo);Ce.Axios=ts;Ce.CanceledError=xi;Ce.CancelToken=u3;Ce.isCancel=rv;Ce.VERSION=uv;Ce.toFormData=Cc;Ce.AxiosError=se;Ce.Cancel=Ce.CanceledError;Ce.all=function(e){return Promise.all(e)};Ce.spread=h3;Ce.isAxiosError=d3;Ce.mergeConfig=ls;Ce.AxiosHeaders=Pt;Ce.formToJSON=t=>nv(L.isHTMLForm(t)?new FormData(t):t);Ce.getAdapter=cv.getAdapter;Ce.HttpStatusCode=ld;Ce.default=Ce;const{Axios:SA,AxiosError:CA,CanceledError:AA,isCancel:RA,CancelToken:PA,VERSION:MA,all:DA,Cancel:LA,isAxiosError:VA,spread:OA,toFormData:FA,AxiosHeaders:UA,HttpStatusCode:BA,formToJSON:zA,getAdapter:$A,mergeConfig:HA}=Ce,fv="AIzaSyAdY6wMeKXdqTY1SSj1uALxPuL4LfNLDBo",mv="https://maps.googleapis.com/maps/api/place",f3=(t,e=400)=>t?`${mv}/photo?maxwidth=${e}&photoreference=${t}&key=${fv}`:"https://via.placeholder.com/400x300",m3="ChIJ8T1GpMGLGGARDVtqMzlZOzI",p3=()=>U(Me,null,function*(){var t,e,n,r,s;try{const i=yield Ce.get(`${mv}/details/json`,{params:{place_id:m3,fields:"name,rating,user_ratings_total,opening_hours,reviews,photos,website,formatted_phone_number",key:fv,language:"ja"}});if(i.data.status==="OK"){const o=i.data.result;return{name:o.name,rating:o.rating||4.2,userRatingsTotal:o.user_ratings_total||15032,isOpen:(e=(t=o.opening_hours)==null?void 0:t.open_now)!=null?e:!0,currentOpeningHours:(n=o.opening_hours)==null?void 0:n.weekday_text,reviews:((r=o.reviews)==null?void 0:r.slice(0,5).map(c=>({author:c.author_name,rating:c.rating,text:c.text,time:c.relative_time_description})))||[],photos:((s=o.photos)==null?void 0:s.slice(0,5).map(c=>f3(c.photo_reference,800)))||[],website:o.website,phoneNumber:o.formatted_phone_number}}else return Zg()}catch(i){return console.error("Error fetching Tokyo Tower Google info:",i),Zg()}}),Zg=()=>({name:"",rating:4.2,userRatingsTotal:15032,isOpen:!0,currentOpeningHours:[": 9:0023:00",": 9:0023:00",": 9:0023:00",": 9:0023:00",": 9:0023:00",": 9:0023:00",": 9:0023:00"],reviews:[{author:"",rating:5,text:"",time:"2"},{author:"",rating:4,text:"",time:"5"},{author:"John Smith",rating:5,text:"Amazing views of Tokyo! The tower is iconic and the observation deck provides fantastic 360-degree views.",time:"8"},{author:"",rating:4,text:"",time:"12"},{author:"Marie Dubois",rating:5,text:"Magnificent structure! Great views and the staff was very helpful. A must-visit when in Tokyo.",time:"1"}],photos:["https://images.unsplash.com/photo-1513407030348-c983a97b98d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1536098561742-ca998e48cbcc?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1533651819408-626a1d7bec4b?w=800&h=600&fit=crop"],website:"https://www.tokyotower.co.jp/",phoneNumber:"03-3433-5111"}),g3=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(null),[s,i]=R.useState(!0),[o,c]=R.useState(new Date),[u,h]=R.useState("overview"),f=()=>U(Me,null,function*(){i(!0);try{const[y,k]=yield Promise.all([LE(),p3()]);e(y),r(k),c(new Date)}catch(y){console.error(":",y)}finally{i(!1)}});R.useEffect(()=>{f();const y=setInterval(f,10*60*1e3);return()=>clearInterval(y)},[]);const p=y=>new Date(y).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=y=>{const k=new Date,x=new Date(y),I=k.getTime()-x.getTime(),_=Math.floor(I/(1e3*60*60)),v=Math.floor(I/(1e3*60));return _>0?`${_}`:`${v}`};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"pt-20 pb-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-pink/20 to-neon-blue/20"}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-neon-pink/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-80 h-80 bg-neon-blue/20 rounded-full blur-3xl animate-pulse"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:()=>window.history.back(),className:"mr-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition duration-300",children:a.jsx(fs,{className:"w-6 h-6"})}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:" "})]}),a.jsxs("div",{className:"flex items-center space-x-6 text-white/80",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nn,{className:"w-5 h-5"}),a.jsxs("span",{children:[": ",p(o)]})]}),a.jsxs("button",{onClick:f,disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-neon-pink to-neon-purple rounded-full hover:shadow-lg hover:shadow-neon-pink/50 transition duration-300 disabled:opacity-50",children:[a.jsx(Zs,{className:`w-5 h-5 ${s?"animate-spin":""}`}),a.jsx("span",{children:""})]})]})]})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:a.jsx("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1",children:[{id:"overview",label:"",icon:En},{id:"tweets",label:"X",icon:Ag},{id:"reviews",label:"",icon:Bn}].map(({id:y,label:k,icon:x})=>a.jsxs("button",{onClick:()=>h(y),className:`flex-1 flex items-center justify-center space-x-2 py-3 rounded-lg transition duration-300 ${u===y?"bg-gradient-to-r from-neon-pink to-neon-purple text-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:[a.jsx(x,{className:"w-5 h-5"}),a.jsx("span",{children:k})]},y))})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:s?a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(Zs,{className:"w-8 h-8 animate-spin text-neon-pink"})}):a.jsxs(a.Fragment,{children:[u==="overview"&&n&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/80",children:""}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${n.isOpen?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:n.isOpen?"":""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/80",children:""}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bn,{className:"w-4 h-4 text-yellow-400 fill-current"}),a.jsx("span",{className:"ml-1 font-semibold",children:n.rating})]}),a.jsxs("span",{className:"text-white/60",children:["(",n.userRatingsTotal,")"]})]})]}),n.phoneNumber&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/80",children:""}),a.jsx("span",{className:"font-mono",children:n.phoneNumber})]}),n.website&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/80",children:""}),a.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-neon-blue hover:text-neon-pink transition duration-300",children:[a.jsx("span",{children:""}),a.jsx(RN,{className:"w-4 h-4"})]})]})]})]}),n.currentOpeningHours&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("div",{className:"space-y-2",children:n.currentOpeningHours.map((y,k)=>a.jsx("div",{className:"text-white/80",children:y},k))})]})]}),u==="tweets"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:"X (2)"}),t.length===0?a.jsx("div",{className:"text-center py-12 text-white/60",children:"2"}):a.jsx("div",{className:"grid gap-6",children:t.map(y=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:bg-white/15 transition duration-300",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:y.author}),a.jsxs("p",{className:"text-white/60 text-sm",children:["@",y.username]})]}),a.jsx("span",{className:"text-white/60 text-sm",children:g(y.createdAt)})]}),a.jsx("p",{className:"text-white/90 mb-4 leading-relaxed",children:y.text}),a.jsxs("div",{className:"flex items-center space-x-6 text-white/60 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ag,{className:"w-4 h-4"}),a.jsx("span",{children:y.replies})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Zs,{className:"w-4 h-4"}),a.jsx("span",{children:y.retweets})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{children:y.likes})]})]})]},y.id))})]}),u==="reviews"&&n&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),n.reviews.length===0?a.jsx("div",{className:"text-center py-12 text-white/60",children:""}):a.jsx("div",{className:"grid gap-6",children:n.reviews.map((y,k)=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:y.author}),a.jsx("div",{className:"flex items-center mt-1",children:[...Array(5)].map((x,I)=>a.jsx(Bn,{className:`w-4 h-4 ${I<y.rating?"text-yellow-400 fill-current":"text-white/30"}`},I))})]}),a.jsx("span",{className:"text-white/60 text-sm",children:y.time})]}),a.jsx("p",{className:"text-white/90 leading-relaxed",children:y.text})]},k))})]})]})}),a.jsx(Or,{})]})},y3=()=>{};var qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|h>>6,y=h&63;u||(y=64,o||(g=64)),r.push(n[f],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||p==null)throw new v3;const g=i<<2|c>>4;if(r.push(g),h!==64){const y=c<<4&240|h>>2;if(r.push(y),p!==64){const k=h<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class v3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w3=function(t){const e=pv(t);return gv.encodeByteArray(e,!0)},$l=function(t){return w3(t).replace(/\./g,"")},_3=function(t){try{return gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=()=>b3().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process=="undefined"||typeof qg=="undefined")return;const t=qg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N3=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&_3(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return y3()||I3()||k3()||N3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E3=t=>{var e,n;return(n=(e=Mf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yv=t=>{const e=E3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xv=()=>{var t;return(t=Mf())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function vv(t){return U(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=te({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$l(JSON.stringify(n)),$l(JSON.stringify(o)),""].join(".")}const lo={};function j3(){const t={prod:[],emulator:[]};for(const e of Object.keys(lo))lo[e]?t.emulator.push(e):t.prod.push(e);return t}function S3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qg=!1;function _v(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!Pc(window.location.host)||lo[t]===e||lo[t]||Qg)return;lo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=j3().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Qg=!0,o()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=S3(r),y=n("text"),k=document.getElementById(y)||document.createElement("span"),x=n("learnmore"),I=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;c(N),f(I,x);const C=h();u(v,_),N.append(v,k,I,C),document.body.appendChild(N)}i?(k.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A3(){var e;const t=(e=Mf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch(n){return!1}}function R3(){return!A3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P3(){try{return typeof indexedDB=="object"}catch(t){return!1}}function M3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D3,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bv.prototype.create)}}class bv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?L3(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new ms(s,c,r)}}function L3(t,e){return t.replace(V3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const V3=/\{\$([^}]+)}/g;function Hl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Kg(i)&&Kg(o)){if(!Hl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Kg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch(s){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(s=e==null?void 0:e.optional)!=null?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U3(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch(i){}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return U(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var o;const r=this.normalizeInstanceIdentifier(n),s=(o=this.onInitCallbacks.get(r))!=null?o:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch(i){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(s){}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F3(t){return t===Zr?void 0:t}function U3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const z3={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},$3=ce.INFO,H3={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},W3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=H3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=$3,this._logHandler=W3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const G3=(t,e)=>e.some(n=>t instanceof n);let Jg,Xg;function Z3(){return Jg||(Jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q3(){return Xg||(Xg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,cd=new WeakMap,Nv=new WeakMap,Qu=new WeakMap,Df=new WeakMap;function Q3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kv.set(n,t)}).catch(()=>{}),Df.set(e,t),e}function K3(t){if(cd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cd.set(t,e)}let ud={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J3(t){ud=t(ud)}function X3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ku(this),e,...n);return Nv.set(r,e.sort?e.sort():[e]),vr(r)}:q3().includes(t)?function(...e){return t.apply(Ku(this),e),vr(kv.get(this))}:function(...e){return vr(t.apply(Ku(this),e))}}function Y3(t){return typeof t=="function"?X3(t):(t instanceof IDBTransaction&&K3(t),G3(t,Z3())?new Proxy(t,ud):t)}function vr(t){if(t instanceof IDBRequest)return Q3(t);if(Qu.has(t))return Qu.get(t);const e=Y3(t);return e!==t&&(Qu.set(t,e),Df.set(e,t)),e}const Ku=t=>Df.get(t);function e4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=vr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vr(o.result),u.oldVersion,u.newVersion,vr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const t4=["get","getKey","getAll","getAllKeys","count"],n4=["put","add","delete","clear"],Ju=new Map;function Yg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ju.get(e))return Ju.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t4.includes(n)))return;const i=function(o,...c){return U(this,null,function*(){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[n](...c),s&&u.done]))[0]})};return Ju.set(e,i),i}J3(t=>Qe(te({},t),{get:(e,n,r)=>Yg(e,n)||t.get(e,n,r),has:(e,n)=>!!Yg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",e0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Iv("@firebase/app"),i4="@firebase/app-compat",o4="@firebase/analytics-compat",a4="@firebase/analytics",l4="@firebase/app-check-compat",c4="@firebase/app-check",u4="@firebase/auth",h4="@firebase/auth-compat",d4="@firebase/database",f4="@firebase/data-connect",m4="@firebase/database-compat",p4="@firebase/functions",g4="@firebase/functions-compat",y4="@firebase/installations",x4="@firebase/installations-compat",v4="@firebase/messaging",w4="@firebase/messaging-compat",_4="@firebase/performance",b4="@firebase/performance-compat",I4="@firebase/remote-config",k4="@firebase/remote-config-compat",N4="@firebase/storage",E4="@firebase/storage-compat",T4="@firebase/firestore",j4="@firebase/ai",S4="@firebase/firestore-compat",C4="firebase",A4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",R4={[hd]:"fire-core",[i4]:"fire-core-compat",[a4]:"fire-analytics",[o4]:"fire-analytics-compat",[c4]:"fire-app-check",[l4]:"fire-app-check-compat",[u4]:"fire-auth",[h4]:"fire-auth-compat",[d4]:"fire-rtdb",[f4]:"fire-data-connect",[m4]:"fire-rtdb-compat",[p4]:"fire-fn",[g4]:"fire-fn-compat",[y4]:"fire-iid",[x4]:"fire-iid-compat",[v4]:"fire-fcm",[w4]:"fire-fcm-compat",[_4]:"fire-perf",[b4]:"fire-perf-compat",[I4]:"fire-rc",[k4]:"fire-rc-compat",[N4]:"fire-gcs",[E4]:"fire-gcs-compat",[T4]:"fire-fst",[S4]:"fire-fst-compat",[j4]:"fire-vertex","fire-js":"fire-js",[C4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,P4=new Map,fd=new Map;function t0(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(fd.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,t);for(const n of Wl.values())t0(n,t);for(const n of P4.values())t0(n,t);return!0}function Ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tv(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new bv("app","Firebase",M4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r){this._isDeleted=!1,this._options=te({},e),this._config=te({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=A4;function Sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=te({name:dd,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw wr.create("bad-app-name",{appName:String(s)});if(n||(n=xv()),!n)throw wr.create("no-options");const i=Wl.get(s);if(i){if(Hl(n,i.options)&&Hl(r,i.config))return i;throw wr.create("duplicate-app",{appName:s})}const o=new B3(s);for(const u of fd.values())o.addComponent(u);const c=new D4(n,r,o);return Wl.set(s,c),c}function Cv(t=dd){const e=Wl.get(t);if(!e&&t===dd&&xv())return Sv();if(!e)throw wr.create("no-app",{appName:t});return e}function _r(t,e,n){var o;let r=(o=R4[t])!=null?o:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&c.push("and"),i&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(c.join(" "));return}Po(new ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firebase-heartbeat-database",V4=1,Mo="firebase-heartbeat-store";let Xu=null;function Av(){return Xu||(Xu=e4(L4,V4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mo)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),Xu}function O4(t){return U(this,null,function*(){try{const n=(yield Av()).transaction(Mo),r=yield n.objectStore(Mo).get(Rv(t));return yield n.done,r}catch(e){if(e instanceof ms)Qn.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(n.message)}}})}function n0(t,e){return U(this,null,function*(){try{const r=(yield Av()).transaction(Mo,"readwrite");yield r.objectStore(Mo).put(e,Rv(t)),yield r.done}catch(n){if(n instanceof ms)Qn.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(r.message)}}})}function Rv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,U4=30;class B4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return U(this,null,function*(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>U4){const o=H4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}})}getHeartbeatsHeader(){return U(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r0(),{heartbeatsToSend:r,unsentEntries:s}=z4(this._heartbeatsCache.heartbeats),i=$l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qn.warn(n),""}})}}function r0(){return new Date().toISOString().substring(0,10)}function z4(t,e=F4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),s0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),s0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return U(this,null,function*(){return P3()?M3().then(()=>!0).catch(()=>!1):!1})}read(){return U(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield O4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return U(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const s=yield this.read();return n0(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return U(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const s=yield this.read();return n0(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}}function s0(t){return $l(JSON.stringify({version:2,heartbeats:t})).length}function H4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){Po(new ii("platform-logger",e=>new r4(e),"PRIVATE")),Po(new ii("heartbeat",e=>new B4(e),"PRIVATE")),_r(hd,e0,t),_r(hd,e0,"esm2020"),_r("fire-js","")}W4("");var G4="firebase",Z4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(G4,Z4,"app");var i0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,Pv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function T(){}T.prototype=b.prototype,E.D=b.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(j,A,P){for(var S=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)S[xt-2]=arguments[xt];return b.prototype[A].apply(j,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,b,T){T||(T=0);var j=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)j[A]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(A=0;16>A;++A)j[A]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=E.g[0],T=E.g[1],A=E.g[2];var P=E.g[3],S=b+(P^T&(A^P))+j[0]+3614090360&4294967295;b=T+(S<<7&4294967295|S>>>25),S=P+(A^b&(T^A))+j[1]+3905402710&4294967295,P=b+(S<<12&4294967295|S>>>20),S=A+(T^P&(b^T))+j[2]+606105819&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(b^A&(P^b))+j[3]+3250441966&4294967295,T=A+(S<<22&4294967295|S>>>10),S=b+(P^T&(A^P))+j[4]+4118548399&4294967295,b=T+(S<<7&4294967295|S>>>25),S=P+(A^b&(T^A))+j[5]+1200080426&4294967295,P=b+(S<<12&4294967295|S>>>20),S=A+(T^P&(b^T))+j[6]+2821735955&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(b^A&(P^b))+j[7]+4249261313&4294967295,T=A+(S<<22&4294967295|S>>>10),S=b+(P^T&(A^P))+j[8]+1770035416&4294967295,b=T+(S<<7&4294967295|S>>>25),S=P+(A^b&(T^A))+j[9]+2336552879&4294967295,P=b+(S<<12&4294967295|S>>>20),S=A+(T^P&(b^T))+j[10]+4294925233&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(b^A&(P^b))+j[11]+2304563134&4294967295,T=A+(S<<22&4294967295|S>>>10),S=b+(P^T&(A^P))+j[12]+1804603682&4294967295,b=T+(S<<7&4294967295|S>>>25),S=P+(A^b&(T^A))+j[13]+4254626195&4294967295,P=b+(S<<12&4294967295|S>>>20),S=A+(T^P&(b^T))+j[14]+2792965006&4294967295,A=P+(S<<17&4294967295|S>>>15),S=T+(b^A&(P^b))+j[15]+1236535329&4294967295,T=A+(S<<22&4294967295|S>>>10),S=b+(A^P&(T^A))+j[1]+4129170786&4294967295,b=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(b^T))+j[6]+3225465664&4294967295,P=b+(S<<9&4294967295|S>>>23),S=A+(b^T&(P^b))+j[11]+643717713&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^b&(A^P))+j[0]+3921069994&4294967295,T=A+(S<<20&4294967295|S>>>12),S=b+(A^P&(T^A))+j[5]+3593408605&4294967295,b=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(b^T))+j[10]+38016083&4294967295,P=b+(S<<9&4294967295|S>>>23),S=A+(b^T&(P^b))+j[15]+3634488961&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^b&(A^P))+j[4]+3889429448&4294967295,T=A+(S<<20&4294967295|S>>>12),S=b+(A^P&(T^A))+j[9]+568446438&4294967295,b=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(b^T))+j[14]+3275163606&4294967295,P=b+(S<<9&4294967295|S>>>23),S=A+(b^T&(P^b))+j[3]+4107603335&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^b&(A^P))+j[8]+1163531501&4294967295,T=A+(S<<20&4294967295|S>>>12),S=b+(A^P&(T^A))+j[13]+2850285829&4294967295,b=T+(S<<5&4294967295|S>>>27),S=P+(T^A&(b^T))+j[2]+4243563512&4294967295,P=b+(S<<9&4294967295|S>>>23),S=A+(b^T&(P^b))+j[7]+1735328473&4294967295,A=P+(S<<14&4294967295|S>>>18),S=T+(P^b&(A^P))+j[12]+2368359562&4294967295,T=A+(S<<20&4294967295|S>>>12),S=b+(T^A^P)+j[5]+4294588738&4294967295,b=T+(S<<4&4294967295|S>>>28),S=P+(b^T^A)+j[8]+2272392833&4294967295,P=b+(S<<11&4294967295|S>>>21),S=A+(P^b^T)+j[11]+1839030562&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^b)+j[14]+4259657740&4294967295,T=A+(S<<23&4294967295|S>>>9),S=b+(T^A^P)+j[1]+2763975236&4294967295,b=T+(S<<4&4294967295|S>>>28),S=P+(b^T^A)+j[4]+1272893353&4294967295,P=b+(S<<11&4294967295|S>>>21),S=A+(P^b^T)+j[7]+4139469664&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^b)+j[10]+3200236656&4294967295,T=A+(S<<23&4294967295|S>>>9),S=b+(T^A^P)+j[13]+681279174&4294967295,b=T+(S<<4&4294967295|S>>>28),S=P+(b^T^A)+j[0]+3936430074&4294967295,P=b+(S<<11&4294967295|S>>>21),S=A+(P^b^T)+j[3]+3572445317&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^b)+j[6]+76029189&4294967295,T=A+(S<<23&4294967295|S>>>9),S=b+(T^A^P)+j[9]+3654602809&4294967295,b=T+(S<<4&4294967295|S>>>28),S=P+(b^T^A)+j[12]+3873151461&4294967295,P=b+(S<<11&4294967295|S>>>21),S=A+(P^b^T)+j[15]+530742520&4294967295,A=P+(S<<16&4294967295|S>>>16),S=T+(A^P^b)+j[2]+3299628645&4294967295,T=A+(S<<23&4294967295|S>>>9),S=b+(A^(T|~P))+j[0]+4096336452&4294967295,b=T+(S<<6&4294967295|S>>>26),S=P+(T^(b|~A))+j[7]+1126891415&4294967295,P=b+(S<<10&4294967295|S>>>22),S=A+(b^(P|~T))+j[14]+2878612391&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~b))+j[5]+4237533241&4294967295,T=A+(S<<21&4294967295|S>>>11),S=b+(A^(T|~P))+j[12]+1700485571&4294967295,b=T+(S<<6&4294967295|S>>>26),S=P+(T^(b|~A))+j[3]+2399980690&4294967295,P=b+(S<<10&4294967295|S>>>22),S=A+(b^(P|~T))+j[10]+4293915773&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~b))+j[1]+2240044497&4294967295,T=A+(S<<21&4294967295|S>>>11),S=b+(A^(T|~P))+j[8]+1873313359&4294967295,b=T+(S<<6&4294967295|S>>>26),S=P+(T^(b|~A))+j[15]+4264355552&4294967295,P=b+(S<<10&4294967295|S>>>22),S=A+(b^(P|~T))+j[6]+2734768916&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~b))+j[13]+1309151649&4294967295,T=A+(S<<21&4294967295|S>>>11),S=b+(A^(T|~P))+j[4]+4149444226&4294967295,b=T+(S<<6&4294967295|S>>>26),S=P+(T^(b|~A))+j[11]+3174756917&4294967295,P=b+(S<<10&4294967295|S>>>22),S=A+(b^(P|~T))+j[2]+718787259&4294967295,A=P+(S<<15&4294967295|S>>>17),S=T+(P^(A|~b))+j[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(A+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+P&4294967295}r.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var T=b-this.blockSize,j=this.B,A=this.h,P=0;P<b;){if(A==0)for(;P<=T;)s(this,E,P),P+=this.blockSize;if(typeof E=="string"){for(;P<b;)if(j[A++]=E.charCodeAt(P++),A==this.blockSize){s(this,j),A=0;break}}else for(;P<b;)if(j[A++]=E[P++],A==this.blockSize){s(this,j),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var T=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=T&255,T/=256;for(this.u(E),E=Array(16),b=T=0;4>b;++b)for(var j=0;32>j;j+=8)E[T++]=this.g[b]>>>j&255;return E};function i(E,b){var T=c;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=b(E)}function o(E,b){this.h=b;for(var T=[],j=!0,A=E.length-1;0<=A;A--){var P=E[A]|0;j&&P==b||(T[A]=P,j=!1)}this.g=T}var c={};function u(E){return-128<=E&&128>E?i(E,function(b){return new o([b|0],0>b?-1:0)}):new o([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return I(h(-E));for(var b=[],T=1,j=0;E>=T;j++)b[j]=E/T|0,T*=4294967296;return new o(b,0)}function f(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return I(f(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(b,8)),j=p,A=0;A<E.length;A+=8){var P=Math.min(8,E.length-A),S=parseInt(E.substring(A,A+P),b);8>P?(P=h(Math.pow(b,P)),j=j.j(P).add(h(S))):(j=j.j(T),j=j.add(h(S)))}return j}var p=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-I(this).m();for(var E=0,b=1,T=0;T<this.g.length;T++){var j=this.i(T);E+=(0<=j?j:4294967296+j)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(x(this))return"-"+I(this).toString(E);for(var b=h(Math.pow(E,6)),T=this,j="";;){var A=C(T,b).g;T=_(T,A.j(b));var P=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=A,k(T))return P+j;for(;6>P.length;)P="0"+P;j=P+j}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:k(E)?0:1};function I(E){for(var b=E.g.length,T=[],j=0;j<b;j++)T[j]=~E.g[j];return new o(T,~E.h).add(g)}t.abs=function(){return x(this)?I(this):this},t.add=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],j=0,A=0;A<=b;A++){var P=j+(this.i(A)&65535)+(E.i(A)&65535),S=(P>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);j=S>>>16,P&=65535,S&=65535,T[A]=S<<16|P}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(E,b){return E.add(I(b))}t.j=function(E){if(k(this)||k(E))return p;if(x(this))return x(E)?I(this).j(I(E)):I(I(this).j(E));if(x(E))return I(this.j(I(E)));if(0>this.l(y)&&0>E.l(y))return h(this.m()*E.m());for(var b=this.g.length+E.g.length,T=[],j=0;j<2*b;j++)T[j]=0;for(j=0;j<this.g.length;j++)for(var A=0;A<E.g.length;A++){var P=this.i(j)>>>16,S=this.i(j)&65535,xt=E.i(A)>>>16,Mn=E.i(A)&65535;T[2*j+2*A]+=S*Mn,v(T,2*j+2*A),T[2*j+2*A+1]+=P*Mn,v(T,2*j+2*A+1),T[2*j+2*A+1]+=S*xt,v(T,2*j+2*A+1),T[2*j+2*A+2]+=P*xt,v(T,2*j+2*A+2)}for(j=0;j<b;j++)T[j]=T[2*j+1]<<16|T[2*j];for(j=b;j<2*b;j++)T[j]=0;return new o(T,0)};function v(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function N(E,b){this.g=E,this.h=b}function C(E,b){if(k(b))throw Error("division by zero");if(k(E))return new N(p,p);if(x(E))return b=C(I(E),b),new N(I(b.g),I(b.h));if(x(b))return b=C(E,I(b)),new N(I(b.g),b.h);if(30<E.g.length){if(x(E)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var T=g,j=b;0>=j.l(E);)T=D(T),j=D(j);var A=O(T,1),P=O(j,1);for(j=O(j,2),T=O(T,2);!k(j);){var S=P.add(j);0>=S.l(E)&&(A=A.add(T),P=S),j=O(j,1),T=O(T,1)}return b=_(E,A.j(b)),new N(A,b)}for(A=p;0<=E.l(b);){for(T=Math.max(1,Math.floor(E.m()/b.m())),j=Math.ceil(Math.log(T)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),P=h(T),S=P.j(b);x(S)||0<S.l(E);)T-=j,P=h(T),S=P.j(b);k(P)&&(P=g),A=A.add(P),E=_(E,S)}return new N(A,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],j=0;j<b;j++)T[j]=this.i(j)&E.i(j);return new o(T,this.h&E.h)},t.or=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],j=0;j<b;j++)T[j]=this.i(j)|E.i(j);return new o(T,this.h|E.h)},t.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],j=0;j<b;j++)T[j]=this.i(j)^E.i(j);return new o(T,this.h^E.h)};function D(E){for(var b=E.g.length+1,T=[],j=0;j<b;j++)T[j]=E.i(j)<<1|E.i(j-1)>>>31;return new o(T,E.h)}function O(E,b){var T=b>>5;b%=32;for(var j=E.g.length-T,A=[],P=0;P<j;P++)A[P]=0<b?E.i(P+T)>>>b|E.i(P+T+1)<<32-b:E.i(P+T);return new o(A,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,br=o}).apply(typeof i0!="undefined"?i0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Oa=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mv,Ki,Dv,cl,md,Lv,Vv,Ov;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oa=="object"&&Oa];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var m=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in m))break e;m=m[M]}l=l[l.length-1],w=m[l],d=d(w),d!=w&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var m=0,w=!1,M={next:function(){if(!w&&m<l.length){var V=m++;return{value:d(V,l[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function h(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function f(l,d,m){return l.call.apply(l.bind,arguments)}function p(l,d,m){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function g(l,d,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function k(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(w,M,V){for(var $=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)$[ge-2]=arguments[ge];return d.prototype[M].apply(w,$)}}function x(l){const d=l.length;if(0<d){const m=Array(d);for(let w=0;w<d;w++)m[w]=l[w];return m}return[]}function I(l,d){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const M=l.length||0,V=w.length||0;l.length=M+V;for(let $=0;$<V;$++)l[M+$]=w[$]}else l.push(w)}}class _{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function v(l){return/^[\s\xa0]*$/.test(l)}function N(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var D=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function O(l,d,m){for(const w in l)d.call(m,l[w],w,l)}function E(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function b(l){const d={};for(const m in l)d[m]=l[m];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(l,d){let m,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(m in w)l[m]=w[m];for(let V=0;V<T.length;V++)m=T[V],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function A(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function P(l){c.setTimeout(()=>{throw l},0)}function S(){var l=X;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class xt{constructor(){this.h=this.g=null}add(d,m){const w=Mn.get();w.set(d,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Mn=new _(()=>new Fr,l=>l.reset());class Fr{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,H=!1,X=new xt,re=()=>{const l=c.Promise.resolve(void 0);Jt=()=>{l.then(ve)}};var ve=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(m){P(m)}var d=Mn;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}H=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Xt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};c.addEventListener("test",m,d),c.removeEventListener("test",m,d)}catch(m){}return l}();function Bt(l,d){if(Ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(D){e:{try{C(d.nodeName);var M=!0;break e}catch(V){}M=!1}M||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Z[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Bt.aa.h.call(this)}}k(Bt,Ne);var Z={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),De=0;function pe(l,d,m,w,M){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!w,this.ha=M,this.key=++De,this.da=this.fa=!1}function $e(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Le(l){this.src=l,this.g={},this.h=0}Le.prototype.add=function(l,d,m,w,M){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var $=Ve(l,d,w,M);return-1<$?(d=l[$],m||(d.fa=!1)):(d=new pe(d,this.src,V,!!w,M),d.fa=m,l.push(d)),d};function qe(l,d){var m=d.type;if(m in l.g){var w=l.g[m],M=Array.prototype.indexOf.call(w,d,void 0),V;(V=0<=M)&&Array.prototype.splice.call(w,M,1),V&&($e(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ve(l,d,m,w){for(var M=0;M<l.length;++M){var V=l[M];if(!V.da&&V.listener==d&&V.capture==!!m&&V.ha==w)return M}return-1}var Qc="closure_lm_"+(1e6*Math.random()|0),Kc={};function fm(l,d,m,w,M){if(Array.isArray(d)){for(var V=0;V<d.length;V++)fm(l,d[V],m,w,M);return null}return m=gm(m),l&&l[Y]?l.K(d,m,h(w)?!!w.capture:!1,M):x_(l,d,m,!1,w,M)}function x_(l,d,m,w,M,V){if(!d)throw Error("Invalid event type");var $=h(M)?!!M.capture:!!M,ge=Xc(l);if(ge||(l[Qc]=ge=new Le(l)),m=ge.add(d,m,w,$,V),m.proxy)return m;if(w=v_(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)Xt||(M=$),M===void 0&&(M=!1),l.addEventListener(d.toString(),w,M);else if(l.attachEvent)l.attachEvent(pm(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function v_(){function l(m){return d.call(l.src,l.listener,m)}const d=w_;return l}function mm(l,d,m,w,M){if(Array.isArray(d))for(var V=0;V<d.length;V++)mm(l,d[V],m,w,M);else w=h(w)?!!w.capture:!!w,m=gm(m),l&&l[Y]?(l=l.i,d=String(d).toString(),d in l.g&&(V=l.g[d],m=Ve(V,m,w,M),-1<m&&($e(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[d],l.h--)))):l&&(l=Xc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ve(d,m,w,M)),(m=-1<l?d[l]:null)&&Jc(m))}function Jc(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Y])qe(d.i,l);else{var m=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(m,w,l.capture):d.detachEvent?d.detachEvent(pm(m),w):d.addListener&&d.removeListener&&d.removeListener(w),(m=Xc(d))?(qe(m,l),m.h==0&&(m.src=null,d[Qc]=null)):$e(l)}}}function pm(l){return l in Kc?Kc[l]:Kc[l]="on"+l}function w_(l,d){if(l.da)l=!0;else{d=new Bt(d,this);var m=l.listener,w=l.ha||l.src;l.fa&&Jc(l),l=m.call(w,d)}return l}function Xc(l){return l=l[Qc],l instanceof Le?l:null}var Yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function gm(l){return typeof l=="function"?l:(l[Yc]||(l[Yc]=function(d){return l.handleEvent(d)}),l[Yc])}function at(){fe.call(this),this.i=new Le(this),this.M=this,this.F=null}k(at,fe),at.prototype[Y]=!0,at.prototype.removeEventListener=function(l,d,m,w){mm(this,l,d,m,w)};function vt(l,d){var m,w=l.F;if(w)for(m=[];w;w=w.F)m.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new Ne(d,l);else if(d instanceof Ne)d.target=d.target||l;else{var M=d;d=new Ne(w,l),j(d,M)}if(M=!0,m)for(var V=m.length-1;0<=V;V--){var $=d.g=m[V];M=ra($,w,!0,d)&&M}if($=d.g=l,M=ra($,w,!0,d)&&M,M=ra($,w,!1,d)&&M,m)for(V=0;V<m.length;V++)$=d.g=m[V],M=ra($,w,!1,d)&&M}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],w=0;w<m.length;w++)$e(m[w]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,m,w){return this.i.add(String(l),d,!1,m,w)},at.prototype.L=function(l,d,m,w){return this.i.add(String(l),d,!0,m,w)};function ra(l,d,m,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,V=0;V<d.length;++V){var $=d[V];if($&&!$.da&&$.capture==m){var ge=$.listener,Ye=$.ha||$.src;$.fa&&qe(l.i,$),M=ge.call(Ye,w)!==!1&&M}}return M&&!w.defaultPrevented}function ym(l,d,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(l,d||0)}function xm(l){l.g=ym(()=>{l.g=null,l.i&&(l.i=!1,xm(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class __ extends fe{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(l){fe.call(this),this.h=l,this.g={}}k(Ii,fe);var vm=[];function wm(l){O(l.g,function(d,m){this.g.hasOwnProperty(m)&&Jc(d)},l),l.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),wm(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eu=c.JSON.stringify,b_=c.JSON.parse,I_=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function tu(){}tu.prototype.h=null;function _m(l){return l.h||(l.h=l.i())}function bm(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nu(){Ne.call(this,"d")}k(nu,Ne);function ru(){Ne.call(this,"c")}k(ru,Ne);var Ur={},Im=null;function sa(){return Im=Im||new at}Ur.La="serverreachability";function km(l){Ne.call(this,Ur.La,l)}k(km,Ne);function Ni(l){const d=sa();vt(d,new km(d))}Ur.STAT_EVENT="statevent";function Nm(l,d){Ne.call(this,Ur.STAT_EVENT,l),this.stat=d}k(Nm,Ne);function wt(l){const d=sa();vt(d,new Nm(d,l))}Ur.Ma="timingevent";function Em(l,d){Ne.call(this,Ur.Ma,l),this.size=d}k(Em,Ne);function Ei(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},d)}function Ti(){this.g=!0}Ti.prototype.xa=function(){this.g=!1};function k_(l,d,m,w,M,V){l.info(function(){if(l.g)if(V)for(var $="",ge=V.split("&"),Ye=0;Ye<ge.length;Ye++){var he=ge[Ye].split("=");if(1<he.length){var lt=he[0];he=he[1];var ct=lt.split("_");$=2<=ct.length&&ct[1]=="type"?$+(lt+"="+he+"&"):$+(lt+"=redacted&")}}else $=null;else $=V;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+d+`
`+m+`
`+$})}function N_(l,d,m,w,M,V,$){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+d+`
`+m+`
`+V+" "+$})}function vs(l,d,m,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+T_(l,m)+(w?" "+w:"")})}function E_(l,d){l.info(function(){return"TIMEOUT: "+d})}Ti.prototype.info=function(){};function T_(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var w=m[l];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return eu(m)}catch(ge){return d}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},su;function oa(){}k(oa,tu),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},su=new oa;function Yn(l,d,m,w){this.j=l,this.i=d,this.l=m,this.R=w||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jm}function jm(){this.i=null,this.g="",this.h=!1}var Sm={},iu={};function ou(l,d,m){l.L=1,l.v=ua(Dn(d)),l.m=m,l.P=!0,Cm(l,null)}function Cm(l,d){l.F=Date.now(),aa(l),l.A=Dn(l.v);var m=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Hm(m.i,"t",w),l.C=0,m=l.j.J,l.h=new jm,l.g=lp(l.j,m?d:null,!l.m),0<l.O&&(l.M=new __(g(l.Y,l,l.g),l.O)),d=l.U,m=l.g,w=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(vm[0]=M.toString()),M=vm);for(var V=0;V<M.length;V++){var $=fm(m,M[V],w||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Ni(),k_(l.i,l.u,l.A,l.l,l.R,l.m)}Yn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Ln(l)==3?d.j():this.Y(l)},Yn.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Ln(this.g);var d=this.g.Ba();const bs=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Jm(this.g)))){this.J||ct!=4||d==7||(d==8||0>=bs?Ni(3):Ni(2)),au(this);var m=this.g.Z();this.X=m;t:if(Am(this)){var w=Jm(this.g);l="";var M=w.length,V=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Br(this),ji(this);var $="";break t}this.h.i=new c.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(V&&d==M-1)});w.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,N_(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Ye=this.g;if((ge=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ge)){var he=ge;break t}}he=null}if(m=he)vs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lu(this,m);else{this.o=!1,this.s=3,wt(12),Br(this),ji(this);break e}}if(this.P){m=!0;let Yt;for(;!this.J&&this.C<$.length;)if(Yt=j_(this,$),Yt==iu){ct==4&&(this.s=4,wt(14),m=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Sm){this.s=4,wt(15),vs(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else vs(this.i,this.l,Yt,null),lu(this,Yt);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||$.length!=0||this.h.h||(this.s=1,wt(16),m=!1),this.o=this.o&&m,!m)vs(this.i,this.l,$,"[Invalid Chunked Response]"),Br(this),ji(this);else if(0<$.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),mu(lt),lt.M=!0,wt(11))}}else vs(this.i,this.l,$,null),lu(this,$);ct==4&&Br(this),this.o&&!this.J&&(ct==4?sp(this.j,this):(this.o=!1,aa(this)))}else W_(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Br(this),ji(this)}}}catch(ct){}finally{}};function Am(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function j_(l,d){var m=l.C,w=d.indexOf(`
`,m);return w==-1?iu:(m=Number(d.substring(m,w)),isNaN(m)?Sm:(w+=1,w+m>d.length?iu:(d=d.slice(w,w+m),l.C=w+m,d)))}Yn.prototype.cancel=function(){this.J=!0,Br(this)};function aa(l){l.S=Date.now()+l.I,Rm(l,l.I)}function Rm(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ei(g(l.ba,l),d)}function au(l){l.B&&(c.clearTimeout(l.B),l.B=null)}Yn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(E_(this.i,this.A),this.L!=2&&(Ni(),wt(17)),Br(this),this.s=2,ji(this)):Rm(this,this.S-l)};function ji(l){l.j.G==0||l.J||sp(l.j,l)}function Br(l){au(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,wm(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lu(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||cu(m.h,l))){if(!l.K&&cu(m.h,l)&&m.G==3){try{var w=m.Da.g.parse(d)}catch(he){w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)ga(m),ma(m);else break e;fu(m),wt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ei(g(m.Za,m),6e3));if(1>=Dm(m.h)&&m.ca){try{m.ca()}catch(he){}m.ca=void 0}}else $r(m,11)}else if((l.K||m.g==l)&&ga(m),!v(d))for(M=m.Da.g.parse(d),d=0;d<M.length;d++){let he=M[d];if(m.T=he[0],he=he[1],m.G==2)if(he[0]=="c"){m.K=he[1],m.ia=he[2];const lt=he[3];lt!=null&&(m.la=lt,m.j.info("VER="+m.la));const ct=he[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));const bs=he[5];bs!=null&&typeof bs=="number"&&0<bs&&(w=1.5*bs,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const Yt=l.g;if(Yt){const xa=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var V=w.h;V.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(uu(V,V.h),V.h=null))}if(w.D){const pu=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(w.ya=pu,we(w.I,w.D,pu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var $=l;if(w.qa=ap(w,w.J?w.ia:null,w.W),$.K){Lm(w.h,$);var ge=$,Ye=w.L;Ye&&(ge.I=Ye),ge.B&&(au(ge),aa(ge)),w.g=$}else np(w);0<m.i.length&&pa(m)}else he[0]!="stop"&&he[0]!="close"||$r(m,7);else m.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?$r(m,7):du(m):he[0]!="noop"&&m.l&&m.l.ta(he),m.v=0)}}Ni(4)}catch(he){}}var S_=class{constructor(l,d){this.g=l,this.map=d}};function Pm(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Dm(l){return l.h?1:l.g?l.g.size:0}function cu(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uu(l,d){l.g?l.g.add(d):l.h=d}function Lm(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Pm.prototype.cancel=function(){if(this.i=Vm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vm(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return x(l.i)}function C_(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map!="undefined"&&l instanceof Map||typeof Set!="undefined"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,w=0;w<m;w++)d.push(l[w]);return d}d=[],m=0;for(w in l)d[m++]=l[w];return d}function A_(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map!="undefined"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set!="undefined"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const w in l)d[m++]=w;return d}}}function Om(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=A_(l),w=C_(l),M=w.length,V=0;V<M;V++)d.call(void 0,w[V],m&&m[V],l)}var Fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R_(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var w=l[m].indexOf("="),M=null;if(0<=w){var V=l[m].substring(0,w);M=l[m].substring(w+1)}else V=l[m];d(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function zr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof zr){this.h=l.h,la(this,l.j),this.o=l.o,this.g=l.g,ca(this,l.s),this.l=l.l;var d=l.i,m=new Ai;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Um(this,m),this.m=l.m}else l&&(d=String(l).match(Fm))?(this.h=!1,la(this,d[1]||"",!0),this.o=Si(d[2]||""),this.g=Si(d[3]||"",!0),ca(this,d[4]),this.l=Si(d[5]||"",!0),Um(this,d[6]||"",!0),this.m=Si(d[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}zr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ci(d,Bm,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ci(d,Bm,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ci(m,m.charAt(0)=="/"?D_:M_,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ci(m,V_)),l.join("")};function Dn(l){return new zr(l)}function la(l,d,m){l.j=m?Si(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ca(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Um(l,d,m){d instanceof Ai?(l.i=d,O_(l.i,l.h)):(m||(d=Ci(d,L_)),l.i=new Ai(d,l.h))}function we(l,d,m){l.i.set(d,m)}function ua(l){return we(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Si(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ci(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,P_),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function P_(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Bm=/[#\/\?@]/g,M_=/[#\?:]/g,D_=/[#\?]/g,L_=/[#\?@]/g,V_=/#/g;function Ai(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function er(l){l.g||(l.g=new Map,l.h=0,l.i&&R_(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Ai.prototype,t.add=function(l,d){er(this),this.i=null,l=ws(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function zm(l,d){er(l),d=ws(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function $m(l,d){return er(l),d=ws(l,d),l.g.has(d)}t.forEach=function(l,d){er(this),this.g.forEach(function(m,w){m.forEach(function(M){l.call(d,M,w,this)},this)},this)},t.na=function(){er(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let w=0;w<d.length;w++){const M=l[w];for(let V=0;V<M.length;V++)m.push(d[w])}return m},t.V=function(l){er(this);let d=[];if(typeof l=="string")$m(this,l)&&(d=d.concat(this.g.get(ws(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return er(this),this.i=null,l=ws(this,l),$m(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Hm(l,d,m){zm(l,d),0<m.length&&(l.i=null,l.g.set(ws(l,d),x(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var w=d[m];const V=encodeURIComponent(String(w)),$=this.V(w);for(w=0;w<$.length;w++){var M=V;$[w]!==""&&(M+="="+encodeURIComponent(String($[w]))),l.push(M)}}return this.i=l.join("&")};function ws(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function O_(l,d){d&&!l.j&&(er(l),l.i=null,l.g.forEach(function(m,w){var M=w.toLowerCase();w!=M&&(zm(this,w),Hm(this,M,m))},l)),l.j=d}function F_(l,d){const m=new Ti;if(c.Image){const w=new Image;w.onload=y(tr,m,"TestLoadImage: loaded",!0,d,w),w.onerror=y(tr,m,"TestLoadImage: error",!1,d,w),w.onabort=y(tr,m,"TestLoadImage: abort",!1,d,w),w.ontimeout=y(tr,m,"TestLoadImage: timeout",!1,d,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function U_(l,d){const m=new Ti,w=new AbortController,M=setTimeout(()=>{w.abort(),tr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(V=>{clearTimeout(M),V.ok?tr(m,"TestPingServer: ok",!0,d):tr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),tr(m,"TestPingServer: error",!1,d)})}function tr(l,d,m,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(m)}catch(V){}}function B_(){this.g=new I_}function z_(l,d,m){const w=m||"";try{Om(l,function(M,V){let $=M;h(M)&&($=eu(M)),d.push(w+V+"="+encodeURIComponent($))})}catch(M){throw d.push(w+"type="+encodeURIComponent("_badmap")),M}}function ha(l){this.l=l.Ub||null,this.j=l.eb||!1}k(ha,tu),ha.prototype.g=function(){return new da(this.l,this.j)},ha.prototype.i=function(l){return function(){return l}}({});function da(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(da,at),t=da.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Pi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream!="undefined"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wm(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wm(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ri(this):Pi(this),this.readyState==3&&Wm(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ri(this))},t.Qa=function(l){this.g&&(this.response=l,Ri(this))},t.ga=function(){this.g&&Ri(this)};function Ri(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pi(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Pi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Gm(l){let d="";return O(l,function(m,w){d+=w,d+=":",d+=m,d+=`\r
`}),d}function hu(l,d,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Gm(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):we(l,d,m))}function Re(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Re,at);var $_=/^https?$/i,H_=["POST","PUT"];t=Re.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():su.g(),this.v=this.o?_m(this.o):_m(su),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){Zm(this,V);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)m.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())m.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),M=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(H_,d,void 0))||w||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,$]of m)this.g.setRequestHeader(V,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Km(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){Zm(this,V)}};function Zm(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,qm(l),fa(l)}function qm(l){l.A||(l.A=!0,vt(l,"complete"),vt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,vt(this,"complete"),vt(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qm(this):this.bb())},t.bb=function(){Qm(this)};function Qm(l){if(l.h&&typeof o!="undefined"&&(!l.v[1]||Ln(l)!=4||l.Z()!=2)){if(l.u&&Ln(l)==4)ym(l.Ea,0,l);else if(vt(l,"readystatechange"),Ln(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var w;if(w=$===0){var M=String(l.D).match(Fm)[1]||null;!M&&c.self&&c.self.location&&(M=c.self.location.protocol.slice(0,-1)),w=!$_.test(M?M.toLowerCase():"")}m=w}if(m)vt(l,"complete"),vt(l,"success");else{l.m=6;try{var V=2<Ln(l)?l.g.statusText:""}catch(ge){V=""}l.l=V+" ["+l.Z()+"]",qm(l)}}finally{fa(l)}}}}function fa(l,d){if(l.g){Km(l);const m=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||vt(l,"ready");try{m.onreadystatechange=w}catch(M){}}}function Km(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ln(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch(l){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),b_(d)}};function Jm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(d){return null}}function W_(l){const d={};l=(l.g&&2<=Ln(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(v(l[w]))continue;var m=A(l[w]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=d[M]||[];d[M]=V,V.push(m)}E(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Xm(l){this.Aa=0,this.i=[],this.j=new Ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mi("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mi("baseRetryDelayMs",5e3,l),this.cb=Mi("retryDelaySeedMs",1e4,l),this.Wa=Mi("forwardChannelMaxRetries",2,l),this.wa=Mi("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Pm(l&&l.concurrentRequestLimit),this.Da=new B_,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xm.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,w){wt(0),this.W=l,this.H=d||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=ap(this,null,this.W),pa(this)};function du(l){if(Ym(l),l.G==3){var d=l.U++,m=Dn(l.I);if(we(m,"SID",l.K),we(m,"RID",d),we(m,"TYPE","terminate"),Di(l,m),d=new Yn(l,l.j,d),d.L=2,d.v=ua(Dn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(d.v.toString(),"")}catch(w){}!m&&c.Image&&(new Image().src=d.v,m=!0),m||(d.g=lp(d.j,null),d.g.ea(d.v)),d.F=Date.now(),aa(d)}op(l)}function ma(l){l.g&&(mu(l),l.g.cancel(),l.g=null)}function Ym(l){ma(l),l.u&&(c.clearTimeout(l.u),l.u=null),ga(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function pa(l){if(!Mm(l.h)&&!l.s){l.s=!0;var d=l.Ga;Jt||re(),H||(Jt(),H=!0),X.add(d,l),l.B=0}}function G_(l,d){return Dm(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ei(g(l.Ga,l,d),ip(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Yn(this,this.j,l);let V=this.o;if(this.S&&(V?(V=b(V),j(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=tp(this,M,d),m=Dn(this.I),we(m,"RID",l),we(m,"CVER",22),this.D&&we(m,"X-HTTP-Session-Id",this.D),Di(this,m),V&&(this.O?d="headers="+encodeURIComponent(String(Gm(V)))+"&"+d:this.m&&hu(m,this.m,V)),uu(this.h,M),this.Ua&&we(m,"TYPE","init"),this.P?(we(m,"$req",d),we(m,"SID","null"),M.T=!0,ou(M,m,null)):ou(M,m,d),this.G=2}}else this.G==3&&(l?ep(this,l):this.i.length==0||Mm(this.h)||ep(this))};function ep(l,d){var m;d?m=d.l:m=l.U++;const w=Dn(l.I);we(w,"SID",l.K),we(w,"RID",m),we(w,"AID",l.T),Di(l,w),l.m&&l.o&&hu(w,l.m,l.o),m=new Yn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=tp(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uu(l.h,m),ou(m,w,d)}function Di(l,d){l.H&&O(l.H,function(m,w){we(d,w,m)}),l.l&&Om({},function(m,w){we(d,w,m)})}function tp(l,d,m){m=Math.min(l.i.length,m);var w=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let V=-1;for(;;){const $=["count="+m];V==-1?0<m?(V=M[0].g,$.push("ofs="+V)):V=0:$.push("ofs="+V);let ge=!0;for(let Ye=0;Ye<m;Ye++){let he=M[Ye].g;const lt=M[Ye].map;if(he-=V,0>he)V=Math.max(0,M[Ye].g-100),ge=!1;else try{z_(lt,$,"req"+he+"_")}catch(ct){w&&w(lt)}}if(ge){w=$.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,w}function np(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Jt||re(),H||(Jt(),H=!0),X.add(d,l),l.v=0}}function fu(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ei(g(l.Fa,l),ip(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,rp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ei(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),ma(this),rp(this))};function mu(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function rp(l){l.g=new Yn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Dn(l.qa);we(d,"RID","rpc"),we(d,"SID",l.K),we(d,"AID",l.T),we(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&we(d,"TO",l.ja),we(d,"TYPE","xmlhttp"),Di(l,d),l.m&&l.o&&hu(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=ua(Dn(d)),m.m=null,m.P=!0,Cm(m,l)}t.Za=function(){this.C!=null&&(this.C=null,ma(this),fu(this),wt(19))};function ga(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function sp(l,d){var m=null;if(l.g==d){ga(l),mu(l),l.g=null;var w=2}else if(cu(l.h,d))m=d.D,Lm(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;w=sa(),vt(w,new Em(w,m)),pa(l)}else np(l);else if(M=d.s,M==3||M==0&&0<d.X||!(w==1&&G_(l,d)||w==2&&fu(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),M){case 1:$r(l,5);break;case 4:$r(l,10);break;case 3:$r(l,6);break;default:$r(l,2)}}}function ip(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function $r(l,d){if(l.j.info("Error code "+d),d==2){var m=g(l.fb,l),w=l.Xa;const M=!w;w=new zr(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||la(w,"https"),ua(w),M?F_(w.toString(),m):U_(w.toString(),m)}else wt(2);l.G=0,l.l&&l.l.sa(d),op(l),Ym(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function op(l){if(l.G=0,l.ka=[],l.l){const d=Vm(l.h);(d.length!=0||l.i.length!=0)&&(I(l.ka,d),I(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function ap(l,d,m){var w=m instanceof zr?Dn(m):new zr(m);if(w.g!="")d&&(w.g=d+"."+w.g),ca(w,w.s);else{var M=c.location;w=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var V=new zr(null);w&&la(V,w),d&&(V.g=d),M&&ca(V,M),m&&(V.l=m),w=V}return m=l.D,d=l.ya,m&&d&&we(w,m,d),we(w,"VER",l.la),Di(l,w),w}function lp(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Re(new ha({eb:m})):new Re(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cp(){}t=cp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ya(){}ya.prototype.g=function(l,d){return new Mt(l,d)};function Mt(l,d){at.call(this),this.g=new Xm(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!v(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!v(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new _s(this)}k(Mt,at),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){du(this.g)},Mt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=eu(l),l=m);d.i.push(new S_(d.Ya++,l)),d.G==3&&pa(d)},Mt.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,Mt.aa.N.call(this)};function up(l){nu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}k(up,nu);function hp(){ru.call(this),this.status=1}k(hp,ru);function _s(l){this.g=l}k(_s,cp),_s.prototype.ua=function(){vt(this.g,"a")},_s.prototype.ta=function(l){vt(this.g,new up(l))},_s.prototype.sa=function(l){vt(this.g,new hp)},_s.prototype.ra=function(){vt(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Ov=function(){return new ya},Vv=function(){return sa()},Lv=Ur,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,cl=ia,Tm.COMPLETE="complete",Dv=Tm,bm.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",at.prototype.listen=at.prototype.K,Ki=bm,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Mv=Re}).apply(typeof Oa!="undefined"?Oa:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const o0="@firebase/firestore",a0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Iv("@firebase/firestore");function Ns(){return cs.logLevel}function W(t,...e){if(cs.logLevel<=ce.DEBUG){const n=e.map(Lf);cs.debug(`Firestore (${vi}): ${t}`,...n)}}function Kn(t,...e){if(cs.logLevel<=ce.ERROR){const n=e.map(Lf);cs.error(`Firestore (${vi}): ${t}`,...n)}}function oi(t,...e){if(cs.logLevel<=ce.WARN){const n=e.map(Lf);cs.warn(`Firestore (${vi}): ${t}`,...n)}}function Lf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Fv(t,r,n)}function Fv(t,e,n){let r=`FIRESTORE (${vi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(s){r+=" CONTEXT: "+n}throw Kn(r),new Error(r)}function de(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Fv(e,s,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class Q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K4{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(()=>U(this,null,function*(){yield u.promise,yield s(this.currentUser)}))},c=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Uv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new ft(e)}}class J4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new J4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tv(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ej(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function pd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Yu(s)===Yu(i)?oe(s,i):Yu(s)?1:-1}return oe(t.length,e.length)}const tj=55296,nj=57343;function Yu(t){const e=t.charCodeAt(0);return e>=tj&&e<=nj}function ai(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__name__";class mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=mn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return oe(e.length,n.length)}static compareSegments(e,n){const r=mn.isNumericId(e),s=mn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mn.extractNumericId(e).compare(mn.extractNumericId(n)):pd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class be extends mn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends mn{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return rj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new nt([c0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(be.fromString(e))}static fromName(e){return new Q(be.fromString(e).popFirst(5))}static empty(){return new Q(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sj(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function u0(t){if(!Q.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(Q.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Do(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xo(t,e){if(!zv(t))throw new q(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,f0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f0);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xo(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:ze("string",ye._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new ye(0,0))}static max(){return new ee(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=-1;function ij(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new Tr(s,Q.empty(),e)}function oj(t){return new Tr(t.readTime,t.key,Lo)}class Tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(ee.min(),Q.empty(),Lo)}static max(){return new Tr(ee.max(),Q.empty(),Lo)}}function aj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return U(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==lj)throw t;W("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++c,c===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _i(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function Dc(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function hj(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="";function dj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=m0(e)),e=fj(t.get(n),e);return m0(e)}function fj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case $v:n+="";break;default:n+=i}}return n}function m0(t){return t+$v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||tt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fa(this.root,e,this.comparator,!0)}}class Fa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r!=null?r:tt.RED,this.left=s!=null?s:tt.EMPTY,this.right=i!=null?i:tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new tt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1;tt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new Ze(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ai(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException!="undefined"&&i instanceof DOMException?new Wv("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=mj.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="server_timestamp",Zv="__type__",qv="__previous_value__",Qv="__local_write_time__";function Uf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Zv])==null?void 0:r.stringValue)===Gv}function Lc(t){const e=t.mapValue.fields[qv];return Uf(e)?Lc(e):e}function Vo(t){const e=jr(t.mapValue.fields[Qv].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,s,i,o,c,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Zl="(default)";class Oo{constructor(e,n){this.projectId=e,this.database=n||Zl}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database===Zl}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__type__",gj="__max__",Ua={mapValue:{}},Jv="__vector__",ql="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uf(t)?4:xj(t)?9007199254740991:yj(t)?10:11:J(28295,{value:t})}function Tn(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vo(t).isEqual(Vo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=jr(s.timestampValue),c=jr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Sr(s.bytesValue).isEqual(Sr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Oe(s.geoPointValue.latitude)===Oe(i.geoPointValue.latitude)&&Oe(s.geoPointValue.longitude)===Oe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Oe(s.integerValue)===Oe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Oe(s.doubleValue),c=Oe(i.doubleValue);return o===c?Gl(o)===Gl(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ai(t.arrayValue.values||[],e.arrayValue.values||[],Tn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(p0(o)!==p0(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Tn(o[u],c[u])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Fo(t,e){return(t.values||[]).find(n=>Tn(n,e))!==void 0}function li(t,e){if(t===e)return 0;const n=Cr(t),r=Cr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Oe(i.integerValue||i.doubleValue),u=Oe(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return y0(t.timestampValue,e.timestampValue);case 4:return y0(Vo(t),Vo(e));case 5:return pd(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Sr(i),u=Sr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const f=oe(c[h],u[h]);if(f!==0)return f}return oe(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=oe(Oe(i.latitude),Oe(o.latitude));return c!==0?c:oe(Oe(i.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,y,k,x;const c=i.fields||{},u=o.fields||{},h=(g=c[ql])==null?void 0:g.arrayValue,f=(y=u[ql])==null?void 0:y.arrayValue,p=oe(((k=h==null?void 0:h.values)==null?void 0:k.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return p!==0?p:x0(h,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ua.mapValue&&o===Ua.mapValue)return 0;if(i===Ua.mapValue)return 1;if(o===Ua.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=pd(u[p],f[p]);if(g!==0)return g;const y=li(c[u[p]],h[f[p]]);if(y!==0)return y}return oe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=jr(t),r=jr(e),s=oe(n.seconds,r.seconds);return s!==0?s:oe(n.nanos,r.nanos)}function x0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=li(n[s],r[s]);if(i)return i}return oe(n.length,r.length)}function ci(t){return gd(t)}function gd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=gd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${gd(n.fields[o])}`;return s+"}"}(t.mapValue):J(61005,{value:t})}function ul(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(t);return e?16+ul(e):16;case 5:return 2*t.stringValue.length;case 6:return Sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+ul(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ps(r.fields,(i,o)=>{s+=i.length+ul(o)}),s}(t.mapValue);default:throw J(13486,{value:t})}}function yd(t){return!!t&&"integerValue"in t}function Bf(t){return!!t&&"arrayValue"in t}function v0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hl(t){return!!t&&"mapValue"in t}function yj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Kv])==null?void 0:r.stringValue)===Jv}function co(t){if(t.geoPointValue)return{geoPointValue:te({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:te({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=co(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=co(t.arrayValue.values[n]);return e}return te({},t)}function xj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(n)}setAll(e){let n=nt.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=co(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(co(this.value))}}function Xv(t){const e=[];return ps(t.fields,(n,r)=>{const s=new nt([n]);if(hl(r)){const i=Xv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new pt(e,0,ee.min(),ee.min(),ee.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new pt(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new pt(e,2,n,ee.min(),ee.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ee.min(),ee.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.position=e,this.inclusive=n}}function _0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=li(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function vj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{}class We extends Yv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _j(e,n,r):n==="array-contains"?new kj(e,r):n==="in"?new Nj(e,r):n==="not-in"?new Ej(e,r):n==="array-contains-any"?new Tj(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bj(e,r):new Ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(li(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Yv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jn(e,n)}matches(e){return ew(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ew(t){return t.op==="and"}function tw(t){return wj(t)&&ew(t)}function wj(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function xd(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+ci(t.value);if(tw(t))return t.filters.map(e=>xd(e)).join(",");{const e=t.filters.map(n=>xd(n)).join(",");return`${t.op}(${e})`}}function nw(t,e){return t instanceof We?function(r,s){return s instanceof We&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)}(t,e):t instanceof jn?function(r,s){return s instanceof jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&nw(o,s.filters[c]),!0):!1}(t,e):void J(19439)}function rw(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${ci(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(rw).join(" ,")+"}"}(t):"Filter"}class _j extends We{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class bj extends We{constructor(e,n){super(e,"in",n),this.keys=sw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ij extends We{constructor(e,n){super(e,"not-in",n),this.keys=sw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sw(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class kj extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bf(n)&&Fo(n.arrayValue,this.value)}}class Nj extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}}class Ej extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fo(this.value.arrayValue,n)}}class Tj extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function I0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jj(t,e,n,r,s,i,o)}function zf(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ci(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ci(r)).join(",")),e.Te=n}return e.Te}function $f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b0(t.startAt,e.startAt)&&b0(t.endAt,e.endAt)}function vd(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sj(t,e,n,r,s,i,o,c){return new Vc(t,e,n,r,s,i,o,c)}function iw(t){return new Vc(t)}function k0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cj(t){return t.collectionGroup!==null}function uo(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ze(nt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Kl(i,r))}),n.has(nt.keyField().canonicalString())||e.Ie.push(new Kl(nt.keyField(),r))}return e.Ie}function vn(t){const e=ne(t);return e.Ee||(e.Ee=Aj(e,uo(t))),e.Ee}function Aj(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Kl(s.field,i)});const n=t.endAt?new Ql(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ql(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wd(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oc(t,e){return $f(vn(t),vn(e))&&t.limitType===e.limitType}function ow(t){return`${zf(vn(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rw(s)).join(", ")}]`),Dc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ci(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ci(s)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of uo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const h=_0(o,c,u);return o.inclusive?h<=0:h<0}(r.startAt,uo(r),s)||r.endAt&&!function(o,c,u){const h=_0(o,c,u);return o.inclusive?h>=0:h>0}(r.endAt,uo(r),s))}(t,e)}function Rj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aw(t){return(e,n)=>{let r=!1;for(const s of uo(t)){const i=Pj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Pj(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),h=c.data.field(i);return u!==null&&h!==null?li(u,h):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new Ae(Q.comparator);function Jn(){return Mj}const lw=new Ae(Q.comparator);function Ji(...t){let e=lw;for(const n of t)e=e.insert(n.key,n);return e}function cw(t){let e=lw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return ho()}function uw(){return ho()}function ho(){return new gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Dj=new Ae(Q.comparator),Lj=new Ze(Q.comparator);function ae(...t){let e=Lj;for(const n of t)e=e.add(n);return e}const Vj=new Ze(oe);function Oj(){return Vj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function hw(t){return{integerValue:""+t}}function Fj(t,e){return hj(e)?hw(e):Hf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function Uj(t,e,n){return t instanceof Jl?function(s,i){const o={fields:{[Zv]:{stringValue:Gv},[Qv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Uf(i)&&(i=Lc(i)),i&&(o.fields[qv]=i),{mapValue:o}}(n,e):t instanceof Uo?fw(t,e):t instanceof Bo?mw(t,e):function(s,i){const o=dw(s,i),c=N0(o)+N0(s.Ae);return yd(o)&&yd(s.Ae)?hw(c):Hf(s.serializer,c)}(t,e)}function Bj(t,e,n){return t instanceof Uo?fw(t,e):t instanceof Bo?mw(t,e):n}function dw(t,e){return t instanceof Xl?function(r){return yd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Jl extends Uc{}class Uo extends Uc{constructor(e){super(),this.elements=e}}function fw(t,e){const n=pw(e);for(const r of t.elements)n.some(s=>Tn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Bo extends Uc{constructor(e){super(),this.elements=e}}function mw(t,e){let n=pw(e);for(const r of t.elements)n=n.filter(s=>!Tn(s,r));return{arrayValue:{values:n}}}class Xl extends Uc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N0(t){return Oe(t.integerValue||t.doubleValue)}function pw(t){return Bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uo&&s instanceof Uo||r instanceof Bo&&s instanceof Bo?ai(r.elements,s.elements,Tn):r instanceof Xl&&s instanceof Xl?Tn(r.Ae,s.Ae):r instanceof Jl&&s instanceof Jl}(t.transform,e.transform)}class $j{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bc{}function gw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wf(t.key,wn.none()):new Yo(t.key,t.data,wn.none());{const n=t.data,r=Wt.empty();let s=new Ze(nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ys(t.key,r,new sn(s.toArray()),wn.none())}}function Hj(t,e,n){t instanceof Yo?function(s,i,o){const c=s.value.clone(),u=T0(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(s,i,o){if(!dl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=T0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(yw(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fo(t,e,n,r){return t instanceof Yo?function(i,o,c,u){if(!dl(i.precondition,o))return c;const h=i.value.clone(),f=j0(i.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(i,o,c,u){if(!dl(i.precondition,o))return c;const h=j0(i.fieldTransforms,u,o),f=o.data;return f.setAll(yw(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,c){return dl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function Wj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=dw(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function E0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ai(r,s,(i,o)=>zj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yo extends Bc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ys extends Bc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T0(t,e,n){const r=new Map;de(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,Bj(o,c,n[s]))}return r}function j0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Uj(i,o,e))}return r}class Wf extends Bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gj extends Bc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Hj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=gw(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&ai(this.mutations,e.mutations,(n,r)=>E0(n,r))&&ai(this.baseMutations,e.baseMutations,(n,r)=>E0(n,r))}}class Gf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){de(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Dj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,le;function Kj(t){switch(t){case B.OK:return J(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function xw(t){if(t===void 0)return Kn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ue.OK:return B.OK;case Ue.CANCELLED:return B.CANCELLED;case Ue.UNKNOWN:return B.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return B.INTERNAL;case Ue.UNAVAILABLE:return B.UNAVAILABLE;case Ue.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ue.NOT_FOUND:return B.NOT_FOUND;case Ue.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ue.ABORTED:return B.ABORTED;case Ue.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ue.DATA_LOSS:return B.DATA_LOSS;default:return J(39323,{code:t})}}(le=Ue||(Ue={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new br([4294967295,4294967295],0);function S0(t){const e=Jj().encode(t),n=new Pv;return n.update(e),new Uint8Array(n.digest())}function C0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new br([n,r],0),new br([s,i],0)]}class Zf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xi(`Invalid padding: ${n}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=br.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(br.fromNumber(r)));return s.compare(Xj)===1&&(s=new br([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S0(e),[r,s]=C0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Zf(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const n=S0(e),[r,s]=C0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zc(ee.min(),s,new Ae(oe),Jn(),ae())}}class ea{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ea(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class vw{constructor(e,n){this.targetId=e,this.Ce=n}}class ww{constructor(e,n,r=ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class A0{constructor(){this.ve=0,this.Fe=R0(),this.Me=ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),r=ae();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J(38017,{changeType:i})}}),new ea(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=Ba(),this.He=Ba(),this.Ye=new Ae(oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(vd(i))if(r===0){const o=new Q(i.path);this.et(n,o,pt.newNoDocument(o,ee.min()))}else de(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Sr(r).toUint8Array()}catch(u){if(u instanceof Wv)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Zf(o,s,i)}catch(u){return oi(u instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const c=this.ot(o);if(c){if(i.current&&vd(c.target)){const u=new Q(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,pt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ae();this.He.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new zc(e,n,this.Ye,this.je,r);return this.je=Jn(),this.Je=Ba(),this.He=Ba(),this.Ye=new Ae(oe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ze(oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ze(oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ba(){return new Ae(Q.comparator)}function R0(){return new Ae(Q.comparator)}const eS={asc:"ASCENDING",desc:"DESCENDING"},tS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nS={and:"AND",or:"OR"};class rS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _d(t,e){return t.useProto3Json||Dc(e)?e:{value:e}}function Yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _w(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sS(t,e){return Yl(t,e.toTimestamp())}function _n(t){return de(!!t,49232),ee.fromTimestamp(function(n){const r=jr(n);return new ye(r.seconds,r.nanos)}(t))}function qf(t,e){return bd(t,e).canonicalString()}function bd(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bw(t){const e=be.fromString(t);return de(Tw(e),10190,{key:e.toString()}),e}function Id(t,e){return qf(t.databaseId,e.path)}function eh(t,e){const n=bw(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(kw(n))}function Iw(t,e){return qf(t.databaseId,e)}function iS(t){const e=bw(t);return e.length===4?be.emptyPath():kw(e)}function kd(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kw(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P0(t,e,n){return{name:Id(t,e),fields:n.value.mapValue.fields}}function oS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:J(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(de(f===void 0||typeof f=="string",58123),ot.fromBase64String(f||"")):(de(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ot.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const f=h.code===void 0?B.UNKNOWN:xw(h.code);return new q(f,h.message||"")}(o);n=new ww(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=eh(t,r.document.name),i=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):ee.min(),c=new Wt({mapValue:{fields:r.document.fields}}),u=pt.newFoundDocument(s,i,o,c),h=r.targetIds||[],f=r.removedTargetIds||[];n=new fl(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=eh(t,r.document),i=r.readTime?_n(r.readTime):ee.min(),o=pt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new fl([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=eh(t,r.document),i=r.removedTargetIds||[];n=new fl([],i,s,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Qj(s,i),c=r.targetId;n=new vw(c,o)}}return n}function aS(t,e){let n;if(e instanceof Yo)n={update:P0(t,e.key,e.value)};else if(e instanceof Wf)n={delete:Id(t,e.key)};else if(e instanceof ys)n={update:P0(t,e.key,e.data),updateMask:gS(e.fieldMask)};else{if(!(e instanceof Gj))return J(16599,{Vt:e.type});n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xl)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sS(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J(27497)}(t,e.precondition)),n}function lS(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?_n(s.updateTime):_n(i);return o.isEqual(ee.min())&&(o=_n(i)),new $j(o,s.transformResults||[])}(n,e))):[]}function cS(t,e){return{documents:[Iw(t,e.path)]}}function uS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Iw(t,s);const i=function(h){if(h.length!==0)return Ew(jn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Ts(g.field),direction:fS(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=_d(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function hS(t){let e=iS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){de(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=Nw(p);return g instanceof jn&&tw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(k){return new Kl(js(k.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Dc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new Ql(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new Ql(y,g)}(n.endAt)),Sj(e,s,o,i,c,"F",u,h)}function dS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=js(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=js(n.unaryFilter.field);return We.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=js(n.unaryFilter.field);return We.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=js(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(js(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>Nw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function fS(t){return eS[t]}function mS(t){return tS[t]}function pS(t){return nS[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function js(t){return nt.fromServerFormat(t.fieldPath)}function Ew(t){return t instanceof We?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(v0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(v0(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:mS(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(s=>Ew(s));return r.length===1?r[0]:{compositeFilter:{op:pS(n.op),filters:r}}}(t):J(54877,{filter:t})}function gS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,s,i=ee.min(),o=ee.min(),c=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.yt=e}}function xS(t){const e=hS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.Cn=new wS}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Tr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class wS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ze(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ze(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class Et{static withCacheSize(e){return new Et(e,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Et.DEFAULT_COLLECTION_PERCENTILE=10,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Et.DEFAULT=new Et(jw,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Et.DISABLED=new Et(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ui(0)}static cr(){return new ui(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="LruGarbageCollector",_S=1048576;function L0([t,e],[n,r]){const s=oe(t,n);return s===0?oe(e,r):s}class bS{constructor(e){this.Ir=e,this.buffer=new Ze(L0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();L0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(D0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>U(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){_i(n)?W(D0,"Ignoring IndexedDB error during garbage collection: ",n):yield wi(n)}yield this.Vr(3e5)}))}}class kS{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Mc.ce);const r=new bS(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(M0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Ns()<=ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function NS(t,e){return new kS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.changes=new gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&fo(r.mutation,s,sn.empty(),ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const s=Xr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ji();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Jn();const o=ho(),c=function(){return ho()}();return n.forEach((u,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof ys)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),fo(f.mutation,h,f.mutation.getFieldMask(),ye.now())):o.set(h.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return c.set(h,new TS(f,(p=o.get(h))!=null?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ho();let s=new Ae((o,c)=>o-c),i=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||sn.empty();f=c.applyToLocalView(h,f),r.set(u,f);const p=(s.get(c.batchId)||ae()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,f=u.value,p=uw();f.forEach(g=>{if(!i.has(g)){const y=gw(n.get(g),r.get(g));y!==null&&p.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Xr());let c=Lo,u=i;return o.next(h=>F.forEach(h,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,ae())).next(f=>({batchId:c,changes:cw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=Ji();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ji();return this.indexManager.getCollectionParents(e,i).next(c=>F.forEach(c,u=>{const h=function(p,g){return new Vc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,pt.newInvalidDocument(f)))});let c=Ji();return o.forEach((u,h)=>{const f=i.get(u);f!==void 0&&fo(f.mutation,h,sn.empty(),ye.now()),Fc(n,h)&&(c=c.insert(u,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_n(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:xS(s.bundledQuery),readTime:_n(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new Ae(Q.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Xr(),i=n.length+1,o=new Q(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ae((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=Xr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Xr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=s)););return F.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qj(n,r));let i=this.qr.get(n);i===void 0&&(i=ae(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.Qr=new Ze(Ke.$r),this.Ur=new Ze(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ke(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new be([])),r=new Ke(n,e),s=new Ke(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new be([])),r=new Ke(n,e),s=new Ke(n,e+1);let i=ae();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ke(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||oe(e.Yr,n.Yr)}static Kr(e,n){return oe(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(Ke.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zj(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new Ke(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ff:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),s=new Ke(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const c=this.Xr(o.Yr);i.push(c)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(oe);return n.forEach(s=>{const i=new Ke(s,0),o=new Ke(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],c=>{r=r.add(c.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new Ke(new Q(i),0);let c=new Ze(oe);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Yr)),!0)},o),F.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,s=>{const i=new Ke(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ke(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.ri=e,this.docs=function(){return new Ae(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jn();const o=n.path,c=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||aj(oj(f),r)<=0||(s.has(f.key)||Fc(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MS(this)}getSize(e){return F.resolve(this.size)}}class MS extends ES{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.persistence=e,this.si=new gs(n=>zf(n),$f),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Qf,this.targetCount=0,this.ai=ui.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ui(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mc(0),this.li=!1,this.li=!0,this.hi=new AS,this.referenceDelegate=e(this),this.Pi=new DS(this),this.indexManager=new vS,this.remoteDocumentCache=function(s){return new PS(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new yS(n),this.Ii=new SS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RS(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new LS(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class LS extends cj{constructor(e){super(),this.currentSequenceNumber=e}}class Kf{constructor(e){this.persistence=e,this.Ri=new Qf,this.Vi=null}static mi(e){return new Kf(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ec{constructor(e,n){this.persistence=e,this.pi=new gs(r=>dj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NS(this,n)}static mi(e,n){return new ec(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(c=>{c||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ul(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ae(),s=ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return R3()?8:uj(C3())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new VS;return this.Ss(e,n,o).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ns()<=ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ns()<=ce.DEBUG&&W("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ns()<=ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):F.resolve())}ys(e,n){if(k0(n))return F.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=wd(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ae(...i);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,c);return this.Cs(n,h,o,u.readTime)?this.ys(e,wd(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,s){return k0(n)||s.isEqual(ee.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Ns()<=ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Es(n)),this.vs(e,o,n,ij(s,Lo)).next(c=>c))})}Ds(e,n){let r=new Ze(aw(e));return n.forEach((s,i)=>{Fc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ns()<=ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Es(n)),this.ps.getDocumentsMatchingQuery(e,n,Tr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="LocalStore",FS=3e8;class US{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ae(oe),this.xs=new gs(i=>zf(i),$f),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BS(t,e,n,r){return new US(t,e,n,r)}function Cw(t,e){return U(this,null,function*(){const n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=ae();for(const h of s){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of i){c.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:c}))})})})}function zS(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,u,h,f){const p=h.batch,g=p.keys();let y=F.resolve();return g.forEach(k=>{y=y.next(()=>f.getEntry(u,k)).next(x=>{const I=h.docVersions.get(k);de(I!==null,48541),x.version.compareTo(I)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),f.addEntry(x)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ae();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Aw(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function $S(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;c.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(p,y),function(x,I,_){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=FS?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,y,f)&&c.push(n.Pi.updateTargetData(i,y))});let u=Jn(),h=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push(HS(i,o,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!r.isEqual(ee.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return F.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ms=s,i))}function HS(t,e,n){let r=ae(),s=ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jn();return n.forEach((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):W(Xf,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:s}})}function WS(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ff),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GS(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}function Nd(t,e,n){return U(this,null,function*(){const r=ne(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!_i(o))throw o;W(Xf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)})}function V0(t,e,n){const r=ne(t);let s=ee.min(),i=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=ne(u),g=p.xs.get(f);return g!==void 0?F.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,f)}(r,o,vn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:ae())).next(c=>(ZS(r,Rj(e),c),{documents:c,Qs:i})))}function ZS(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class O0{constructor(){this.activeTargetIds=Oj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.Mo=new O0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za=null;function Ed(){return za===null?za=function(){return 268435456+Math.round(2147483648*Math.random())}():za++,"0x"+za.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="RestConnection",KS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Zl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Ed(),c=this.zo(e,n.toUriEncodedString());W(th,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(c),f=Pc(h);return this.Jo(e,c,u,r,f).then(p=>(W(th,`Received RPC '${e}' ${o}: `,p),p),p=>{throw oi(th,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=KS[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class YS extends JS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Ed();return new Promise((c,u)=>{const h=new Mv;h.setWithCredentials(!0),h.listenOnce(Dv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cl.NO_ERROR:const p=h.getResponseJson();W(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case cl.TIMEOUT:W(dt,`RPC '${e}' ${o} timed out`),u(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const g=h.getStatus();if(W(dt,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const k=y==null?void 0:y.error;if(k&&k.status&&k.message){const x=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(k.status);u(new q(x,k.message))}else u(new q(B.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new q(B.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{W(dt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);W(dt,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,r,15)})}T_(e,n,r){const s=Ed(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ov(),c=Vv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");W(dt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let g=!1,y=!1;const k=new XS({Yo:I=>{y?W(dt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(g||(W(dt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),W(dt,`RPC '${e}' stream ${s} sending:`,I),p.send(I))},Zo:()=>p.close()}),x=(I,_,v)=>{I.listen(_,N=>{try{v(N)}catch(C){setTimeout(()=>{throw C},0)}})};return x(p,Ki.EventType.OPEN,()=>{y||(W(dt,`RPC '${e}' stream ${s} transport opened.`),k.o_())}),x(p,Ki.EventType.CLOSE,()=>{y||(y=!0,W(dt,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(p))}),x(p,Ki.EventType.ERROR,I=>{y||(y=!0,oi(dt,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),k.a_(new q(B.UNAVAILABLE,"The operation could not be completed")))}),x(p,Ki.EventType.MESSAGE,I=>{var _;if(!y){const v=I.data[0];de(!!v,16349);const N=v,C=(N==null?void 0:N.error)||((_=N[0])==null?void 0:_.error);if(C){W(dt,`RPC '${e}' stream ${s} received error:`,C);const D=C.status;let O=function(T){const j=Ue[T];if(j!==void 0)return xw(j)}(D),E=C.message;O===void 0&&(O=B.INTERNAL,E="Unknown error status: "+D+" with message "+C.message),y=!0,k.a_(new q(O,E)),p.close()}else W(dt,`RPC '${e}' stream ${s} received:`,v),k.u_(v)}}),x(c,Lv.STAT_EVENT,I=>{I.stat===md.PROXY?W(dt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===md.NOPROXY&&W(dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function nh(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return new rS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class Pw{constructor(e,n,r,s,i,o,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return U(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return U(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return U(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(n)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(()=>U(this,null,function*(){this.state=0,this.start()}))}z_(e){return W(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eC extends Pw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oS(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?_n(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=kd(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=vd(u)?{documents:cS(i,u)}:{query:uS(i,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=_w(i,o.resumeToken);const h=_d(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=Yl(i,o.snapshotVersion.toTimestamp());const h=_d(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=dS(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=kd(this.serializer),n.removeTarget=e,this.q_(n)}}class tC extends Pw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lS(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=kd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aS(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{}class rC extends nC{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,bd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,bd(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kn(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="RemoteStore";class iC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(()=>U(this,null,function*(){xs(this)&&(W(us,"Restarting streams for network reachability change."),yield function(u){return U(this,null,function*(){const h=ne(u);h.Ea.add(4),yield ta(h),h.Ra.set("Unknown"),h.Ea.delete(4),yield Hc(h)})}(this))}))}),this.Ra=new sC(r,s)}}function Hc(t){return U(this,null,function*(){if(xs(t))for(const e of t.da)yield e(!0)})}function ta(t){return U(this,null,function*(){for(const e of t.da)yield e(!1)})}function Mw(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nm(n)?tm(n):bi(n).O_()&&em(n,e))}function Yf(t,e){const n=ne(t),r=bi(n);n.Ia.delete(e),r.O_()&&Dw(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Ra.set("Unknown"))}function em(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bi(t).Y_(e)}function Dw(t,e){t.Va.Ue(e),bi(t).Z_(e)}function tm(t){t.Va=new Yj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bi(t).start(),t.Ra.ua()}function nm(t){return xs(t)&&!bi(t).x_()&&t.Ia.size>0}function xs(t){return ne(t).Ea.size===0}function Lw(t){t.Va=void 0}function oC(t){return U(this,null,function*(){t.Ra.set("Online")})}function aC(t){return U(this,null,function*(){t.Ia.forEach((e,n)=>{em(t,e)})})}function lC(t,e){return U(this,null,function*(){Lw(t),nm(t)?(t.Ra.ha(e),tm(t)):t.Ra.set("Unknown")})}function cC(t,e,n){return U(this,null,function*(){if(t.Ra.set("Online"),e instanceof ww&&e.state===2&&e.cause)try{yield function(s,i){return U(this,null,function*(){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(yield s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})}(t,e)}catch(r){W(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tc(t,r)}else if(e instanceof fl?t.Va.Ze(e):e instanceof vw?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=yield Aw(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,h)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(ot.EMPTY_BYTE_STRING,f.snapshotVersion)),Dw(i,u);const p=new ur(f.target,u,h,f.sequenceNumber);em(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){W(us,"Failed to raise snapshot:",r),yield tc(t,r)}})}function tc(t,e,n){return U(this,null,function*(){if(!_i(e))throw e;t.Ea.add(1),yield ta(t),t.Ra.set("Offline"),n||(n=()=>Aw(t.localStore)),t.asyncQueue.enqueueRetryable(()=>U(this,null,function*(){W(us,"Retrying IndexedDB access"),yield n(),t.Ea.delete(1),yield Hc(t)}))})}function Vw(t,e){return e().catch(n=>tc(t,n,e))}function Wc(t){return U(this,null,function*(){const e=ne(t),n=Ar(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ff;for(;uC(e);)try{const s=yield WS(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,hC(e,s)}catch(s){yield tc(e,s)}Ow(e)&&Fw(e)})}function uC(t){return xs(t)&&t.Ta.length<10}function hC(t,e){t.Ta.push(e);const n=Ar(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Ow(t){return xs(t)&&!Ar(t).x_()&&t.Ta.length>0}function Fw(t){Ar(t).start()}function dC(t){return U(this,null,function*(){Ar(t).ra()})}function fC(t){return U(this,null,function*(){const e=Ar(t);for(const n of t.Ta)e.ea(n.mutations)})}function mC(t,e,n){return U(this,null,function*(){const r=t.Ta.shift(),s=Gf.from(r,e,n);yield Vw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),yield Wc(t)})}function pC(t,e){return U(this,null,function*(){e&&Ar(t).X_&&(yield function(r,s){return U(this,null,function*(){if(function(o){return Kj(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Ar(r).B_(),yield Vw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),yield Wc(r)}})}(t,e)),Ow(t)&&Fw(t)})}function z0(t,e){return U(this,null,function*(){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W(us,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),yield ta(n),r&&n.Ra.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),yield Hc(n)})}function gC(t,e){return U(this,null,function*(){const n=ne(t);e?(n.Ea.delete(2),yield Hc(n)):e||(n.Ea.add(2),yield ta(n),n.Ra.set("Unknown"))})}function bi(t){return t.ma||(t.ma=function(n,r,s){const i=ne(n);return i.sa(),new eC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:oC.bind(null,t),t_:aC.bind(null,t),r_:lC.bind(null,t),H_:cC.bind(null,t)}),t.da.push(e=>U(this,null,function*(){e?(t.ma.B_(),nm(t)?tm(t):t.Ra.set("Unknown")):(yield t.ma.stop(),Lw(t))}))),t.ma}function Ar(t){return t.fa||(t.fa=function(n,r,s){const i=ne(n);return i.sa(),new tC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,t),r_:pC.bind(null,t),ta:fC.bind(null,t),na:mC.bind(null,t)}),t.da.push(e=>U(this,null,function*(){e?(t.fa.B_(),yield Wc(t)):(yield t.fa.stop(),t.Ta.length>0&&(W(us,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new rm(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),_i(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Ji(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ga=new Ae(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class hi{constructor(e,n,r,s,i,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new hi(e,n,qs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xC{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=H0(),i.forEach((o,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function H0(){return new gs(t=>ow(t),Oc)}function vC(t,e){return U(this,null,function*(){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new yC,r=e.Da()?0:1);try{switch(r){case 0:i.wa=yield n.onListen(s,!0);break;case 1:i.wa=yield n.onListen(s,!1);break;case 2:yield n.onFirstRemoteStoreListen(s)}}catch(o){const c=sm(o,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&im(n)})}function wC(t,e){return U(this,null,function*(){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function _C(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&im(n)}function bC(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function im(t){t.Ca.forEach(e=>{e.next()})}var Td,W0;(W0=Td||(Td={})).Ma="default",W0.Cache="cache";class IC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class kC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=aw(e),this.tu=new qs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),y=Fc(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;g&&y?g.data.isEqual(y.data)?k!==x&&(r.track({type:3,doc:y}),I=!0):this.su(g,y)||(r.track({type:2,doc:y}),I=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(c=!0)):!g&&y?(r.track({type:0,doc:y}),I=!0):g&&!y&&(r.track({type:1,doc:g}),I=!0,(u||h)&&(c=!0)),I&&(y?(o=o.add(y),i=x?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(y,k){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:I})}};return x(y)-x(k)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),s=s!=null?s:!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new hi(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Bw(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Uw(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const om="SyncEngine";class NC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EC{constructor(e){this.key=e,this.hu=!1}}class TC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gs(c=>ow(c),Oc),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(Q.comparator),this.Au=new Map,this.Ru=new Qf,this.Vu={},this.mu=new Map,this.fu=ui.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function jC(t,e,n=!0){return U(this,null,function*(){const r=Zw(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=yield zw(r,e,n,!0),s})}function SC(t,e){return U(this,null,function*(){const n=Zw(t);yield zw(n,e,!0,!1)})}function zw(t,e,n,r){return U(this,null,function*(){const s=yield GS(t.localStore,vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=yield CC(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Mw(t.remoteStore,s),c})}function CC(t,e,n,r,s){return U(this,null,function*(){t.pu=(p,g,y)=>function(x,I,_,v){return U(this,null,function*(){let N=I.view.ru(_);N.Cs&&(N=yield V0(x.localStore,I.query,!1).then(({documents:E})=>I.view.ru(E,N)));const C=v&&v.targetChanges.get(I.targetId),D=v&&v.targetMismatches.get(I.targetId)!=null,O=I.view.applyChanges(N,x.isPrimaryClient,C,D);return Z0(x,I.targetId,O.au),O.snapshot})}(t,p,g,y);const i=yield V0(t.localStore,e,!0),o=new kC(e,i.Qs),c=o.ru(i.documents),u=ea.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,u);Z0(t,n,h.au);const f=new NC(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot})}function AC(t,e,n){return U(this,null,function*(){const r=ne(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Oc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Nd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yf(r.remoteStore,s.targetId),jd(r,s.targetId)}).catch(wi))):(jd(r,s.targetId),yield Nd(r.localStore,s.targetId,!0))})}function RC(t,e){return U(this,null,function*(){const n=ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yf(n.remoteStore,r.targetId))})}function PC(t,e,n){return U(this,null,function*(){const r=UC(t);try{const s=yield function(o,c){const u=ne(o),h=ye.now(),f=c.reduce((y,k)=>y.add(k.key),ae());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let k=Jn(),x=ae();return u.Ns.getEntries(y,f).next(I=>{k=I,k.forEach((_,v)=>{v.isValidDocument()||(x=x.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,k)).next(I=>{p=I;const _=[];for(const v of c){const N=Wj(v,p.get(v.key).overlayedDocument);N!=null&&_.push(new ys(v.key,N,Xv(N.value.mapValue),wn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,_,c)}).next(I=>{g=I;const _=I.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,I.batchId,_)})}).then(()=>({batchId:g.batchId,changes:cw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ae(oe)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),yield na(r,s.changes),yield Wc(r.remoteStore)}catch(s){const i=sm(s,"Failed to persist write");n.reject(i)}})}function $w(t,e){return U(this,null,function*(){const n=ne(t);try{const r=yield $S(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?de(o.hu,14607):s.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),yield na(n,r,e)}catch(r){yield wi(r)}})}function G0(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=ne(o);u.onlineState=c;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(c)&&(h=!0)}),h&&im(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function MC(t,e,n){return U(this,null,function*(){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ae(Q.comparator);o=o.insert(i,pt.newNoDocument(i,ee.min()));const c=ae().add(i),u=new zc(ee.min(),new Map,new Ae(oe),o,c);yield $w(r,u),r.du=r.du.remove(i),r.Au.delete(e),am(r)}else yield Nd(r.localStore,e,!1).then(()=>jd(r,e,n)).catch(wi)})}function DC(t,e){return U(this,null,function*(){const n=ne(t),r=e.batch.batchId;try{const s=yield zS(n.localStore,e);Ww(n,r,null),Hw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield na(n,s)}catch(s){yield wi(s)}})}function LC(t,e,n){return U(this,null,function*(){const r=ne(t);try{const s=yield function(o,c){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(p=>(de(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);Ww(r,e,n),Hw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield na(r,s)}catch(s){yield wi(s)}})}function Hw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ww(t,e,n){const r=ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Gw(t,r)})}function Gw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),am(t))}function Z0(t,e,n){for(const r of n)r instanceof Uw?(t.Ru.addReference(r.key,e),VC(t,r)):r instanceof Bw?(W(om,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Gw(t,r.key)):J(19791,{wu:r})}function VC(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(om,"New document in limbo: "+n),t.Eu.add(r),am(t))}function am(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(be.fromString(e)),r=t.fu.next();t.Au.set(r,new EC(n)),t.du=t.du.insert(n,r),Mw(t.remoteStore,new ur(vn(iw(n.path)),r,"TargetPurposeLimboResolution",Mc.ce))}}function na(t,e,n){return U(this,null,function*(){const r=ne(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Jf.As(u.targetId,h);i.push(p)}}))}),yield Promise.all(o),r.Pu.H_(s),yield function(u,h){return U(this,null,function*(){const f=ne(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(h,g=>F.forEach(g.Es,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!_i(p))throw p;W(Xf,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=f.Ms.get(g),k=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(k);f.Ms=f.Ms.insert(g,x)}}})}(r.localStore,i))})}function OC(t,e){return U(this,null,function*(){const n=ne(t);if(!n.currentUser.isEqual(e)){W(om,"User change. New user:",e.toKey());const r=yield Cw(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(c=>{c.forEach(u=>{u.reject(new q(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield na(n,r.Ls)}})}function FC(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return ae().add(r.key);{let s=ae();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function Zw(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.Pu.H_=_C.bind(null,e.eventManager),e.Pu.yu=bC.bind(null,e.eventManager),e}function UC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LC.bind(null,e),e}class nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return U(this,null,function*(){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BS(this.persistence,new OS,e.initialUser,this.serializer)}Cu(e){return new Sw(Kf.mi,this.serializer)}Du(e){return new qS}terminate(){return U(this,null,function*(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}nc.provider={build:()=>new nc};class BC extends nc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof ec,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IS(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Et.withCacheSize(this.cacheSizeBytes):Et.DEFAULT;return new Sw(r=>ec.mi(r,n),this.serializer)}}class Sd{initialize(e,n){return U(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),yield gC(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new xC}()}createDatastore(e){const n=$c(e.databaseInfo.databaseId),r=function(i){return new YS(i)}(e.databaseInfo);return function(i,o,c,u){return new rC(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new iC(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>G0(this.syncEngine,n,0),function(){return U0.v()?new U0:new QS}())}createSyncEngine(e,n){return function(s,i,o,c,u,h,f){const p=new TC(s,i,o,c,u,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return U(this,null,function*(){var e,n;yield function(s){return U(this,null,function*(){const i=ne(s);W(us,"RemoteStore shutting down."),i.Ea.add(5),yield ta(i),i.Aa.shutdown(),i.Ra.set("Unknown")})}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()})}}Sd.provider={build:()=>new Sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class $C{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ft.UNAUTHENTICATED,this.clientId=Vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,o=>U(this,null,function*(){W(Rr,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(W(Rr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>U(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function rh(t,e){return U(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W(Rr,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(s=>U(this,null,function*(){r.isEqual(s)||(yield Cw(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function q0(t,e){return U(this,null,function*(){t.asyncQueue.verifyOperationInProgress();const n=yield HC(t);W(Rr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>z0(e.remoteStore,s)),t._onlineComponents=e})}function HC(t){return U(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Rr,"Using user provided OfflineComponentProvider");try{yield rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),yield rh(t,new nc)}}else W(Rr,"Using default OfflineComponentProvider"),yield rh(t,new BC(void 0));return t._offlineComponents})}function qw(t){return U(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Rr,"Using user provided OnlineComponentProvider"),yield q0(t,t._uninitializedComponentsProvider._online)):(W(Rr,"Using default OnlineComponentProvider"),yield q0(t,new Sd))),t._onlineComponents})}function WC(t){return qw(t).then(e=>e.syncEngine)}function GC(t){return U(this,null,function*(){const e=yield qw(t),n=e.eventManager;return n.onListen=jC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RC.bind(null,e.syncEngine),n})}function ZC(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return function(i,o,c,u,h){const f=new zC({next:g=>{f.Nu(),o.enqueueAndForget(()=>wC(i,p)),g.fromCache&&u.source==="server"?h.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new IC(c,f,{includeMetadataChanges:!0,qa:!0});return vC(i,p)}(yield GC(t),t.asyncQueue,e,n,r)})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firestore.googleapis.com",K0=!0;class J0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kw,this.ssl=K0}else this.host=e.host,this.ssl=(n=e.ssl)!=null?n:K0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_S)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw((r=e.experimentalLongPollingOptions)!=null?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q4;switch(r.type){case"firstParty":return new X4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return U(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q0.get(n);r&&(W("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}}function qC(t,e,n,r={}){var h;t=Do(t,Gc);const s=Pc(e),i=t._getSettings(),o=Qe(te({},i),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(vv(`https://${c}`),_v("Firestore",!0)),i.host!==Kw&&i.host!==c&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Qe(te({},i),{host:c,ssl:s,emulatorOptions:r});if(!Hl(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=ft.MOCK_USER;else{f=wv(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ft(g)}t._authCredentials=new Q4(new Uv(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xo(n,rt._jsonSchema))return new rt(e,r||null,new Q(be.fromString(n.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:ze("string",rt._jsonSchemaVersion),referencePath:ze("string")};class kr extends Zc{constructor(e,n,r){super(e,n,iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new Q(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Jw(t,e,...n){if(t=si(t),Bv("collection","path",e),t instanceof Gc){const r=be.fromString(e,...n);return h0(r),new kr(t,null,r)}{if(!(t instanceof rt||t instanceof kr))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return h0(r),new kr(t.firestore,null,r)}}function Xw(t,e,...n){if(t=si(t),arguments.length===1&&(e=Vf.newId()),Bv("doc","path",e),t instanceof Gc){const r=be.fromString(e,...n);return u0(r),new rt(t,null,new Q(r))}{if(!(t instanceof rt||t instanceof kr))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return u0(r),new rt(t.firestore,t instanceof kr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class Y0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rw(this,"async_queue_retry"),this._c=()=>{const r=nh();r&&W(X0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=nh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ir;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return U(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_i(e))throw e;W(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Kn("INTERNAL UNHANDLED ERROR: ",ey(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=rm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&J(47125,{Pc:ey(this.nc)})}verifyOperationInProgress(){}Tc(){return U(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ey(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qc extends Gc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Y0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return U(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y0(e),this._firestoreClient=void 0,yield e}})}}function QC(t,e){const n=typeof t=="object"?t:Cv(),r=typeof t=="string"?t:Zl,s=Ev(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yv("firestore");i&&qC(s,...i)}return s}function Yw(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KC(t),t._firestoreClient}function KC(t){var r,s,i;const e=t._freezeSettings(),n=function(c,u,h,f){return new pj(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Qw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $C(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gt(ot.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gt(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xo(e,Gt._jsonSchema))return Gt.fromBase64String(e.bytes)}}Gt._jsonSchemaVersion="firestore/bytes/1.0",Gt._jsonSchema={type:ze("string",Gt._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bn._jsonSchemaVersion}}static fromJSON(e){if(Xo(e,bn._jsonSchema))return new bn(e.latitude,e.longitude)}}bn._jsonSchemaVersion="firestore/geoPoint/1.0",bn._jsonSchema={type:ze("string",bn._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:In._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xo(e,In._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new In(e.vectorValues);throw new q(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}In._jsonSchemaVersion="firestore/vectorValue/1.0",In._jsonSchema={type:ze("string",In._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^__.*__$/;class XC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yo(e,this.data,n,this.fieldTransforms)}}function t_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class cm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cm(te(te({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(t_(this.Ac)&&JC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$c(e)}Cc(e,n,r,s=!1){return new cm({Ac:e,methodName:n,Dc:r,path:nt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e6(t){const e=t._freezeSettings(),n=$c(t._databaseId);return new YC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t6(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);i_("Data must be an object, but it was:",o,r);const c=r_(r,o);let u,h;if(i.merge)u=new sn(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=n6(e,p,n);if(!o.contains(g))throw new q(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);s6(f,g)||f.push(g)}u=new sn(f),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new XC(new Wt(c),u,h)}function n_(t,e){if(s_(t=si(t)))return i_("Unsupported field value:",e,t),r_(t,e);if(t instanceof e_)return function(r,s){if(!t_(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=n_(c,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ye.fromDate(r);return{timestampValue:Yl(s.serializer,i)}}if(r instanceof ye){const i=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yl(s.serializer,i)}}if(r instanceof bn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gt)return{bytesValue:_w(s.serializer,r._byteString)};if(r instanceof rt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof In)return function(o,c){return{mapValue:{fields:{[Kv]:{stringValue:Jv},[ql]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Hf(c.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Of(r)}`)}(t,e)}function r_(t,e){const n={};return Hv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,s)=>{const i=n_(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function s_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof bn||t instanceof Gt||t instanceof rt||t instanceof e_||t instanceof In)}function i_(t,e,n){if(!s_(n)||!zv(n)){const r=Of(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function n6(t,e,n){if((e=si(e))instanceof lm)return e._internalPath;if(typeof e=="string")return o_(t,e);throw rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const r6=new RegExp("[~\\*/\\[\\]]");function o_(t,e,n){if(e.search(r6)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lm(...e.split("."))._internalPath}catch(r){throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(B.INVALID_ARGUMENT,c+t+u)}function s6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i6 extends a_{data(){return super.data()}}function l_(t,e){return typeof e=="string"?o_(t,e):e instanceof lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a6{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ql].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Oe(o.doubleValue));return new In(n)}convertGeoPoint(e){return new bn(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const n=jr(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);de(Tw(r),9688,{name:e});const s=new Oo(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||Kn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends a_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(l_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:ze("string",Qs._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class ml extends Qs{data(e={}){return super.data(e)}}class Ks{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $a(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ml(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new ml(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $a(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new ml(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $a(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:c6(c.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:ze("string",Ks._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class u6 extends a6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,n)}}function h6(t){t=Do(t,Zc);const e=Do(t.firestore,qc),n=Yw(e),r=new u6(e);return o6(t._query),ZC(n,t._query).then(s=>new Ks(e,r,t,s))}function d6(t){return c_(Do(t.firestore,qc),[new Wf(t._key,wn.none())])}function f6(t,e){const n=Do(t.firestore,qc),r=Xw(t),s=l6(t.converter,e);return c_(n,[t6(e6(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function c_(t,e){return function(r,s){const i=new Ir;return r.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return PC(yield WC(r),s,i)})),i.promise}(Yw(t),e)}(function(e,n=!0){(function(s){vi=s})(jv),Po(new ii("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new qc(new K4(r.getProvider("auth-internal")),new Y4(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(h.options.projectId,f)}(o,s),o);return i=te({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),_r(o0,a0,e),_r(o0,a0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="firebasestorage.googleapis.com",m6="storageBucket",p6=2*60*1e3,g6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends ms{constructor(e,n,r=0){super(sh(e),`Firebase Storage: ${n} (${sh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sn||(Sn={}));function sh(t){return"storage/"+t}function y6(){const t="An unknown error occurred, please check the error payload for server response.";return new Pn(Sn.UNKNOWN,t)}function x6(){return new Pn(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v6(){return new Pn(Sn.CANCELED,"User canceled the upload/download.")}function w6(t){return new Pn(Sn.INVALID_URL,"Invalid URL '"+t+"'.")}function _6(t){return new Pn(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ty(t){return new Pn(Sn.INVALID_ARGUMENT,t)}function h_(){return new Pn(Sn.APP_DELETED,"The Firebase app was deleted.")}function b6(t){return new Pn(Sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=on.makeFromUrl(e,n)}catch(s){return new on(e,"")}if(r.path==="")return r;throw _6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${s}/o${g}`,"i"),k={bucket:1,path:3},x=n===u_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",_=new RegExp(`^https?://${x}/${s}/${I}`,"i"),N=[{regex:c,indices:u,postModify:i},{regex:y,indices:k,postModify:h},{regex:_,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<N.length;C++){const D=N[C],O=D.regex.exec(e);if(O){const E=O[D.indices.bucket];let b=O[D.indices.path];b||(b=""),r=new on(E,b),D.postModify(r);break}}if(r==null)throw w6(e);return r}}class I6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e,n){let r=1,s=null,i=null,o=!1,c=0;function u(){return c===2}let h=!1;function f(...I){h||(h=!0,e.apply(null,I))}function p(I){s=setTimeout(()=>{s=null,t(y,u())},I)}function g(){i&&clearTimeout(i)}function y(I,..._){if(h){g();return}if(I){g(),f.call(null,I,..._);return}if(u()||o){g(),f.call(null,I,..._);return}r<64&&(r*=2);let N;c===1?(c=2,N=0):N=(r+Math.random())*1e3,p(N)}let k=!1;function x(I){k||(k=!0,g(),!h&&(s!==null?(I||(c=2),clearTimeout(s),p(0)):I||(c=1)))}return p(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function N6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){return t!==void 0}function ny(t,e,n,r){if(r<e)throw ty(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ty(`Invalid value for '${t}'. Expected ${n} or less.`)}function T6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var sc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sc||(sc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r,s,i,o,c,u,h,f,p,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,x)=>{this.resolve_=k,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ha(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===sc.NO_ERROR,u=i.getStatus();if(!c||j6(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===sc.ABORT;r(!1,new Ha(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new Ha(h,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());E6(u)?i(u):i()}catch(u){o(u)}else if(c!==null){const u=y6();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(s.canceled){const u=this.appDelete_?h_():v6();o(u)}else{const u=x6();o(u)}};this.canceled_?n(!1,new Ha(!1,null,!0)):this.backoffId_=k6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ha{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function A6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function R6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M6(t,e,n,r,s,i,o=!0,c=!1){const u=T6(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return R6(f,e),C6(f,n),A6(f,i),P6(f,r),new S6(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function L6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ic(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L6(this._location.path)}get storage(){return this._service}get parent(){const e=D6(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new ic(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b6(e)}}function ry(t,e){const n=e==null?void 0:e[m6];return n==null?null:on.makeFromBucketSpec(n,t)}function V6(t,e,n,r={}){t.host=`${e}:${n}`;const s=Pc(e);s&&(vv(`https://${t.host}/b`),_v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wv(i,t.app.options.projectId))}class O6{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=u_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p6,this._maxUploadRetryTime=g6,this._requests=new Set,s!=null?this._bucket=on.makeFromBucketSpec(s,this._host):this._bucket=ry(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=ry(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ny("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ny("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return U(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return U(this,null,function*(){if(Tv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ic(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new I6(h_());{const o=M6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return U(this,null,function*(){const[r,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()})}}const sy="@firebase/storage",iy="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="storage";function F6(t=Cv(),e){t=si(t);const r=Ev(t,d_).getImmediate({identifier:e}),s=yv("storage");return s&&U6(r,...s),r}function U6(t,e,n,r={}){V6(t,e,n,r)}function B6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new O6(n,r,s,e,jv)}function z6(){Po(new ii(d_,B6,"PUBLIC").setMultipleInstances(!0)),_r(sy,iy,""),_r(sy,iy,"esm2020")}z6();const $6={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},f_=Sv($6),um=QC(f_);F6(f_);const hm="restaurants",H6=t=>U(Me,null,function*(){try{const e=Qe(te({},t),{createdAt:ye.now(),updatedAt:ye.now()}),n=yield f6(Jw(um,hm),e);return console.log("Restaurant added with ID: ",n.id),n.id}catch(e){throw console.error("Error adding restaurant: ",e),e}}),W6=()=>U(Me,null,function*(){try{const t=yield h6(Jw(um,hm)),e=[];return t.forEach(n=>{e.push(te({id:n.id},n.data()))}),e}catch(t){throw console.error("Error getting restaurants: ",t),t}}),G6=t=>U(Me,null,function*(){try{yield d6(Xw(um,hm,t)),console.log("Restaurant deleted successfully")}catch(e){throw console.error("Error deleting restaurant: ",e),e}}),Z6=()=>U(Me,null,function*(){try{const t=[{name:" Tsumugi",address:"3-15-1",rating:4.2,userRatingsTotal:1250,placeId:"ChIJabcdef123456789",categories:["restaurant","cafe","meal_takeaway"],isOpen:!0,priceLevel:2,coordinates:{lat:35.6762,lng:139.7677},operationalStatus:"OPERATIONAL",fullAddress:"104-0045 3-15-1 ",phoneNumber:"03-6226-2728",website:"https://tsukiji-hongwanji.jp/tsumugi/",googleMapsUrl:"https://maps.google.com/?cid=123456789",openingHours:{:"8:00 - 21:00",:"8:00 - 21:00",:"8:00 - 21:00",:"8:00 - 21:00",:"8:00 - 21:00",:"8:00 - 21:00",:"8:00 - 21:00"},reviews:[{rating:5,author:"",content:"18"},{rating:4,author:"",content:""}],photos:["tsumugi_cafe.jpg"],cuisine:"",serviceOptions:["",""],mealOptions:["","",""],atmosphere:"",suitableFor:["","","",""],reservationRequired:!1,priceRange:"1000-2000",seatingCapacity:80,privateRooms:!1,smokingAllowed:!1,accessibility:"",parking:!1,creditCards:["VISA","MasterCard","JCB"],wifi:!0,alcohol:!1,specialMenus:[{name:"18",price:"1080",description:"18"},{name:"",price:"1200",description:""}],seasonalMenus:"",chefInfo:"",awards:["2018"],tabelogRating:3.8,gurunaviUrl:"https://r.gnavi.co.jp/tsumugi-cafe/"},{name:" ",address:"4-2-15",rating:4.8,userRatingsTotal:892,placeId:"ChIJxyz789012345678",categories:["restaurant","sushi_restaurant"],isOpen:!1,priceLevel:5,coordinates:{lat:35.6717,lng:139.7647},operationalStatus:"OPERATIONAL",fullAddress:"104-0061 4-2-15  B1F",phoneNumber:"03-3535-3600",googleMapsUrl:"https://maps.google.com/?cid=987654321",openingHours:{:"11:30 - 14:00, 17:00 - 20:30",:"11:30 - 14:00, 17:00 - 20:30",:"11:30 - 14:00, 17:00 - 20:30",:"11:30 - 14:00, 17:00 - 20:30",:"11:30 - 14:00, 17:00 - 20:30",:"11:30 - 14:00, 17:00 - 20:30",:""},reviews:[{rating:5,author:"",content:""},{rating:5,author:"",content:""}],photos:["sukiyabashi_jiro.jpg"],cuisine:"",serviceOptions:[""],mealOptions:["",""],atmosphere:"",suitableFor:["","",""],reservationRequired:!0,priceRange:"30000-50000",seatingCapacity:10,privateRooms:!1,smokingAllowed:!1,accessibility:"",parking:!1,creditCards:["VISA","MasterCard","AMEX"],wifi:!1,alcohol:!0,specialMenus:[{name:"",price:"40000",description:""}],seasonalMenus:"",chefInfo:" - ",awards:["","",""],michelinStars:3,tabelogRating:4.65},{name:" ",address:"2-29-11",rating:4.1,userRatingsTotal:3240,placeId:"ChIJabc123456789012",categories:["restaurant","ramen_restaurant","meal_takeaway"],isOpen:!0,priceLevel:2,coordinates:{lat:35.658,lng:139.6982},operationalStatus:"OPERATIONAL",fullAddress:"150-0043 2-29-11  1F",phoneNumber:"03-3770-0850",website:"https://ichiran.com/",googleMapsUrl:"https://maps.google.com/?cid=555666777",openingHours:{:"24",:"24",:"24",:"24",:"24",:"24",:"24"},reviews:[{rating:4,author:"",content:""},{rating:4,author:"",content:""}],photos:["ichiran_shibuya.jpg"],cuisine:"",serviceOptions:["",""],mealOptions:["","",""],atmosphere:"",suitableFor:["","",""],reservationRequired:!1,priceRange:"800-1500",seatingCapacity:32,privateRooms:!1,smokingAllowed:!1,accessibility:"",parking:!1,creditCards:["VISA","MasterCard","JCB","AMEX"],wifi:!0,alcohol:!1,specialMenus:[{name:"",price:"890",description:""},{name:"",price:"190",description:""}],seasonalMenus:"",chefInfo:"",awards:[],tabelogRating:3.2,gurunaviUrl:"https://r.gnavi.co.jp/ichiran-shibuya/",hotpepperUrl:"https://www.hotpepper.jp/strJ001234567/"}];for(const e of t)yield H6(e);console.log("All restaurant data uploaded successfully!")}catch(t){throw console.error("Error uploading restaurant data: ",t),t}}),q6=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!1),[s,i]=R.useState(!1),[o,c]=R.useState(null),u=()=>U(Me,null,function*(){r(!0);try{const p=yield W6();e(p),c({type:"success",text:`${p.length}`})}catch(p){c({type:"error",text:""}),console.error("Error fetching restaurants:",p)}finally{r(!1)}}),h=()=>U(Me,null,function*(){i(!0);try{yield Z6(),c({type:"success",text:""}),yield u()}catch(p){c({type:"error",text:""}),console.error("Error uploading data:",p)}finally{i(!1)}}),f=(p,g)=>U(Me,null,function*(){if(window.confirm(`${g}`))try{yield G6(p),c({type:"success",text:`${g}`}),yield u()}catch(y){c({type:"error",text:""}),console.error("Error deleting restaurant:",y)}});return R.useEffect(()=>{if(o){const p=setTimeout(()=>{c(null)},5e3);return()=>clearTimeout(p)}},[o]),R.useEffect(()=>{u()},[]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"pt-20 pb-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-pink/20 to-neon-blue/20"}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-neon-pink/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-80 h-80 bg-neon-blue/20 rounded-full blur-3xl animate-pulse"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent mb-4",children:""}),a.jsx("p",{className:"text-xl text-white/80",children:"Firebase"})]})]}),o&&a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:a.jsxs("div",{className:`flex items-center space-x-3 p-4 rounded-lg ${o.type==="success"?"bg-green-500/20 border border-green-500/50 text-green-400":"bg-red-500/20 border border-red-500/50 text-red-400"}`,children:[o.type==="success"?a.jsx(O1,{className:"w-5 h-5"}):a.jsx(Cf,{className:"w-5 h-5"}),a.jsx("span",{children:o.text})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[a.jsxs("button",{onClick:h,disabled:s,className:"flex items-center justify-center space-x-3 p-6 bg-gradient-to-r from-neon-pink to-neon-purple rounded-xl hover:shadow-lg hover:shadow-neon-pink/50 transition duration-300 disabled:opacity-50",children:[s?a.jsx(il,{className:"w-6 h-6 animate-spin"}):a.jsx(SE,{className:"w-6 h-6"}),a.jsx("span",{className:"font-semibold",children:s?"...":""})]}),a.jsxs("button",{onClick:u,disabled:n,className:"flex items-center justify-center space-x-3 p-6 bg-gradient-to-r from-neon-blue to-cyber-blue rounded-xl hover:shadow-lg hover:shadow-neon-blue/50 transition duration-300 disabled:opacity-50",children:[n?a.jsx(il,{className:"w-6 h-6 animate-spin"}):a.jsx(Zs,{className:"w-6 h-6"}),a.jsx("span",{className:"font-semibold",children:n?"...":""})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-3 p-6 bg-white/10 rounded-xl border border-white/20",children:[a.jsx(TN,{className:"w-6 h-6 text-neon-green"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-lg",children:t.length}),a.jsx("div",{className:"text-sm text-white/70",children:""})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),n?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(il,{className:"w-8 h-8 animate-spin text-neon-pink"})}):t.length===0?a.jsx("div",{className:"text-center py-12 text-white/60",children:""}):a.jsx("div",{className:"space-y-4",children:t.map(p=>a.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10 hover:bg-white/10 transition duration-300",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:p.name}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-white/80",children:[a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",p.address]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",p.rating,"/5.0 (",p.userRatingsTotal,")"]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",p.cuisine]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",p.priceRange]}),a.jsxs("div",{children:[a.jsx("strong",{children:":"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${p.isOpen?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:p.isOpen?"":""})]}),p.michelinStars&&a.jsxs("div",{children:[a.jsx("strong",{children:":"})," ",p.michelinStars,""]})]}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:p.categories.map((g,y)=>a.jsx("span",{className:"px-2 py-1 bg-neon-blue/20 text-neon-blue rounded text-xs",children:g},y))})]}),a.jsx("button",{onClick:()=>f(p.id,p.name),className:"ml-4 p-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition duration-300 group",title:"",children:a.jsx(nd,{className:"w-5 h-5 text-red-400 group-hover:text-red-300"})})]})},p.id))})]}),a.jsxs("div",{className:"mt-12 bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-neon-pink",children:""}),a.jsxs("div",{className:"space-y-3 text-white/80",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"1. :"})," tokyo_restaurant.txtFirebase"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"2. :"})," Firebase"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"3. :"})," "]}),a.jsxs("p",{className:"text-yellow-400",children:[a.jsx("strong",{children:":"})," "]})]})]})]}),a.jsx(Or,{})]})},Q6=({items:t,onItemClick:e,showRoute:n=!0})=>{const r=R.useRef(null),[s,i]=R.useState(null),[o,c]=R.useState(null),[u,h]=R.useState(null),[f,p]=R.useState(!1),[g,y]=R.useState(!0),[k,x]=R.useState(null),[I,_]=R.useState("TRANSIT"),[v,N]=R.useState(null),[C,D]=R.useState(null),[O,E]=R.useState(!1),[b,T]=R.useState(null),[j,A]=R.useState(!1),[P,S]=R.useState("roadmap"),[xt,Mn]=R.useState(!0);R.useEffect(()=>{const Z=()=>U(Me,null,function*(){if("AIzaSyAdY6wMeKXdqTY1SSj1uALxPuL4LfNLDBo".startsWith("AIza")?console.log("Google Maps API"):(console.warn(": APIGoogle API"),console.warn('Google API "AIza" 39')),!window.google&&!document.querySelector("#google-maps-script")){const pe=document.createElement("script");pe.id="google-maps-script",pe.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAdY6wMeKXdqTY1SSj1uALxPuL4LfNLDBo&libraries=places&loading=async",pe.async=!0,pe.defer=!0,pe.onload=()=>{console.log("Google Maps API loaded successfully"),console.log("Google maps object:",window.google),Y()},pe.onerror=$e=>{console.error("Google Maps API loading failed:",$e),console.error("Script src:",pe.src),x("Google Maps APIAPI"),y(!1)},document.head.appendChild(pe)}else window.google&&Y()}),Y=()=>{if(console.log("createMap called"),console.log("mapRef.current:",r.current),console.log("window.google:",window.google),!r.current||!window.google){console.error("Missing requirements for map creation");return}try{const De=new window.google.maps.Map(r.current,{zoom:12,center:{lat:35.6762,lng:139.6503},mapTypeId:window.google.maps.MapTypeId.ROADMAP,styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#1a1a2e"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#1a1a2e"},{lightness:-80}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38404c"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#16213e"}]}]}),pe=new window.google.maps.DirectionsService,$e=new window.google.maps.DirectionsRenderer({suppressMarkers:!1,polylineOptions:{strokeColor:"#06b6d4",strokeWeight:4,strokeOpacity:.8},markerOptions:{icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#06b6d4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}}});$e.setMap(De);const Le=new window.google.maps.TrafficLayer;D(Le),i(De),c(pe),h($e),y(!1),X()}catch(De){x(""),y(!1)}};Z()},[]),R.useEffect(()=>{if(!(!s||!t.length)){if(u&&u.setDirections({routes:[]}),t.length===1){const Z=t[0];new window.google.maps.Marker({position:Z.coordinates||{lat:35.6762,lng:139.6503},map:s,title:Z.name,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#ec4899",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}}).addListener("click",()=>{e&&e(Z)}),s.setCenter(Z.coordinates||{lat:35.6762,lng:139.6503}),s.setZoom(15)}else if(t.length>1&&n&&o&&u){const Z=t[0].coordinates||{lat:35.6762,lng:139.6503},Y=t[t.length-1].coordinates||{lat:35.6762,lng:139.6503},De=t.slice(1,-1).map(pe=>({location:pe.coordinates||{lat:35.6762,lng:139.6503},stopover:!0}));o.route({origin:Z,destination:Y,waypoints:De,travelMode:window.google.maps.TravelMode[I],unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},(pe,$e)=>{if($e==="OK"){u.setDirections(pe);const Le=pe.routes[0];Le.legs[0],N({totalDistance:Le.legs.reduce((qe,Ve)=>qe+Ve.distance.value,0)/1e3+" km",totalDuration:Le.legs.reduce((qe,Ve)=>qe+Ve.duration.value,0)/60+" ",steps:Le.legs.flatMap(qe=>qe.steps.map(Ve=>({distance:Ve.distance.text,duration:Ve.duration.text,instructions:Ve.instructions.replace(/<[^>]*>/g,""),travelMode:Ve.travel_mode}))).slice(0,10)})}else console.error("Directions request failed due to "+$e),x("")})}}},[s,t,n,I,o,u,e]);const Fr=()=>{p(!f)},Jt=Z=>{switch(Z){case"DRIVING":return a.jsx(td,{className:"w-4 h-4"});case"TRANSIT":return a.jsx(xn,{className:"w-4 h-4"});case"WALKING":return a.jsx("span",{className:"w-4 h-4",children:""});default:return a.jsx(B1,{className:"w-4 h-4"})}},H=()=>{if(t.length===0)return;const Z=t[0].coordinates,Y=t[t.length-1].coordinates,De=t.slice(1,-1).map($e=>{var Le,qe;return`${(Le=$e.coordinates)==null?void 0:Le.lat},${(qe=$e.coordinates)==null?void 0:qe.lng}`}).join("|");let pe=`https://www.google.com/maps/dir/?api=1&origin=${Z==null?void 0:Z.lat},${Z==null?void 0:Z.lng}&destination=${Y==null?void 0:Y.lat},${Y==null?void 0:Y.lng}`;De&&(pe+=`&waypoints=${De}`),pe+=`&travelmode=${I.toLowerCase()}`,window.open(pe,"_blank")},X=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Z=>{const Y={lat:Z.coords.latitude,lng:Z.coords.longitude};T(Y),s&&new window.google.maps.Marker({position:Y,map:s,title:"",icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#4ade80",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}})},Z=>{console.log(":",Z)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},re=()=>{if(j)A(!1);else if(navigator.geolocation){const Z=navigator.geolocation.watchPosition(Y=>{const De={lat:Y.coords.latitude,lng:Y.coords.longitude};T(De)},Y=>{console.log(":",Y)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:6e4});return A(!0),()=>navigator.geolocation.clearWatch(Z)}},ve=()=>{C&&s&&(O?C.setMap(null):C.setMap(s),E(!O))},fe=()=>{if(t.length>1&&o&&u){y(!0);const Z=b||t[0].coordinates||{lat:35.6762,lng:139.6503},Y=t[t.length-1].coordinates||{lat:35.6762,lng:139.6503},De=t.slice(1,-1).map(pe=>({location:pe.coordinates||{lat:35.6762,lng:139.6503},stopover:!0}));o.route({origin:Z,destination:Y,waypoints:De,travelMode:window.google.maps.TravelMode[I],unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1,drivingOptions:{departureTime:new Date,trafficModel:"bestguess"}},(pe,$e)=>{if(y(!1),$e==="OK"){u.setDirections(pe);const Le=pe.routes[0];N({totalDistance:(Le.legs.reduce((qe,Ve)=>qe+Ve.distance.value,0)/1e3).toFixed(1)+" km",totalDuration:Math.round(Le.legs.reduce((qe,Ve)=>qe+Ve.duration.value,0)/60)+" ",steps:Le.legs.flatMap(qe=>qe.steps.map(Ve=>({distance:Ve.distance.text,duration:Ve.duration.text,instructions:Ve.instructions.replace(/<[^>]*>/g,""),travelMode:Ve.travel_mode}))).slice(0,10)})}else x("")})}},Ne=Z=>{s&&(s.setMapTypeId(window.google.maps.MapTypeId[Z.toUpperCase()]),S(Z))},Xt=()=>{if(s&&t.length>0){const Z=new window.google.maps.LatLngBounds;t.forEach(Y=>{Y.coordinates&&Z.extend(Y.coordinates)}),b&&Z.extend(b),s.fitBounds(Z)}},Bt=Z=>{if(s&&t.length>0){const Y=new window.google.maps.places.PlacesService(s),De={location:t[0].coordinates||{lat:35.6762,lng:139.6503},radius:1e3,type:[Z]};Y.nearbySearch(De,(pe,$e)=>{$e===window.google.maps.places.PlacesServiceStatus.OK&&pe.slice(0,5).forEach(Le=>{new window.google.maps.Marker({position:Le.geometry.location,map:s,title:Le.name,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:6,fillColor:Z==="transit_station"?"#3b82f6":Z==="restaurant"?"#ef4444":"#f59e0b",fillOpacity:.8,strokeColor:"#ffffff",strokeWeight:1}})})})}};return g?a.jsx("div",{className:"w-full h-96 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zs,{className:"w-8 h-8 animate-spin text-neon-blue mx-auto mb-2"}),a.jsx("p",{className:"text-white/70",children:"..."})]})}):k?a.jsx("div",{className:"w-full h-96 bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md px-6",children:[a.jsx(En,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),a.jsx("p",{className:"text-red-400 mb-2 font-semibold",children:""}),a.jsx("p",{className:"text-white/70 text-sm mb-4",children:k}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-left",children:[a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"text-neon-blue font-semibold mb-2",children:" API:"}),a.jsxs("div",{className:"text-xs text-white/80 space-y-2",children:[a.jsxs("p",{children:["API: ",a.jsx("span",{className:"text-green-400",children:""})]}),a.jsx("p",{children:"API"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Maps JavaScript API"})," - "]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Places API"})," - "]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Directions API"})," - "]})]}),a.jsx("div",{className:"mt-2 p-2 bg-yellow-500/20 border border-yellow-500/50 rounded",children:a.jsxs("p",{className:"text-yellow-400 text-xs",children:[" ",a.jsx("a",{href:"https://console.cloud.google.com/apis/dashboard",target:"_blank",className:"underline",children:"Google Cloud Console"}),"API"]})})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-500/20 to-blue-500/20 border border-purple-500/30 rounded-lg",children:[a.jsx("h5",{className:"text-purple-400 font-semibold mb-2",children:" "}),a.jsx("p",{className:"text-xs text-white/70 mb-2",children:":"}),a.jsx("div",{className:"space-y-1 text-xs",children:t.map((Z,Y)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-neon-pink to-neon-blue rounded-full flex items-center justify-center text-xs font-bold",children:Y+1}),a.jsx("span",{className:"text-white/80",children:Z.name}),a.jsxs("span",{className:"text-white/50",children:["(",Z.address,")"]})]},Z.id))})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:a.jsx("p",{className:"text-blue-400 text-xs",children:" API"})})]})}):a.jsx("div",{className:`${f?"fixed inset-0 z-50 bg-black":"relative"}`,children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:H,className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg text-blue-400 text-sm transition duration-300",children:"Google Maps"}),a.jsx("button",{onClick:Fr,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition duration-300",children:f?a.jsx(rE,{className:"w-4 h-4"}):a.jsx(eE,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:ve,className:`flex items-center space-x-2 px-3 py-1 rounded-lg transition duration-300 text-sm ${O?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{children:O?"":""})]}),a.jsxs("button",{onClick:re,className:`flex items-center space-x-2 px-3 py-1 rounded-lg transition duration-300 text-sm ${j?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:[a.jsx(En,{className:"w-4 h-4"}),a.jsx("span",{children:j?"":""})]}),a.jsxs("button",{onClick:fe,disabled:g,className:"flex items-center space-x-2 px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg text-blue-400 text-sm transition duration-300 disabled:opacity-50",children:[a.jsx(Zs,{className:`w-4 h-4 ${g?"animate-spin":""}`}),a.jsx("span",{children:""})]})]}),b&&a.jsxs("div",{className:"text-xs text-green-400",children:[": ",b.lat.toFixed(4),", ",b.lng.toFixed(4)]}),a.jsx("button",{onClick:()=>Mn(!xt),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition duration-300",title:"/",children:a.jsx(xE,{className:"w-4 h-4"})})]}),xt&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-white/70",children:":"}),[{type:"roadmap",label:"",icon:""},{type:"satellite",label:"",icon:""},{type:"hybrid",label:"",icon:""},{type:"terrain",label:"",icon:""}].map(({type:Z,label:Y,icon:De})=>a.jsxs("button",{onClick:()=>Ne(Z),className:`flex items-center space-x-1 px-2 py-1 rounded text-xs transition duration-300 ${P===Z?"bg-neon-purple/20 text-neon-purple border border-neon-purple/50":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:[a.jsx("span",{children:De}),a.jsx("span",{children:Y})]},Z))]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-white/70",children:":"}),a.jsxs("button",{onClick:Xt,className:"flex items-center space-x-1 px-2 py-1 bg-white/5 hover:bg-white/10 rounded text-xs transition duration-300",children:[a.jsx(NE,{className:"w-3 h-3"}),a.jsx("span",{children:""})]}),a.jsxs("button",{onClick:()=>Bt("transit_station"),className:"flex items-center space-x-1 px-2 py-1 bg-blue-500/20 hover:bg-blue-500/30 rounded text-blue-400 text-xs transition duration-300",children:[a.jsx(xn,{className:"w-3 h-3"}),a.jsx("span",{children:""})]}),a.jsxs("button",{onClick:()=>Bt("restaurant"),className:"flex items-center space-x-1 px-2 py-1 bg-red-500/20 hover:bg-red-500/30 rounded text-red-400 text-xs transition duration-300",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-white/70",children:":"}),[{mode:"TRANSIT",label:"",icon:a.jsx(xn,{className:"w-4 h-4"})},{mode:"WALKING",label:"",icon:a.jsx("span",{className:"w-4 h-4",children:""})},{mode:"DRIVING",label:"",icon:a.jsx(td,{className:"w-4 h-4"})}].map(({mode:Z,label:Y,icon:De})=>a.jsxs("button",{onClick:()=>_(Z),className:`flex items-center space-x-2 px-3 py-1 rounded-lg transition duration-300 text-sm ${I===Z?"bg-neon-blue/20 text-neon-blue border border-neon-blue/50":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:[De,a.jsx("span",{children:Y})]},Z))]})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:`${f?"w-2/3":"w-full"} ${f?"h-screen":"h-96"}`,children:a.jsx("div",{ref:r,className:"w-full h-full"})}),f&&v&&a.jsxs("div",{className:"w-1/3 p-6 bg-black/50 overflow-y-auto",children:[a.jsx("h4",{className:"text-lg font-bold mb-4 text-neon-blue",children:""}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-white/5 rounded-lg",children:[a.jsx(Ul,{className:"w-5 h-5 text-neon-green mx-auto mb-1"}),a.jsx("div",{className:"text-lg font-bold text-neon-green",children:v.totalDistance}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"text-center p-3 bg-white/5 rounded-lg",children:[a.jsx(Nn,{className:"w-5 h-5 text-neon-purple mx-auto mb-1"}),a.jsx("div",{className:"text-lg font-bold text-neon-purple",children:v.totalDuration}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h5",{className:"font-semibold text-white/90",children:""}),v.steps.map((Z,Y)=>a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-white/5 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-neon-blue/20 rounded-full flex items-center justify-center text-xs font-bold text-neon-blue",children:Y+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-white/90 mb-1",children:Z.instructions}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-white/60",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[Jt(Z.travelMode),a.jsx("span",{children:Z.distance})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Nn,{className:"w-3 h-3"}),a.jsx("span",{children:Z.duration})]})]})]})]},Y))]})]})]}),!f&&v&&a.jsx("div",{className:"p-4 border-t border-white/20",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-neon-green",children:v.totalDistance}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-neon-purple",children:v.totalDuration}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]})})]})})},K6=({items:t})=>{const[e,n]=R.useState([]),[r,s]=R.useState("morning"),i=x=>{n(I=>I.includes(x)?I.filter(_=>_!==x):[...I,x])},o=()=>{const x=[];for(let I=0;I<t.length-1;I++){const _=t[I],v=t[I+1];x.push({from:_,to:v,transportation:c(_,v),tips:u(_,v)})}return x},c=(x,I)=>{const _={"tokyo-tower_tokyo-skytree":{type:"train",line:"JR",duration:"45",distance:"8.2km",cost:"320",instructions:["3","6180","JR","2","JR","9140","2","3"],alternatives:[{type:"taxi",duration:"25",cost:"2,800-3,500",description:""},{type:"walk + train",line:"",duration:"50",cost:"280",description:""}]},"tokyo-skytree_sensoji-temple":{type:"walk",duration:"15",distance:"1.2km",cost:"",instructions:["","","","","200m"],alternatives:[{type:"subway",line:"",duration:"8",cost:"170",description:"1"}]}},v=`${x.id}_${I.id}`;return _[v]||{type:"train",line:"JR",duration:"20-30",distance:"3-5km",cost:"200-400",instructions:[`${x.name}`,"1-2",`${I.name}`,""],alternatives:[{type:"taxi",duration:"15-25",cost:"1,500-2,500",description:""}]}},u=(x,I)=>{const _=["7:30-9:00, 17:30-19:00","ICSuica/PASMO","Google MapsYahoo!"],v={"tokyo-tower":["",""],"tokyo-skytree":["",""],"sensoji-temple":["",""]};return[..._,...v[x.id]||[],...v[I.id]||[]].slice(0,3)},h=x=>{switch(x){case"train":return a.jsx(xn,{className:"w-5 h-5 text-blue-400"});case"subway":return a.jsx(ME,{className:"w-5 h-5 text-green-400"});case"bus":return a.jsx(cN,{className:"w-5 h-5 text-orange-400"});case"walk":return a.jsx(MN,{className:"w-5 h-5 text-purple-400"});case"taxi":return a.jsx(td,{className:"w-5 h-5 text-yellow-400"});default:return a.jsx(B1,{className:"w-5 h-5 text-gray-400"})}},f=()=>({morning:{label:"9:00-12:00",description:"",advantages:["","",""],warnings:["","10"]},afternoon:{label:"13:00-17:00",description:"",advantages:["","",""],warnings:["",""]},evening:{label:"17:00-21:00",description:"",advantages:["","",""],warnings:["",""]}})[r],p=o(),g=f(),y=t.reduce((x,I)=>x+I.estimatedVisitTime,0),k=p.reduce((x,I)=>x+parseInt(I.transportation.duration.replace(/[^\d]/g,""))||30,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:["morning","afternoon","evening"].map(x=>{const I={morning:{label:"",time:"9:00-12:00",icon:""},afternoon:{label:"",time:"13:00-17:00",icon:""},evening:{label:"",time:"17:00-21:00",icon:""}}[x];return a.jsxs("button",{onClick:()=>s(x),className:`p-4 rounded-lg transition duration-300 ${r===x?"bg-gradient-to-r from-neon-pink to-neon-purple border border-neon-pink/50":"bg-white/5 hover:bg-white/10 border border-white/20"}`,children:[a.jsx("div",{className:"text-2xl mb-2",children:I.icon}),a.jsx("div",{className:"font-semibold",children:I.label}),a.jsx("div",{className:"text-sm text-white/70",children:I.time})]},x)})}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-neon-blue mb-2",children:g.label}),a.jsx("p",{className:"text-white/80 text-sm mb-3",children:g.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-green-400 text-sm font-semibold mb-2",children:""}),a.jsx("ul",{className:"text-xs text-white/70 space-y-1",children:g.advantages.map((x,I)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"}),a.jsx("span",{children:x})]},I))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-yellow-400 text-sm font-semibold mb-2",children:""}),a.jsx("ul",{className:"text-xs text-white/70 space-y-1",children:g.warnings.map((x,I)=>a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx(Cf,{className:"w-3 h-3 text-yellow-400 flex-shrink-0"}),a.jsx("span",{children:x})]},I))})]})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-neon-green to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-lg",children:[a.jsx(hN,{className:"w-6 h-6 text-neon-purple mx-auto mb-2"}),a.jsxs("div",{className:"text-lg font-bold text-neon-purple",children:[Math.round(y/60),""]}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-lg",children:[a.jsx(Ul,{className:"w-6 h-6 text-neon-blue mx-auto mb-2"}),a.jsxs("div",{className:"text-lg font-bold text-neon-blue",children:[Math.round(k/60),""]}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-lg",children:[a.jsx(Nn,{className:"w-6 h-6 text-neon-green mx-auto mb-2"}),a.jsxs("div",{className:"text-lg font-bold text-neon-green",children:[Math.round((y+k)/60),""]}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-lg",children:[a.jsx(Nc,{className:"w-6 h-6 text-neon-pink mx-auto mb-2"}),a.jsx("div",{className:"text-lg font-bold text-neon-pink",children:t.length}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("div",{className:"space-y-6",children:p.map((x,I)=>a.jsxs("div",{className:"border-l-2 border-neon-blue/30 pl-6 relative",children:[a.jsx("div",{className:"absolute -left-3 top-0 w-6 h-6 bg-gradient-to-r from-neon-pink to-neon-blue rounded-full flex items-center justify-center text-xs font-bold",children:I+1}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{className:"w-4 h-4 text-neon-pink"}),a.jsx("span",{className:"font-semibold",children:x.from.name})]}),a.jsx(as,{className:"w-4 h-4 text-white/50"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{className:"w-4 h-4 text-neon-blue"}),a.jsx("span",{className:"font-semibold",children:x.to.name})]})]}),a.jsx("button",{onClick:()=>i(I),className:"p-2 hover:bg-white/10 rounded-lg transition duration-300",children:e.includes(I)?a.jsx(xN,{className:"w-4 h-4"}):a.jsx(gN,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[h(x.transportation.type),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:x.transportation.line||x.transportation.type}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Nn,{className:"w-4 h-4 text-neon-green"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-neon-green",children:x.transportation.duration}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ul,{className:"w-4 h-4 text-neon-purple"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-neon-purple",children:x.transportation.distance}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(F1,{className:"w-4 h-4 text-neon-pink"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-neon-pink",children:x.transportation.cost}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]})]}),e.includes(I)&&a.jsxs("div",{className:"space-y-4 mt-4 pt-4 border-t border-white/20",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold mb-2 text-neon-blue",children:""}),a.jsx("ol",{className:"space-y-2",children:x.transportation.instructions.map((_,v)=>a.jsxs("li",{className:"flex items-start space-x-3 text-sm",children:[a.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-neon-blue/20 rounded-full flex items-center justify-center text-xs font-bold text-neon-blue mt-0.5",children:v+1}),a.jsx("span",{className:"text-white/80",children:_})]},v))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold mb-2 text-neon-purple",children:""}),a.jsx("div",{className:"space-y-2",children:x.transportation.alternatives.map((_,v)=>a.jsxs("div",{className:"p-3 bg-white/5 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[h(_.type),a.jsx("span",{className:"font-medium",children:_.line||_.type})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsx("span",{className:"text-neon-green",children:_.duration}),a.jsx("span",{className:"text-neon-pink",children:_.cost})]})]}),a.jsx("p",{className:"text-sm text-white/70",children:_.description})]},v))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold mb-2 text-neon-green",children:""}),a.jsx("div",{className:"space-y-2",children:x.tips.map((_,v)=>a.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[a.jsx(HN,{className:"w-4 h-4 text-neon-green mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-white/80",children:_})]},v))})]})]})]})]},I))})]})]})},m_=R.createContext(void 0),J6=({children:t})=>{const[e,n]=R.useState([]),[r,s]=R.useState(null),[i,o]=R.useState(!1);R.useEffect(()=>{const y=localStorage.getItem("travel-itinerary");if(y)try{const k=JSON.parse(y).map(x=>Qe(te({},x),{addedAt:new Date(x.addedAt)}));n(k)}catch(k){console.error("Failed to parse saved itinerary:",k)}},[]),R.useEffect(()=>{localStorage.setItem("travel-itinerary",JSON.stringify(e))},[e]);const g={items:e,optimizedRoute:r,isOptimizing:i,addItem:y=>{n(k=>{if(k.find(_=>_.id===y.id))return k;const I=Qe(te({},y),{addedAt:new Date});return[...k,I]}),r&&s(null)},removeItem:y=>{n(k=>k.filter(x=>x.id!==y)),r&&s(null)},clearItinerary:()=>{n([]),s(null),localStorage.removeItem("travel-itinerary")},optimizeRoute:()=>U(Me,null,function*(){if(e.length<2){alert("2");return}o(!0);try{const y=yield X6(e);s(y),n(y.items)}catch(y){console.error("Route optimization failed:",y),alert("")}finally{o(!1)}}),reorderItems:y=>{n(y),r&&s(k=>k?Qe(te({},k),{items:y}):null)}};return a.jsx(m_.Provider,{value:g,children:t})},p_=()=>{const t=R.useContext(m_);if(t===void 0)throw new Error("useItinerary must be used within an ItineraryProvider");return t},X6=t=>U(Me,null,function*(){yield new Promise(o=>setTimeout(o,2e3));const e=[...t],n={lat:35.6812,lng:139.7671};e.sort((o,c)=>{const u=oy(n,o.coordinates||{lat:35.6762,lng:139.6503}),h=oy(n,c.coordinates||{lat:35.6762,lng:139.6503});return u-h}),e.forEach((o,c)=>{o.visitOrder=c+1});const r=e.reduce((o,c)=>o+c.estimatedVisitTime,0),s=e.length*2.5,i=[];for(let o=0;o<e.length-1;o++)i.push({from:e[o].name,to:e[o+1].name,method:"",duration:"20-30",cost:"200-400",description:`${e[o].name}${e[o+1].name}`});return{items:e,totalDistance:s,totalTime:r,estimatedCost:"3,000-8,000",suggestions:["9:00","","","",""],transportPlan:i}}),oy=(t,e)=>{const r=(e.lat-t.lat)*Math.PI/180,s=(e.lng-t.lng)*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},Y6=()=>{const t=Rn(),{items:e,optimizedRoute:n,isOptimizing:r,removeItem:s,clearItinerary:i,optimizeRoute:o,reorderItems:c}=p_(),[u,h]=R.useState(null),[f,p]=R.useState(!1),[g,y]=R.useState("overview"),k=(C,D)=>{h(D),C.dataTransfer.effectAllowed="move"},x=C=>{C.preventDefault(),C.dataTransfer.dropEffect="move"},I=(C,D)=>{if(C.preventDefault(),!u||u===D)return;const O=e.findIndex(j=>j.id===u),E=e.findIndex(j=>j.id===D);if(O===-1||E===-1)return;const b=[...e],[T]=b.splice(O,1);b.splice(E,0,T),c(b),h(null)},_=C=>{const D=Math.floor(C/60),O=C%60;return D>0?`${D}${O>0?O+"":""}`:`${O}`},v=C=>({sightseeing:"from-blue-500 to-cyan-500",food:"from-orange-500 to-red-500",shopping:"from-purple-500 to-pink-500",entertainment:"from-green-500 to-emerald-500"})[C]||"from-gray-500 to-gray-600",N=C=>{switch(C){case"sightseeing":return"";case"food":return"";case"shopping":return"";case"entertainment":return"";default:return""}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"pt-20 pb-12 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-pink/20 to-neon-blue/20"}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-neon-pink/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-80 h-80 bg-neon-blue/20 rounded-full blur-3xl animate-pulse"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("button",{onClick:()=>t(-1),className:"mr-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition duration-300",children:a.jsx(fs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("p",{className:"text-xl text-white/80 mt-2",children:"AI"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[a.jsx("div",{className:"text-2xl font-bold text-neon-pink",children:e.length}),a.jsx("div",{className:"text-sm text-white/70",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[a.jsx("div",{className:"text-2xl font-bold text-neon-blue",children:_(e.reduce((C,D)=>C+D.estimatedVisitTime,0))}),a.jsx("div",{className:"text-sm text-white/70",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[a.jsx("div",{className:"text-2xl font-bold text-neon-green",children:n?n.estimatedCost:"---"}),a.jsx("div",{className:"text-sm text-white/70",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20",children:[a.jsx("div",{className:"text-2xl font-bold text-neon-purple",children:n?Math.round(n.totalDistance)+"km":"---"}),a.jsx("div",{className:"text-sm text-white/70",children:""})]})]})]})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:e.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("h2",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("p",{className:"text-white/70 mb-8 max-w-md mx-auto",children:""}),a.jsx("button",{onClick:()=>t("/guide/tokyo/sightseeing"),className:"bg-gradient-to-r from-neon-pink to-neon-purple px-8 py-3 rounded-full hover:shadow-lg hover:shadow-neon-pink/50 transition duration-300 font-semibold",children:""})]}):a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center space-x-4 mb-8",children:[{id:"overview",label:"",icon:qN},{id:"map",label:"",icon:XN},{id:"guide",label:"",icon:Rg}].map(({id:C,label:D,icon:O})=>a.jsxs("button",{onClick:()=>y(C),className:`flex items-center space-x-2 px-6 py-3 rounded-full transition duration-300 ${g===C?"bg-gradient-to-r from-neon-pink to-neon-purple text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:[a.jsx(O,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:D})]},C))}),g==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[a.jsxs("button",{onClick:o,disabled:r||e.length<2,className:"flex items-center space-x-2 bg-gradient-to-r from-neon-blue to-cyber-blue px-6 py-3 rounded-full hover:shadow-lg hover:shadow-neon-blue/50 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?a.jsx(il,{className:"w-5 h-5 animate-spin"}):a.jsx(aN,{className:"w-5 h-5"}),a.jsx("span",{className:"font-semibold",children:r?"AI...":"AI"})]}),a.jsxs("button",{onClick:()=>p(!f),disabled:!n,className:"flex items-center space-x-2 bg-white/10 px-6 py-3 rounded-full hover:bg-white/20 transition duration-300 disabled:opacity-50",children:[a.jsx(GN,{className:"w-5 h-5"}),a.jsxs("span",{children:["",f?"":""]})]}),a.jsxs("button",{onClick:i,className:"flex items-center space-x-2 bg-red-500/20 hover:bg-red-500/30 px-6 py-3 rounded-full transition duration-300",children:[a.jsx(nd,{className:"w-5 h-5"}),a.jsx("span",{children:""})]})]}),f&&n&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-neon-blue",children:"AI"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-semibold mb-3 text-neon-green",children:""}),a.jsx("div",{className:"space-y-2",children:n.suggestions.map((C,D)=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(bN,{className:"w-5 h-5 text-neon-green mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-white/80 text-sm",children:C})]},D))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3 text-neon-purple",children:""}),a.jsx("div",{className:"space-y-3",children:n.transportPlan.map((C,D)=>a.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-white/5 rounded-lg",children:[a.jsx(Rg,{className:"w-4 h-4 text-neon-purple"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium",children:C.description}),a.jsxs("div",{className:"text-xs text-white/60",children:[C.method,"  ",C.duration,"  ",C.cost]})]})]},D))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:[" ",n&&""]}),e.map((C,D)=>a.jsx("div",{draggable:!0,onDragStart:O=>k(O,C.id),onDragOver:x,onDrop:O=>I(O,C.id),className:`bg-white/10 backdrop-blur-lg rounded-xl border border-white/20 hover:bg-white/15 transition duration-300 cursor-move ${u===C.id?"opacity-50":""}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${v(C.category)} rounded-full flex items-center justify-center text-2xl font-bold shadow-lg`,children:C.visitOrder||D+1}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-2xl",children:N(C.category)}),a.jsx("h3",{className:"text-xl font-bold text-white",children:C.name})]}),a.jsx("p",{className:"text-white/60 text-sm",children:C.description})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oE,{className:"w-5 h-5 text-white/40"}),a.jsx("button",{onClick:()=>s(C.id),className:"p-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg transition duration-300",children:a.jsx(nd,{className:"w-4 h-4 text-red-400"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(En,{className:"w-4 h-4 mr-2 text-neon-blue"}),a.jsx("span",{className:"text-sm",children:C.address})]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Nn,{className:"w-4 h-4 mr-2 text-neon-green"}),a.jsx("span",{className:"text-sm",children:C.hours})]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2 text-yellow-400"}),a.jsxs("span",{className:"text-sm",children:[C.rating,"/5.0"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-white/60",children:[": ",_(C.estimatedVisitTime)]}),a.jsx("div",{className:"text-lg font-bold text-neon-pink",children:C.price})]}),C.transport&&a.jsx("div",{className:"mt-3 p-3 bg-white/5 rounded-lg",children:a.jsxs("div",{className:"flex items-center text-sm text-white/70",children:[a.jsx(xn,{className:"w-4 h-4 mr-2 text-neon-purple"}),a.jsx("span",{children:C.transport.train||C.transport.walking})]})})]})},C.id))]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 sticky top-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsxs("span",{className:"font-bold",children:[e.length,""]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsx("span",{className:"font-bold",children:_(e.reduce((C,D)=>C+D.estimatedVisitTime,0))})]}),n&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsxs("span",{className:"font-bold",children:[Math.round(n.totalDistance),"km"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-white/70",children:""}),a.jsx("span",{className:"font-bold",children:n.estimatedCost})]})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20",children:[a.jsx("h4",{className:"font-semibold mb-3",children:""}),a.jsx("div",{className:"space-y-2",children:["sightseeing","food","shopping","entertainment"].map(C=>{const D=e.filter(O=>O.category===C).length;return D===0?null:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:N(C)}),a.jsx("span",{className:"text-white/70 capitalize",children:C})]}),a.jsx("span",{className:"text-white/90",children:D})]},C)})})]}),e.length>=2&&!n&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-500/20 border border-yellow-500/50 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Cf,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"text-yellow-400 font-semibold mb-1",children:""}),a.jsx("p",{className:"text-white/70",children:"AIAI"})]})]})})]})})]}),g==="map"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx(Q6,{items:e,showRoute:!0,onItemClick:C=>{console.log("Selected item:",C.name)}}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-neon-blue mb-2",children:""}),a.jsxs("ul",{className:"text-sm text-white/80 space-y-1",children:[a.jsx("li",{children:" "}),a.jsx("li",{children:" "}),a.jsx("li",{children:" "}),a.jsx("li",{children:" "})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-neon-green mb-2",children:""}),a.jsxs("ul",{className:"text-sm text-white/80 space-y-1",children:[a.jsx("li",{children:" Google Maps"}),a.jsx("li",{children:" GPS"}),a.jsx("li",{children:" "}),a.jsx("li",{children:" "})]})]})]})]})]}),g==="guide"&&a.jsxs("div",{className:"space-y-8",children:[a.jsx(K6,{items:e}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-neon-purple mb-2",children:" "}),a.jsx("p",{className:"text-sm text-white/80",children:""})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-neon-blue mb-2",children:" "}),a.jsx("p",{className:"text-sm text-white/80",children:""})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-neon-green mb-2",children:" "}),a.jsx("p",{className:"text-sm text-white/80",children:""})]})]})]})]})]})}),a.jsx(Or,{})]})},g_={tokyo_tower:{id:"tokyo_tower",name:"",nameEn:"Tokyo Tower",description:"333m",category:"landmark",prefecture:"tokyo",image:"https://picsum.photos/800/600?random=1",location:{address:"4-2-8",station:"",coordinates:{lat:35.6586,lng:139.7454}},highlights:["333m","","",""],hashtags:["#","#TokyoTower","#","#","#"],keywords:["","Tokyo Tower","","",""],rating:4.3,visitTime:"1-2",bestSeason:["","",""],entrance:{fee:"1,200",hours:"9:00-23:00"},access:{train:"7",walking:"5"},tips:["18:00","",""]},skytree:{id:"skytree",name:"",nameEn:"Tokyo Skytree",description:"634m",category:"landmark",prefecture:"tokyo",image:"https://picsum.photos/800/600?random=2",location:{address:"1-1-2",station:"",coordinates:{lat:35.7101,lng:139.8107}},highlights:["634m","","",""],hashtags:["#","#TokyoSkytree","#634m","#","#"],keywords:["","Tokyo Skytree","","634m",""],rating:4.4,visitTime:"2-3",bestSeason:["","",""],entrance:{fee:"2,100",hours:"8:00-22:00"},access:{train:"",walking:"3"},tips:["","",""]},asakusa:{id:"asakusa",name:"",nameEn:"Sensoji Temple",description:"",category:"temple",prefecture:"tokyo",image:"https://picsum.photos/800/600?random=3",location:{address:"2-3-1",station:"",coordinates:{lat:35.7148,lng:139.7967}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Sensoji","","",""],rating:4.5,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"",hours:"6:00-17:00"},access:{train:"5",walking:""},tips:["","",""]},shibuya:{id:"shibuya",name:"",nameEn:"Shibuya Crossing",description:"3000",category:"modern",prefecture:"tokyo",image:"https://picsum.photos/800/600?random=4",location:{address:"2-1",station:"",coordinates:{lat:35.6598,lng:139.7006}},highlights:["","","","109"],hashtags:["#","#","#","#","#109"],keywords:["","Shibuya","","","109"],rating:4.2,visitTime:"30-1",bestSeason:[""],entrance:{fee:"",hours:"24"},access:{train:"",walking:"JR"},tips:["","",""]},kamakura_daibutsu:{id:"kamakura_daibutsu",name:"",nameEn:"Kamakura Daibutsu",description:"13.35m800",category:"temple",prefecture:"kanagawa",image:"https://picsum.photos/800/600?random=5",location:{address:"4-2-28",station:"",coordinates:{lat:35.3167,lng:139.5358}},highlights:["13.35m","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kamakura Daibutsu","","",""],rating:4.6,visitTime:"30-1",bestSeason:["",""],entrance:{fee:"300",hours:"8:00-17:30"},access:{train:"7",walking:""},tips:["20","",""]},enoshima:{id:"enoshima",name:"",nameEn:"Enoshima Shrine",description:"",category:"temple",prefecture:"kanagawa",image:"https://picsum.photos/800/600?random=6",location:{address:"2-3-8",station:"",coordinates:{lat:35.2981,lng:139.4804}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Enoshima","","",""],rating:4.3,visitTime:"2-3",bestSeason:["","",""],entrance:{fee:"",hours:"8:30-17:00"},access:{train:"15",walking:"20"},tips:["","",""]},minatomirai:{id:"minatomirai",name:"21",nameEn:"Minato Mirai 21",description:"",category:"modern",prefecture:"kanagawa",image:"https://picsum.photos/800/600?random=7",location:{address:"",station:"",coordinates:{lat:35.4657,lng:139.6201}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Minato Mirai","","",""],rating:4.4,visitTime:"-1",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"",walking:"10"},tips:["18:00","","21"]},kawagoe:{id:"kawagoe",name:"",nameEn:"Kawagoe Historic District",description:"",category:"cultural",prefecture:"saitama",image:"https://picsum.photos/800/600?random=8",location:{address:"2",station:"",coordinates:{lat:35.925,lng:139.4855}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kawagoe","","",""],rating:4.2,visitTime:"2-3",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"10",walking:"15"},tips:["","14",""]},chichibu:{id:"chichibu",name:"",nameEn:"Chichibu Shrine",description:"200012",category:"temple",prefecture:"saitama",image:"https://picsum.photos/800/600?random=9",location:{address:"1-3",station:"",coordinates:{lat:35.9932,lng:139.0806}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Chichibu Shrine","","",""],rating:4.1,visitTime:"1",bestSeason:["12","",""],entrance:{fee:"",hours:"5:00-20:00"},access:{train:"3",walking:"15"},tips:["12","",""]},naritasan:{id:"naritasan",name:"",nameEn:"Naritasan Shinshoji Temple",description:"",category:"temple",prefecture:"chiba",image:"https://picsum.photos/800/600?random=10",location:{address:"1",station:"",coordinates:{lat:35.7749,lng:140.318}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Naritasan","","",""],rating:4.3,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"",hours:"6:00-16:00"},access:{train:"10",walking:"JR"},tips:["","",""]},makuhari:{id:"makuhari",name:"",nameEn:"Makuhari Messe",description:"",category:"modern",prefecture:"chiba",image:"https://picsum.photos/800/600?random=11",location:{address:"2-1",station:"",coordinates:{lat:35.6474,lng:140.0346}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Makuhari Messe","","",""],rating:4,visitTime:"",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"5",walking:"JR"},tips:["","",""]},disney_land:{id:"disney_land",name:"",nameEn:"Tokyo Disneyland",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=12",location:{address:"1-1",station:"",coordinates:{lat:35.6329,lng:139.8804}},highlights:["","","",""],hashtags:["#","#TDL","#","#","#"],keywords:["","Tokyo Disneyland","TDL","",""],rating:4.8,visitTime:"1",bestSeason:[""],entrance:{fee:"8,700",hours:"8:00-22:00"},access:{train:"5",walking:"JR"},tips:["","",""]},disney_sea:{id:"disney_sea",name:"",nameEn:"Tokyo DisneySea",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=13",location:{address:"1-13",station:"",coordinates:{lat:35.6267,lng:139.889}},highlights:["","","",""],hashtags:["#","#TDS","#","#","#"],keywords:["","Tokyo DisneySea","TDS","",""],rating:4.7,visitTime:"1",bestSeason:[""],entrance:{fee:"8,700",hours:"8:00-22:00"},access:{train:"",walking:"JR"},tips:["","",""]},kamogawa_seaworld:{id:"kamogawa_seaworld",name:"",nameEn:"Kamogawa SeaWorld",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=14",location:{address:"1464-18",station:"",coordinates:{lat:35.114,lng:140.1025}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kamogawa SeaWorld","","",""],rating:4.4,visitTime:"3-4",bestSeason:[""],entrance:{fee:"3,300",hours:"9:00-17:00"},access:{train:"10",walking:"JR"},tips:["","",""]},mother_farm:{id:"mother_farm",name:"",nameEn:"Mother Farm",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=15",location:{address:"940-3",station:"",coordinates:{lat:35.3333,lng:139.85}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Mother Farm","","",""],rating:4.2,visitTime:"",bestSeason:["","",""],entrance:{fee:"1,500",hours:"9:00-17:00"},access:{train:"35",walking:"JR"},tips:["","",""]},nokogiriyama:{id:"nokogiriyama",name:"",nameEn:"Mount Nokogiri",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=16",location:{address:"184",station:"",coordinates:{lat:35.1611,lng:139.8194}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Nokogiriyama","","",""],rating:4.3,visitTime:"2-3",bestSeason:["","",""],entrance:{fee:"1,200700",hours:"9:00-17:00"},access:{train:"10",walking:"JR"},tips:["","",""]},inubosaki_lighthouse:{id:"inubosaki_lighthouse",name:"",nameEn:"Inubosaki Lighthouse",description:"",category:"landmark",prefecture:"chiba",image:"https://picsum.photos/800/600?random=17",location:{address:"9576",station:"",coordinates:{lat:35.7066,lng:140.8697}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Inubosaki Lighthouse","","",""],rating:4.1,visitTime:"1",bestSeason:["",""],entrance:{fee:"300",hours:"8:30-16:00"},access:{train:"7",walking:""},tips:["","",""]},yoro_valley:{id:"yoro_valley",name:"",nameEn:"Yoro Valley",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=18",location:{address:"",station:"",coordinates:{lat:35.2833,lng:140.1667}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Yoro Valley","","",""],rating:4.2,visitTime:"2-3",bestSeason:["","",""],entrance:{fee:"200",hours:""},access:{train:"",walking:""},tips:["11","",""]},katori_shrine:{id:"katori_shrine",name:"",nameEn:"Katori Shrine",description:"400",category:"temple",prefecture:"chiba",image:"https://picsum.photos/800/600?random=19",location:{address:"1697-1",station:"",coordinates:{lat:35.8847,lng:140.5281}},highlights:["","1000","",""],hashtags:["#","#","#","#","#"],keywords:["","Katori Shrine","","",""],rating:4.3,visitTime:"1-2",bestSeason:[""],entrance:{fee:"",hours:"8:30-17:00"},access:{train:"15",walking:"JR"},tips:["","",""]},sawara:{id:"sawara",name:"",nameEn:"Sawara Historic District",description:"",category:"cultural",prefecture:"chiba",image:"https://picsum.photos/800/600?random=20",location:{address:"",station:"",coordinates:{lat:35.8947,lng:140.4986}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Sawara","","",""],rating:4.1,visitTime:"2-3",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"10",walking:"JR"},tips:["","710",""]},tokyo_german_village:{id:"tokyo_german_village",name:"",nameEn:"Tokyo German Village",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=21",location:{address:"419",station:"",coordinates:{lat:35.4167,lng:140.0833}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Tokyo German Village","","",""],rating:4,visitTime:"3-4",bestSeason:["","",""],entrance:{fee:"800",hours:"9:30-20:00"},access:{train:"35",walking:"JR"},tips:["","",""]},funabashi_andersen_park:{id:"funabashi_andersen_park",name:"",nameEn:"Funabashi Andersen Park",description:"sen",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=22",location:{address:"525",station:"",coordinates:{lat:35.75,lng:140.0333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Andersen Park","","",""],rating:4.2,visitTime:"",bestSeason:["","",""],entrance:{fee:"900",hours:"9:30-16:00"},access:{train:"15",walking:""},tips:["","",""]},ichihara_elephant_kingdom:{id:"ichihara_elephant_kingdom",name:"",nameEn:"Ichihara Elephant Kingdom",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=23",location:{address:"937",station:"",coordinates:{lat:35.4,lng:140.1833}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Elephant Kingdom","","",""],rating:4.1,visitTime:"2-3",bestSeason:[""],entrance:{fee:"2,200",hours:"10:00-17:00"},access:{train:"10",walking:""},tips:["1","",""]},kujukurihama:{id:"kujukurihama",name:"",nameEn:"Kujukurihama Beach",description:"66km",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=24",location:{address:"",station:"",coordinates:{lat:35.55,lng:140.4333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kujukurihama","","",""],rating:4,visitTime:"",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"30",walking:"JR"},tips:["","",""]},byobugaura:{id:"byobugaura",name:"",nameEn:"Byobugaura Cliffs",description:"40-50m10km",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=25",location:{address:"",station:"",coordinates:{lat:35.7167,lng:140.7833}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Byobugaura","","",""],rating:4.2,visitTime:"1-2",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"20",walking:"JR"},tips:["","",""]},kominato_railway:{id:"kominato_railway",name:"",nameEn:"Kominato Railway",description:"",category:"transport",prefecture:"chiba",image:"https://picsum.photos/800/600?random=26",location:{address:"1-1-2",station:"",coordinates:{lat:35.5167,lng:140.1}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kominato Railway","","",""],rating:4.3,visitTime:"2-3",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"",walking:"JR"},tips:["","","1"]},mitsui_outlet_kisarazu:{id:"mitsui_outlet_kisarazu",name:"",nameEn:"Mitsui Outlet Park Kisarazu",description:"",category:"shopping",prefecture:"chiba",image:"https://picsum.photos/800/600?random=27",location:{address:"3-1-1",station:"",coordinates:{lat:35.4167,lng:139.9167}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Mitsui Outlet","","",""],rating:4.1,visitTime:"2-4",bestSeason:[""],entrance:{fee:"",hours:"10:00-20:00"},access:{train:"10",walking:"JR"},tips:["","",""]},lalaport_tokyo_bay:{id:"lalaport_tokyo_bay",name:"TOKYO-BAY",nameEn:"LaLaport TOKYO-BAY",description:"",category:"shopping",prefecture:"chiba",image:"https://picsum.photos/800/600?random=28",location:{address:"2-1-1",station:"",coordinates:{lat:35.6833,lng:140.0167}},highlights:["SC","","",""],hashtags:["#TOKYO-BAY","#","#","#","#"],keywords:["","LaLaport","","",""],rating:4,visitTime:"2-4",bestSeason:[""],entrance:{fee:"",hours:"10:00-21:00"},access:{train:"5",walking:"JR"},tips:["","",""]},tateyama_castle:{id:"tateyama_castle",name:"",nameEn:"Tateyama Castle",description:"",category:"cultural",prefecture:"chiba",image:"https://picsum.photos/800/600?random=29",location:{address:"362",station:"",coordinates:{lat:35,lng:139.8667}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Tateyama Castle","","",""],rating:3.9,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"400",hours:"9:00-16:45"},access:{train:"15",walking:"JR"},tips:["","",""]},chiba_port_tower:{id:"chiba_port_tower",name:"",nameEn:"Chiba Port Tower",description:"125m360",category:"landmark",prefecture:"chiba",image:"https://picsum.photos/800/600?random=30",location:{address:"1",station:"",coordinates:{lat:35.5833,lng:140.1}},highlights:["360","","",""],hashtags:["#","#","#","#","#"],keywords:["","Chiba Port Tower","","",""],rating:4,visitTime:"1",bestSeason:[""],entrance:{fee:"420",hours:"9:00-21:00"},access:{train:"12",walking:"JR"},tips:["","",""]},kameyama_lake:{id:"kameyama_lake",name:"",nameEn:"Kameyama Lake",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=31",location:{address:"",station:"",coordinates:{lat:35.2833,lng:140.0833}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kameyama Lake","","",""],rating:4.1,visitTime:"2",bestSeason:["","",""],entrance:{fee:"",hours:""},access:{train:"10",walking:""},tips:["11","",""]},choshi_densha:{id:"choshi_densha",name:"",nameEn:"Choshi Electric Railway",description:"6.4km",category:"transport",prefecture:"chiba",image:"https://picsum.photos/800/600?random=32",location:{address:"1-1",station:"",coordinates:{lat:35.7333,lng:140.8167}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Choshi Electric Railway","","",""],rating:4,visitTime:"1-2",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"",walking:"JR"},tips:["","","20"]},onjuku_beach:{id:"onjuku_beach",name:"",nameEn:"Onjuku Beach",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=33",location:{address:"",station:"",coordinates:{lat:35.1833,lng:140.35}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Onjuku Beach","","",""],rating:4,visitTime:"2-3",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"7",walking:"JR"},tips:["","",""]},bosofusanosato:{id:"bosofusanosato",name:"",nameEn:"Boso-no-Mura",description:"",category:"cultural",prefecture:"chiba",image:"https://picsum.photos/800/600?random=34",location:{address:"1028",station:"",coordinates:{lat:35.8167,lng:140.2333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Boso-no-Mura","","",""],rating:4,visitTime:"2-3",bestSeason:[""],entrance:{fee:"300",hours:"9:00-16:30"},access:{train:"15",walking:"JR"},tips:["","",""]},chiba_zoological_park:{id:"chiba_zoological_park",name:"",nameEn:"Chiba Zoological Park",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=35",location:{address:"280",station:"",coordinates:{lat:35.65,lng:140.15}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Chiba Zoo","","",""],rating:4.1,visitTime:"3",bestSeason:[""],entrance:{fee:"700",hours:"9:30-16:30"},access:{train:"",walking:"JR"},tips:["","",""]},katsuura_underwater_park:{id:"katsuura_underwater_park",name:"",nameEn:"Katsuura Underwater Park",description:"8m",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=36",location:{address:"174",station:"",coordinates:{lat:35.15,lng:140.3167}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Katsuura Underwater Park","","",""],rating:3.9,visitTime:"1-2",bestSeason:[""],entrance:{fee:"980",hours:"9:00-17:00"},access:{train:"15",walking:"JR"},tips:["","",""]},shirahama_flower_park:{id:"shirahama_flower_park",name:"",nameEn:"Shirahama Flower Park",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=37",location:{address:"1454-37",station:"",coordinates:{lat:34.9167,lng:139.8333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Shirahama Flower Park","","",""],rating:4,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"550",hours:"9:00-17:00"},access:{train:"10",walking:"JR"},tips:["","",""]},inage_kaihin_park:{id:"inage_kaihin_park",name:"",nameEn:"Inage Kaihin Park",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=38",location:{address:"7-1-1",station:"",coordinates:{lat:35.6167,lng:140.0667}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Inage Kaihin Park","","",""],rating:3.8,visitTime:"2",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"10",walking:"JR"},tips:["","",""]},noda_city_park:{id:"noda_city_park",name:"",nameEn:"Shimizu Park",description:"2000",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=39",location:{address:"906",station:"",coordinates:{lat:35.95,lng:139.8167}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Shimizu Park","","",""],rating:4.1,visitTime:"",bestSeason:["","",""],entrance:{fee:"",hours:""},access:{train:"10",walking:""},tips:["","","BBQ"]},mobara_park:{id:"mobara_park",name:"",nameEn:"Mobara Park",description:"100",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=40",location:{address:"1325-1",station:"",coordinates:{lat:35.4167,lng:140.2833}},highlights:["100","","",""],hashtags:["#","#","#","#","#"],keywords:["","Mobara Park","","",""],rating:4,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"15",walking:"JR"},tips:["","",""]},ichikawa_city_museum:{id:"ichikawa_city_museum",name:"",nameEn:"Ichikawa City Zoo and Botanical Garden",description:"",category:"entertainment",prefecture:"chiba",image:"https://picsum.photos/800/600?random=41",location:{address:"284",station:"",coordinates:{lat:35.7167,lng:139.9333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Ichikawa Zoo","","",""],rating:3.9,visitTime:"2-3",bestSeason:[""],entrance:{fee:"520",hours:"9:30-16:30"},access:{train:"15",walking:"JR"},tips:["","",""]},kasamori_temple:{id:"kasamori_temple",name:"",nameEn:"Kasamori Temple",description:"30m31",category:"temple",prefecture:"chiba",image:"https://picsum.photos/800/600?random=42",location:{address:"302",station:"",coordinates:{lat:35.3833,lng:140.25}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Kasamori Temple","","",""],rating:4.2,visitTime:"1",bestSeason:[""],entrance:{fee:"300",hours:"8:00-16:30"},access:{train:"25",walking:"JR"},tips:["","",""]},tomisato_suika_road:{id:"tomisato_suika_road",name:"",nameEn:"Tomisato Watermelon Road",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=43",location:{address:"",station:"",coordinates:{lat:35.7333,lng:140.3833}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Tomisato Watermelon","","",""],rating:3.8,visitTime:"1-2",bestSeason:[""],entrance:{fee:"",hours:""},access:{train:"20",walking:"JR"},tips:["","",""]},abiko_teganuma:{id:"abiko_teganuma",name:"",nameEn:"Teganuma Lake",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=44",location:{address:"",station:"",coordinates:{lat:35.8667,lng:140.0333}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Teganuma","","",""],rating:3.9,visitTime:"1-2",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"10",walking:"JR"},tips:["","",""]},shirako_beach:{id:"shirako_beach",name:"",nameEn:"Shirako Beach",description:"",category:"nature",prefecture:"chiba",image:"https://picsum.photos/800/600?random=45",location:{address:"",station:"",coordinates:{lat:35.4333,lng:140.3667}},highlights:["","","",""],hashtags:["#","#","#","#","#"],keywords:["","Shirako Beach","","",""],rating:3.8,visitTime:"",bestSeason:["",""],entrance:{fee:"",hours:""},access:{train:"30",walking:"JR"},tips:["","",""]}},dm={tokyo:{id:"tokyo",name:"",nameEn:"Tokyo",description:"",image:"https://picsum.photos/1200/800?random=13",color:"from-red-500 to-pink-500",icon:"",stats:{population:"1,400",area:"2,194km",spots:"4"},topSpots:["tokyo_tower","skytree","asakusa","shibuya"]},kanagawa:{id:"kanagawa",name:"",nameEn:"Kanagawa",description:"",image:"https://picsum.photos/1200/800?random=14",color:"from-blue-500 to-cyan-500",icon:"",stats:{population:"920",area:"2,416km",spots:"3"},topSpots:["kamakura_daibutsu","enoshima","minatomirai"]},saitama:{id:"saitama",name:"",nameEn:"Saitama",description:"",image:"https://picsum.photos/1200/800?random=15",color:"from-green-500 to-emerald-500",icon:"",stats:{population:"730",area:"3,798km",spots:"2"},topSpots:["kawagoe","chichibu"]},chiba:{id:"chiba",name:"",nameEn:"Chiba",description:"",image:"https://picsum.photos/1200/800?random=16",color:"from-yellow-500 to-orange-500",icon:"",stats:{population:"630",area:"5,158km",spots:"45"},topSpots:["disney_land","disney_sea","kamogawa_seaworld","nokogiriyama","tokyo_german_village","mother_farm","naritasan","katori_shrine"]}},eA=()=>{const t=Rn(),e=r=>{t(`/spots/${r}`)},n=()=>{t("/spots/all")};return a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsxs("div",{className:"relative pt-20 pb-16 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/50"}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("button",{onClick:()=>t("/"),className:"flex items-center text-white/60 hover:text-neon-blue transition-colors",children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),""]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:""})}),a.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto mb-8",children:" "}),a.jsx("button",{onClick:n,className:"bg-gradient-to-r from-neon-pink to-neon-purple px-8 py-4 rounded-full font-semibold text-lg hover:shadow-lg hover:shadow-neon-pink/30 transition-all duration-300 transform hover:scale-105 mb-12",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2",children:""}),"",a.jsx(as,{className:"w-5 h-5 ml-2"})]})})]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:""}),a.jsx("p",{className:"text-white/70",children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Object.values(dm).map(r=>a.jsxs("div",{className:"relative bg-white/10 backdrop-blur-lg rounded-2xl overflow-hidden border border-white/20 hover:shadow-lg hover:shadow-neon-blue/20 transition-all duration-300 transform hover:scale-105 cursor-pointer group",onClick:()=>e(r.id),children:[a.jsxs("div",{className:"relative h-64 overflow-hidden",children:[a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),a.jsx("div",{className:"absolute top-6 left-6",children:a.jsx("div",{className:"text-6xl",children:r.icon})}),a.jsx("div",{className:"absolute top-6 right-6",children:a.jsxs("div",{className:"bg-black/60 backdrop-blur rounded-lg p-3 text-right",children:[a.jsx("div",{className:"text-sm text-white/80 mb-1",children:""}),a.jsx("div",{className:"text-xl font-bold text-neon-blue",children:r.stats.spots})]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center",children:[r.name,a.jsx("span",{className:"ml-2 text-lg text-white/60",children:r.nameEn})]}),a.jsx("p",{className:"text-white/70 leading-relaxed",children:r.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[a.jsx(Nc,{className:"w-5 h-5 mx-auto mb-2 text-neon-blue"}),a.jsx("div",{className:"text-sm text-white/80 mb-1",children:""}),a.jsx("div",{className:"font-semibold text-white",children:r.stats.population})]}),a.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[a.jsx(En,{className:"w-5 h-5 mx-auto mb-2 text-neon-green"}),a.jsx("div",{className:"text-sm text-white/80 mb-1",children:""}),a.jsx("div",{className:"font-semibold text-white",children:r.stats.area})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:`bg-gradient-to-r ${r.color} px-4 py-2 rounded-full text-sm font-semibold text-white`,children:[r.stats.spots," "]}),a.jsxs("div",{className:"flex items-center text-neon-blue group-hover:text-neon-green transition-colors",children:[a.jsx("span",{className:"text-sm font-semibold mr-2",children:""}),a.jsx(as,{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform"})]})]})]})]},r.id))}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:""}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{icon:"",name:"",category:"landmark"},{icon:"",name:"",category:"temple"},{icon:"",name:"",category:"entertainment"},{icon:"",name:"",category:"nature"}].map(r=>a.jsxs("button",{onClick:()=>t(`/spots/all?category=${r.category}`),className:"bg-white/10 backdrop-blur-lg rounded-lg p-4 border border-white/20 hover:bg-white/20 transition-all duration-300 group",children:[a.jsx("div",{className:"text-3xl mb-2 transform group-hover:scale-110 transition-transform",children:r.icon}),a.jsx("div",{className:"text-sm font-medium text-white",children:r.name})]},r.category))})]})]})]})},y_=({selectedPrefecture:t})=>{const e=Rn(),[n,r]=R.useState("all"),[s,i]=R.useState("rating"),o=[{id:"all",name:"",icon:""},{id:"landmark",name:"",icon:""},{id:"temple",name:"",icon:""},{id:"nature",name:"",icon:""},{id:"entertainment",name:"",icon:""},{id:"cultural",name:"",icon:""},{id:"modern",name:"",icon:""}],c=()=>{let y=Object.values(g_);return t&&t!=="all"&&(y=y.filter(k=>k.prefecture===t)),n!=="all"&&(y=y.filter(k=>k.category===n)),y.sort((k,x)=>s==="rating"?x.rating-k.rating:k.name.localeCompare(x.name)),y},u=y=>{e(`/spot/${y}`)},h=y=>{switch(y){case"landmark":return"";case"temple":return"";case"nature":return"";case"entertainment":return"";case"cultural":return"";case"modern":return"";default:return""}},f=y=>{switch(y){case"landmark":return"from-red-500 to-pink-500";case"temple":return"from-orange-500 to-yellow-500";case"nature":return"from-green-500 to-emerald-500";case"entertainment":return"from-purple-500 to-pink-500";case"cultural":return"from-blue-500 to-indigo-500";case"modern":return"from-gray-500 to-slate-500";default:return"from-gray-400 to-gray-500"}},p=c(),g=t?dm[t]:null;return a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsxs("div",{className:"relative pt-20 pb-8 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/50"}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center text-white/60 hover:text-neon-blue transition-colors",children:[a.jsx(fs,{className:"w-4 h-4 mr-2"}),""]})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:""})}),g&&a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx("span",{className:"text-3xl mr-3",children:g.icon}),a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:g.name})]}),a.jsx("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:g?g.description:""})]})]})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:a.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(LN,{className:"w-5 h-5 mr-2 text-neon-blue"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:""})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:o.map(y=>a.jsxs("button",{onClick:()=>r(y.id),className:`flex flex-col items-center p-3 rounded-lg transition-all duration-300 ${n===y.id?"bg-gradient-to-r from-neon-blue to-neon-green text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:[a.jsx("span",{className:"text-2xl mb-1",children:y.icon}),a.jsx("span",{className:"text-xs font-medium",children:y.name})]},y.id))})]}),a.jsxs("div",{className:"lg:w-48",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Bn,{className:"w-5 h-5 mr-2 text-neon-blue"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:""})]}),a.jsxs("select",{value:s,onChange:y=>i(y.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-neon-blue",children:[a.jsx("option",{value:"rating",children:""}),a.jsx("option",{value:"name",children:""})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[a.jsx("div",{className:"mb-6 flex items-center justify-between",children:a.jsxs("p",{className:"text-white/70",children:[p.length,""]})}),p.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:""}),a.jsx("p",{className:"text-white/60 mb-6",children:""}),a.jsx("button",{onClick:()=>{r("all"),i("rating")},className:"bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-all duration-300",children:""})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(y=>{var k;return a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden border border-white/20 hover:shadow-lg hover:shadow-neon-blue/20 transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:()=>u(y.id),children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-48 object-cover"}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsxs("span",{className:`bg-gradient-to-r ${f(y.category)} px-3 py-1 rounded-full text-xs font-semibold text-white flex items-center`,children:[a.jsx("span",{className:"mr-1",children:h(y.category)}),((k=o.find(x=>x.id===y.category))==null?void 0:k.name)||y.category]})}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsxs("div",{className:"bg-black/60 backdrop-blur text-white px-2 py-1 rounded-full text-sm flex items-center",children:[a.jsx(Bn,{className:"w-4 h-4 mr-1 text-yellow-400"}),y.rating]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:y.name}),a.jsx("p",{className:"text-sm text-white/60",children:y.nameEn})]})}),a.jsx("p",{className:"text-white/70 text-sm mb-4 line-clamp-2",children:y.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(En,{className:"w-4 h-4 mr-2 text-neon-blue"}),y.location.station,""]}),a.jsxs("div",{className:"flex items-center text-sm text-white/60",children:[a.jsx(Nn,{className:"w-4 h-4 mr-2 text-neon-green"}),y.visitTime]})]}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:y.highlights.slice(0,3).map((x,I)=>a.jsx("span",{className:"px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:x},I))}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",children:a.jsx("span",{className:"text-neon-green font-semibold",children:y.entrance.fee})}),a.jsxs("div",{className:"flex items-center text-neon-blue hover:text-neon-green transition-colors",children:[a.jsx("span",{className:"text-sm font-semibold mr-1",children:""}),a.jsx(as,{className:"w-4 h-4"})]})]})]})]},y.id)})})]})]})},tA=({tweet:t})=>{var r,s,i,o,c;const e=u=>{const h=new Date(u),p=new Date().getTime()-h.getTime(),g=Math.floor(p/6e4),y=Math.floor(p/36e5),k=Math.floor(p/864e5);return g<60?`${g}`:y<24?`${y}`:k<7?`${k}`:h.toLocaleDateString("ja-JP")},n=u=>u>=1e3?(u/1e3).toFixed(1)+"K":u.toString();return a.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-lg rounded-xl p-6 border border-white/20 hover:border-neon-blue/50 transition-all duration-300 hover:transform hover:scale-105 hover:shadow-lg hover:shadow-neon-blue/20",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-neon-pink to-neon-purple flex items-center justify-center text-white font-bold text-lg mr-3 overflow-hidden",children:(r=t.author)!=null&&r.profile_image_url?a.jsx("img",{src:t.author.profile_image_url,alt:t.author.name,className:"w-full h-full object-cover"}):((i=(s=t.author)==null?void 0:s.name)==null?void 0:i.charAt(0))||"?"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-semibold text-sm",children:((o=t.author)==null?void 0:o.name)||"Unknown User"}),a.jsxs("p",{className:"text-white/60 text-xs",children:["@",((c=t.author)==null?void 0:c.username)||"unknown","  ",e(t.created_at)]})]}),a.jsx("div",{className:"text-neon-blue",children:a.jsx("i",{className:"fab fa-twitter text-xl"})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-white/90 leading-relaxed text-sm",children:t.text})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60 pt-3 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1 hover:text-neon-pink transition-colors cursor-pointer",children:[a.jsx("i",{className:"far fa-heart"}),a.jsx("span",{children:n(t.public_metrics.like_count)})]}),a.jsxs("div",{className:"flex items-center space-x-1 hover:text-neon-green transition-colors cursor-pointer",children:[a.jsx("i",{className:"fas fa-retweet"}),a.jsx("span",{children:n(t.public_metrics.retweet_count)})]}),a.jsxs("div",{className:"flex items-center space-x-1 hover:text-neon-blue transition-colors cursor-pointer",children:[a.jsx("i",{className:"far fa-comment"}),a.jsx("span",{children:n(t.public_metrics.reply_count)})]})]}),a.jsx("div",{className:"text-electric-yellow",children:a.jsx("i",{className:"fas fa-external-link-alt hover:text-white transition-colors cursor-pointer"})})]})]})},nA=({src:t,poster:e,autoplay:n=!1,loop:r=!0,muted:s=!0,className:i=""})=>{const[o,c]=R.useState(!1),[u,h]=R.useState(s),[f,p]=R.useState(!1),[g,y]=R.useState(!0),[k,x]=R.useState(!1),I=R.useRef(null);R.useEffect(()=>{const N=I.current;if(!N)return;const C=()=>c(!0),D=()=>c(!1),O=()=>y(!0),E=()=>{y(!1),x(!1)},b=()=>{y(!1),x(!0)};return N.addEventListener("play",C),N.addEventListener("pause",D),N.addEventListener("loadstart",O),N.addEventListener("canplay",E),N.addEventListener("error",b),()=>{N.removeEventListener("play",C),N.removeEventListener("pause",D),N.removeEventListener("loadstart",O),N.removeEventListener("canplay",E),N.removeEventListener("error",b)}},[t]);const _=()=>{const N=I.current;N&&(o?N.pause():N.play())},v=()=>{const N=I.current;N&&(N.muted=!N.muted,h(N.muted))};return a.jsxs("div",{className:`relative group ${i}`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[a.jsx("video",{ref:I,src:t,poster:e,autoPlay:n,loop:r,muted:s,playsInline:!0,className:"w-full h-full object-cover rounded-lg",onClick:_}),g&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-lg",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-2"}),a.jsx("p",{className:"text-sm",children:"..."})]})}),k&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-90 rounded-lg",children:a.jsxs("div",{className:"text-center text-white p-4",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm mb-2",children:""}),a.jsx("button",{onClick:()=>{x(!1),y(!0),I.current&&I.current.load()},className:"bg-pink-500 hover:bg-pink-600 px-4 py-2 rounded text-xs transition-colors",children:""})]})}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity duration-300 ${f||!o?"opacity-100":"opacity-0"}`,children:a.jsx("button",{onClick:_,className:"bg-black bg-opacity-50 text-white rounded-full p-4 hover:bg-opacity-70 transition-all duration-200 transform hover:scale-110",children:o?a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):a.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),a.jsx("div",{className:`absolute bottom-4 right-4 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`,children:a.jsx("button",{onClick:v,className:"bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all duration-200",children:u?a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.816L4.914 14H2a1 1 0 01-1-1V7a1 1 0 011-1h2.914l3.469-2.816a1 1 0 011.617.816zM16.414 12l2.121-2.121a1 1 0 00-1.414-1.414L15 10.586l-2.121-2.121a1 1 0 10-1.414 1.414L13.586 12l-2.121 2.121a1 1 0 101.414 1.414L15 13.414l2.121 2.121a1 1 0 001.414-1.414L16.414 12z",clipRule:"evenodd"})}):a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.816L4.914 14H2a1 1 0 01-1-1V7a1 1 0 011-1h2.914l3.469-2.816a1 1 0 011.617.816zM12.828 11.828a4 4 0 000-5.656 1 1 0 00-1.414 1.414 2 2 0 010 2.828 1 1 0 101.414 1.414zm2.121-7.071a7 7 0 010 9.9 1 1 0 01-1.414-1.414 5 5 0 000-7.072 1 1 0 011.414-1.414z",clipRule:"evenodd"})})})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsxs("div",{className:"bg-black bg-opacity-60 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})}),"TikTok"]})})]})},rA=({videoId:t,username:e,className:n=""})=>{const r=R.useRef(null);return R.useEffect(()=>{if(!document.querySelector('script[src*="embed.tiktok.com"]')){const s=document.createElement("script");s.src="https://www.tiktok.com/embed.js",s.async=!0,document.body.appendChild(s)}if(r.current){const s=document.createElement("blockquote");s.className="tiktok-embed",s.setAttribute("cite",`https://www.tiktok.com/@${e}/video/${t}`),s.setAttribute("data-video-id",t),s.style.cssText="max-width: 605px; min-width: 325px;";const i=document.createElement("a");i.target="_blank",i.title=`@${e}`,i.href=`https://www.tiktok.com/@${e}/video/${t}?refer=embed`,i.textContent=`@${e}`,s.appendChild(i),r.current.innerHTML="",r.current.appendChild(s),window.tiktok&&window.tiktok.embed()}},[t,e]),a.jsx("div",{className:`tiktok-embed-container ${n}`,ref:r,children:a.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-100 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"TikTok..."})]})})})},sA=({video:t,isOpen:e,onClose:n})=>{const[r,s]=R.useState(!1);if(R.useEffect(()=>{const c=u=>{u.key==="Escape"&&n()};return e&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[e,n]),!e||!t)return null;const i=c=>c>=1e6?(c/1e6).toFixed(1)+"M":c>=1e3?(c/1e3).toFixed(1)+"K":c.toString(),o=c=>{const u=new Date(c),f=Math.floor((new Date().getTime()-u.getTime())/(1e3*60*60));return f<1?"":f<24?`${f}`:`${Math.floor(f/24)}`};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",children:[a.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-60 text-white hover:text-gray-300 transition-colors",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsxs("div",{className:"flex max-w-6xl w-full h-full max-h-[90vh] bg-black rounded-lg overflow-hidden",children:[a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"w-full max-w-md aspect-[9/16]",children:[a.jsxs("div",{className:"mb-4 text-center",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-white text-sm",children:"TikTok"}),a.jsx("p",{className:"text-gray-400 text-xs",children:""})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-1 flex justify-center",children:[a.jsx("button",{onClick:()=>s(!1),className:`px-3 py-1 rounded text-sm transition-colors ${r?"text-gray-400 hover:text-white":"bg-pink-500 text-white"}`,children:""}),a.jsx("button",{onClick:()=>s(!0),className:`px-3 py-1 rounded text-sm transition-colors ${r?"bg-pink-500 text-white":"text-gray-400 hover:text-white"}`,children:"TikTok"})]})]}),r?a.jsx(rA,{videoId:t.id,username:t.author.uniqueId,className:"w-full h-full"}):a.jsx(nA,{src:t.video.playAddr,poster:t.video.cover,autoplay:!0,loop:!0,muted:!0,className:"w-full h-full"})]})}),a.jsxs("div",{className:"w-80 bg-gray-900 text-white p-6 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("img",{src:t.author.avatarThumb,alt:t.author.nickname,className:"w-12 h-12 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("h3",{className:"font-semibold text-white",children:t.author.nickname}),t.author.verified&&a.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["@",t.author.uniqueId]})]}),a.jsx("span",{className:"text-xs text-gray-500",children:o(t.createTime)})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-white leading-relaxed",children:t.desc})}),t.music&&a.jsx("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("svg",{className:"w-4 h-4 text-pink-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z",clipRule:"evenodd"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white font-medium truncate",children:t.music.title}),a.jsx("p",{className:"text-gray-400 text-xs truncate",children:t.music.authorName})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-white",children:""})]}),a.jsx("span",{className:"text-white font-semibold",children:i(t.stats.diggCount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-white",children:""})]}),a.jsx("span",{className:"text-white font-semibold",children:i(t.stats.commentCount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),a.jsx("span",{className:"text-white",children:""})]}),a.jsx("span",{className:"text-white font-semibold",children:i(t.stats.shareCount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),a.jsx("span",{className:"text-white",children:""})]}),a.jsx("span",{className:"text-white font-semibold",children:i(t.stats.playCount)})]})]}),a.jsxs("div",{className:"mt-8 space-y-3",children:[a.jsx("button",{onClick:()=>window.open(`https://www.tiktok.com/@${t.author.uniqueId}/video/${t.id}`,"_blank"),className:"w-full bg-gradient-to-r from-pink-500 to-red-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-pink-600 hover:to-red-600 transition-all duration-300 transform hover:scale-105",children:"TikTok"}),a.jsx("button",{className:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-600 transition-all duration-300",children:""})]})]})]})]})},iA=({video:t})=>{const[e,n]=R.useState(!1),r=o=>o>=1e6?(o/1e6).toFixed(1)+"M":o>=1e3?(o/1e3).toFixed(1)+"K":o.toString(),s=o=>{const c=new Date(o),h=Math.floor((new Date().getTime()-c.getTime())/(1e3*60*60));return h<1?"":h<24?`${h}`:`${Math.floor(h/24)}`},i=()=>{n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:i,children:[a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:t.video.cover,alt:t.desc,className:"w-full h-64 object-cover",onError:o=>{const c=o.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkk5a1RvayBWaWRlbzwvdGV4dD48L3N2Zz4="}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300",children:a.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-4 transform scale-0 group-hover:scale-100 transition-transform duration-300",children:a.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})}),a.jsxs("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:[Math.floor(t.video.duration),"s"]}),a.jsxs("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-pink-500 to-red-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center",children:[a.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})}),"TikTok"]}),a.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black to-transparent p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:a.jsx("p",{className:"text-white text-sm font-medium",children:""})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[a.jsx("img",{src:t.author.avatarThumb,alt:t.author.nickname,className:"w-10 h-10 rounded-full",onError:o=>{const c=o.target;c.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNkZGQiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik0xMiAxMkM5Ljc5IDEyIDggMTAuMjEgOCA4UzkuNzkgNiAxMiA2IDE2IDcuNzkgMTYgMTAgMTQuMjEgMTIgMTIgMTJaTTEyIDE0QzE2IDEyIDIwIDEzLjc5IDIwIDE2VjE4SDRWMTZDNCA5LjIxIDggMTQgMTIgMTRaIiBmaWxsPSIjOTk5Ii8+Cjwvc3ZnPgo8L3N2Zz4K"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:t.author.nickname}),t.author.verified&&a.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["@",t.author.uniqueId]})]}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:s(t.createTime)})]}),a.jsx("p",{className:"text-gray-800 mb-3 line-clamp-3",children:t.desc}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),a.jsx("span",{children:r(t.stats.diggCount)})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),a.jsx("span",{children:r(t.stats.commentCount)})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),a.jsx("span",{children:r(t.stats.shareCount)})]})]}),a.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),a.jsx("span",{children:r(t.stats.playCount)})]})]}),t.music&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z",clipRule:"evenodd"})}),a.jsxs("span",{className:"truncate",children:[" ",t.music.title," - ",t.music.authorName]})]})})]})]}),a.jsx(sA,{video:t,isOpen:e,onClose:()=>n(!1)})]})},oA="",aA="https://api.twitter.com/2";Ce.create({baseURL:aA,headers:{Authorization:`Bearer ${oA}`,"Content-Type":"application/json"}});const lA=(t,e)=>U(Me,null,function*(){try{return console.log("X API: Using mock data for spot:",t[0]),ay(t[0])}catch(n){return console.error("X API Error for spot:",n),ay(t[0])}}),ay=t=>{const e={:[{id:"tower1",text:"  # #",author_id:"user1",created_at:new Date().toISOString(),public_metrics:{retweet_count:156,like_count:890,reply_count:23,quote_count:12},author:{id:"user1",name:"",username:"tokyo_photo",profile_image_url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiNkZGQiLz4KPHN2ZyB4PSIxMCIgeT0iMTAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTEyIDEyQzkuNzkgMTIgOCAxMC4yMSA4IDhTOS43OSA2IDEyIDYgMTYgNy43OSAxNiAxMCAxNC4yMSAxMiAxMiAxMlpNMTIgMTRDMTYgMTIgMjAgMTMuNzkgMjAgMTZWMThINFYxNkM0IDEzLjc5IDggMTIgMTIgMTQiIGZpbGw9IiM5OTkiLz4KPC9zdmc+Cjwvc3ZnPgo="}},{id:"tower2",text:" ",author_id:"user2",created_at:new Date(Date.now()-18e5).toISOString(),public_metrics:{retweet_count:78,like_count:445,reply_count:15,quote_count:7},author:{id:"user2",name:"",username:"travel_guide_jp",profile_image_url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiNkZGQiLz4KPHN2ZyB4PSIxMCIgeT0iMTAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTEyIDEyQzkuNzkgMTIgOCAxMC4yMSA4IDhTOS43OSA2IDEyIDYgMTYgNy43OSAxNiAxMCAxNC4yMSAxMiAxMiAxMlpNMTIgMTRDMTYgMTIgMjAgMTMuNzkgMjAgMTZWMThINFYxNkM0IDEzLjc5IDggMTIgMTIgMTQiIGZpbGw9IiM5OTkiLz4KPC9zdmc+Cjwvc3ZnPgo="}}],:[{id:"sky1",text:"634m # #634m",author_id:"user3",created_at:new Date().toISOString(),public_metrics:{retweet_count:203,like_count:1205,reply_count:31,quote_count:18},author:{id:"user3",name:"",username:"height_lover",profile_image_url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiNkZGQiLz4KPHN2ZyB4PSIxMCIgeT0iMTAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTEyIDEyQzkuNzkgMTIgOCAxMC4yMSA4IDhTOS43OSA2IDEyIDYgMTYgNy43OSAxNiAxMCAxNC4yMSAxMiAxMiAxMlpNMTIgMTRDMTYgMTIgMjAgMTMuNzkgMjAgMTZWMThINFYxNkM0IDEzLjc5IDggMTIgMTIgMTQiIGZpbGw9IiM5OTkiLz4KPC9zdmc+Cjwvc3ZnPgo="}}],:[{id:"asakusa1",text:"  # # #",author_id:"user4",created_at:new Date().toISOString(),public_metrics:{retweet_count:89,like_count:523,reply_count:19,quote_count:8},author:{id:"user4",name:"",username:"japan_culture",profile_image_url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiNkZGQiLz4KPHN2ZyB4PSIxMCIgeT0iMTAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTEyIDEyQzkuNzkgMTIgOCAxMC4yMSA4IDhTOS43OSA2IDEyIDYgMTYgNy43OSAxNiAxMCAxNC4yMSAxMiAxMiAxMlpNMTIgMTRDMTYgMTIgMjAgMTMuNzkgMjAgMTZWMThINFYxNkM0IDEzLjc5IDggMTIgMTIgMTQiIGZpbGw9IiM5OTkiLz4KPC9zdmc+Cjwvc3ZnPgo="}}]},n=e[t]||e.;return{data:n,meta:{result_count:n.length}}},cA=void 0;Ce.create({baseURL:cA,headers:{"Content-Type":"application/json"}});const uA=(t,e=30)=>U(Me,null,function*(){try{return console.log("TikTok API: Using enhanced mock data for immediate functionality. Keyword:",t),console.log("TikTok API: For real API integration, see TIKTOK_API_SETUP.md"),yield new Promise(n=>setTimeout(n,500)),fA(t,e)}catch(n){return console.error("TikTok API Error:",n),console.log("TikTok API: Falling back to basic mock data"),mA(t)}}),hA=(t,e)=>U(Me,null,function*(){try{const r=[...t,...e][0]||"";return yield uA(r,20)}catch(n){return console.error("TikTok API Error for spot:",n),dA(t[0])}}),dA=t=>{const e=()=>({diggCount:Math.floor(Math.random()*3e4)+5e3,shareCount:Math.floor(Math.random()*5e3)+500,commentCount:Math.floor(Math.random()*2e3)+200,playCount:Math.floor(Math.random()*5e5)+5e4,collectCount:Math.floor(Math.random()*8e3)+1e3}),n={:[{id:"tiktok_tower1",desc:" # # #TokyoTower #Japan",createTime:Date.now(),video:{id:"video1",height:1024,width:576,duration:15,ratio:"576:1024",cover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjRkY2QjZCIi8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VG9reW8gVG93ZXI8L3RleHQ+Cjwvc3ZnPgo=",originCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjRkY2QjZCIi8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VG9reW8gVG93ZXI8L3RleHQ+Cjwvc3ZnPgo=",dynamicCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjRkY2QjZCIi8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VG9reW8gVG93ZXI8L3RleHQ+Cjwvc3ZnPgo=",playAddr:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",downloadAddr:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",shareCover:["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjRkY2QjZCIi8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VG9reW8gVG93ZXI8L3RleHQ+Cjwvc3ZnPgo="],reflowCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjRkY2QjZCIi8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+VG9reW8gVG93ZXI8L3RleHQ+Cjwvc3ZnPgo=",bitrate:1e3,encodedType:"h264",format:"mp4",videoQuality:"normal",encodeUserTag:"",codecType:"h264",definition:"720p"},author:{id:"user1",shortId:"",uniqueId:"tokyo_photographer",nickname:"",avatarThumb:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNEVDRENCIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfk7g8L3RleHQ+Cjwvc3ZnPgo=",avatarMedium:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNEVDRENCIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfk7g8L3RleHQ+Cjwvc3ZnPgo=",avatarLarger:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNEVDRENCIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfk7g8L3RleHQ+Cjwvc3ZnPgo=",signature:"",verified:!1,secUid:"",secret:!1,ftc:!1,relation:0,openFavorite:!1,commentSetting:0,duetSetting:0,stitchSetting:0,privateAccount:!1},music:{id:"music1",title:"Tokyo Nights",playUrl:"https://example.com/music1.mp3",coverThumb:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNDVCN0QxIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjiU8L3RleHQ+Cjwvc3ZnPgo=",coverMedium:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNDVCN0QxIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjiU8L3RleHQ+Cjwvc3ZnPgo=",coverLarge:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjNDVCN0QxIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjiU8L3RleHQ+Cjwvc3ZnPgo=",authorName:"City Sounds",original:!0,duration:15,album:"Urban Vibes"},stats:e(),duetInfo:{duetFromId:""},originalItem:!0,officalItem:!1,secret:!1,forFriend:!1,digged:!1,itemCommentStatus:0,showNotPass:!1,vl1:!1,itemMute:!1,embedsDisabled:!1,privateItem:!1,duetEnabled:!0,stitchEnabled:!0,shareEnabled:!0,isAd:!1,collected:!1,isActivityItem:!1}],:[{id:"tiktok_sky1",desc:"Tokyo Skytree view is incredible! 634m high  #TokyoSkytree #Japan #Travel #",createTime:Date.now(),video:{id:"video2",height:1024,width:576,duration:20,ratio:"576:1024",cover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjOTZDRUI0Ii8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2t5IFRyZWU8L3RleHQ+Cjwvc3ZnPgo=",originCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjOTZDRUI0Ii8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2t5IFRyZWU8L3RleHQ+Cjwvc3ZnPgo=",dynamicCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjOTZDRUI0Ii8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2t5IFRyZWU8L3RleHQ+Cjwvc3ZnPgo=",playAddr:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",downloadAddr:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",shareCover:["data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjOTZDRUI0Ii8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2t5IFRyZWU8L3RleHQ+Cjwvc3ZnPgo="],reflowCover:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTc2IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCA1NzYgMTAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxMDI0IiBmaWxsPSIjOTZDRUI0Ii8+Cjx0ZXh0IHg9IjI4OCIgeT0iNTEyIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+U2t5IFRyZWU8L3RleHQ+Cjwvc3ZnPgo=",bitrate:1200,encodedType:"h264",format:"mp4",videoQuality:"normal",encodeUserTag:"",codecType:"h264",definition:"720p"},author:{id:"user2",shortId:"",uniqueId:"travel_explorer",nickname:"Travel Explorer",avatarThumb:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjRjdEQzZGIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuKciO+4jzwvdGV4dD4KPC9zdmc+Cg==",avatarMedium:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjRjdEQzZGIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuKciO+4jzwvdGV4dD4KPC9zdmc+Cg==",avatarLarger:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjRjdEQzZGIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuKciO+4jzwvdGV4dD4KPC9zdmc+Cg==",signature:"Exploring the world one city at a time ",verified:!0,secUid:"",secret:!1,ftc:!1,relation:0,openFavorite:!1,commentSetting:0,duetSetting:0,stitchSetting:0,privateAccount:!1},music:{id:"music2",title:"Adventure Time",playUrl:"https://example.com/music2.mp3",coverThumb:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjQkI4RkNFIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjrY8L3RleHQ+Cjwvc3ZnPgo=",coverMedium:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjQkI4RkNFIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjrY8L3RleHQ+Cjwvc3ZnPgo=",coverLarge:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9Ijc1IiBmaWxsPSIjQkI4RkNFIi8+Cjx0ZXh0IHg9Ijc1IiB5PSI3NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPvCfjrY8L3RleHQ+Cjwvc3ZnPgo=",authorName:"Adventure Beats",original:!1,duration:20,album:"Travel Sounds"},stats:e(),duetInfo:{duetFromId:""},originalItem:!0,officalItem:!1,secret:!1,forFriend:!1,digged:!1,itemCommentStatus:0,showNotPass:!1,vl1:!1,itemMute:!1,embedsDisabled:!1,privateItem:!1,duetEnabled:!0,stitchEnabled:!0,shareEnabled:!0,isAd:!1,collected:!1,isActivityItem:!1}]},r=n[t]||n.;return{videos:r,cursor:"0",hasMore:!1,total:r.length}},fA=(t,e)=>{const n=["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"],r=[{desc:`${t} # #${t} # #photography`,hashtags:["#",`#${t}`,"#","#photography","#japan"],author:"",username:"tokyo_photographer",verified:!0,signature:" 10"},{desc:`${t}Amazing experience in Tokyo!  #TokyoTravel #${t} #JapanTrip #foreigner`,hashtags:["#TokyoTravel",`#${t}`,"#JapanTrip","#foreigner","#amazing"],author:"International Tokyo",username:"international_tokyo",verified:!0,signature:"Sharing Tokyo adventures with the world  Follow for travel tips!"},{desc:`${t}  # #${t} # #tokyo_local`,hashtags:["#",`#${t}`,"#","#tokyo_local","#secret"],author:"",username:"tokyo_local_guide",verified:!1,signature:""},{desc:`${t}  # #${t} # #kawaii`,hashtags:["#",`#${t}`,"#","#kawaii","#tokyo"],author:"Tokyo Girl",username:"tokyo_kawaii_girl",verified:!1,signature:" "},{desc:`${t}  # #${t} # #romantic #tokyo`,hashtags:["#",`#${t}`,"#","#romantic","#tokyo"],author:"",username:"tokyo_night_view",verified:!0,signature:"365 1"},{desc:`${t} # #${t} # #delicious #foodie`,hashtags:["#",`#${t}`,"#","#delicious","#foodie"],author:"",username:"tokyo_gourmet_king",verified:!0,signature:"5"}],s=[],i=Math.min(e,10);for(let o=0;o<i;o++){const c=r[o%r.length],u=n[o%n.length],h=`tokyo_${t}_${Date.now()}_${o}`,f=Math.floor(Math.random()*1e6)+5e4,p=.05+Math.random()*.1,g=.005+Math.random()*.01,y=.001+Math.random()*.005;s.push({id:h,desc:c.desc,createTime:Date.now()-o*36e5-Math.floor(Math.random()*864e5),video:{id:h,height:1024,width:576,duration:15+Math.floor(Math.random()*45),ratio:"576:1024",cover:`https://picsum.photos/576/1024?random=${Date.now()+o}&blur=1`,originCover:`https://picsum.photos/576/1024?random=${Date.now()+o}&blur=1`,dynamicCover:`https://picsum.photos/576/1024?random=${Date.now()+o}&blur=1`,playAddr:u,downloadAddr:u,shareCover:[`https://picsum.photos/576/1024?random=${Date.now()+o}&blur=1`],reflowCover:`https://picsum.photos/576/1024?random=${Date.now()+o}&blur=1`,bitrate:1200+Math.floor(Math.random()*800),encodedType:"h264",format:"mp4",videoQuality:["normal","high","ultra"][Math.floor(Math.random()*3)],encodeUserTag:"",codecType:"h264",definition:["720p","1080p"][Math.floor(Math.random()*2)]},author:{id:c.username,shortId:"",uniqueId:c.username,nickname:c.author,avatarThumb:`https://picsum.photos/150/150?random=${Date.now()+o+100}`,avatarMedium:`https://picsum.photos/150/150?random=${Date.now()+o+100}`,avatarLarger:`https://picsum.photos/150/150?random=${Date.now()+o+100}`,signature:c.signature,verified:c.verified,secUid:"",secret:!1,ftc:!1,relation:0,openFavorite:!1,commentSetting:0,duetSetting:0,stitchSetting:0,privateAccount:!1},music:{id:`music_${o}`,title:["Tokyo Vibes","Japan Beat","City Sounds","Tokyo Nights","Urban Tokyo","Modern Japan","Tokyo Dreams","Shibuya Crossing","Neon Lights","Tokyo Station"][o%10],playUrl:"https://www.soundjay.com/misc/bell-ringing-05.wav",coverThumb:`https://picsum.photos/150/150?random=${Date.now()+o+200}`,coverMedium:`https://picsum.photos/150/150?random=${Date.now()+o+200}`,coverLarge:`https://picsum.photos/150/150?random=${Date.now()+o+200}`,authorName:["Tokyo Beats","Urban Sounds","Japan Music","City Vibes","Tokyo Records"][o%5],original:Math.random()>.3,duration:15+Math.floor(Math.random()*45),album:"Tokyo Collection"},stats:{diggCount:Math.floor(f*p),shareCount:Math.floor(f*y),commentCount:Math.floor(f*g),playCount:f,collectCount:Math.floor(f*p*.1)},duetInfo:{duetFromId:""},originalItem:!0,officalItem:!1,secret:!1,forFriend:!1,digged:!1,itemCommentStatus:0,showNotPass:!1,vl1:!1,itemMute:!1,embedsDisabled:!1,privateItem:!1,duetEnabled:!0,stitchEnabled:!0,shareEnabled:!0,isAd:!1,collected:!1,isActivityItem:!1})}return{videos:s,cursor:`cursor_${Date.now()}`,hasMore:e>10,total:s.length}},mA=t=>{const n=[{id:"tokyo_real_1",videoUrl:"https://www.learningcontainer.com/wp-content/uploads/2020/05/sample-mp4-file.mp4",thumbnailUrl:"https://picsum.photos/576/1024?random=1",description:`${t} # #${t} #travel #japan`,author:{uniqueId:"tokyo_explorer_real",displayName:"",avatarUrl:"https://picsum.photos/150/150?random=1",verified:!0},stats:{viewCount:Math.floor(Math.random()*2e6)+1e5,likeCount:Math.floor(Math.random()*1e5)+5e3,commentCount:Math.floor(Math.random()*5e3)+200,shareCount:Math.floor(Math.random()*1e4)+500}},{id:"tokyo_real_2",videoUrl:"https://sample-videos.com/zip/10/mp4/mp4-15s.mp4",thumbnailUrl:"https://picsum.photos/576/1024?random=2",description:`${t}Amazing experience in Tokyo  #TokyoTravel #JapanTrip #${t}`,author:{uniqueId:"international_tokyo",displayName:"International Tokyo Guide",avatarUrl:"https://picsum.photos/150/150?random=2",verified:!0},stats:{viewCount:Math.floor(Math.random()*15e5)+8e4,likeCount:Math.floor(Math.random()*8e4)+3e3,commentCount:Math.floor(Math.random()*3e3)+150,shareCount:Math.floor(Math.random()*8e3)+300}},{id:"tokyo_real_3",videoUrl:"https://www.w3schools.com/html/mov_bbb.mp4",thumbnailUrl:"https://picsum.photos/576/1024?random=3",description:`${t} # # #LocalTokyo`,author:{uniqueId:"tokyo_local_guide",displayName:"",avatarUrl:"https://picsum.photos/150/150?random=3",verified:!1},stats:{viewCount:Math.floor(Math.random()*8e5)+5e4,likeCount:Math.floor(Math.random()*4e4)+2e3,commentCount:Math.floor(Math.random()*2e3)+100,shareCount:Math.floor(Math.random()*5e3)+200}}].map((r,s)=>({id:r.id,desc:r.description,createTime:Date.now()-s*36e5,video:{id:r.id,height:1024,width:576,duration:15+Math.floor(Math.random()*45),ratio:"576:1024",cover:r.thumbnailUrl,originCover:r.thumbnailUrl,dynamicCover:r.thumbnailUrl,playAddr:r.videoUrl,downloadAddr:r.videoUrl,shareCover:[r.thumbnailUrl],reflowCover:r.thumbnailUrl,bitrate:1200,encodedType:"h264",format:"mp4",videoQuality:"high",encodeUserTag:"",codecType:"h264",definition:"1080p"},author:{id:r.author.uniqueId,shortId:"",uniqueId:r.author.uniqueId,nickname:r.author.displayName,avatarThumb:r.author.avatarUrl,avatarMedium:r.author.avatarUrl,avatarLarger:r.author.avatarUrl,signature:`${t}`,verified:r.author.verified,secUid:"",secret:!1,ftc:!1,relation:0,openFavorite:!1,commentSetting:0,duetSetting:0,stitchSetting:0,privateAccount:!1},music:{id:`music_${s}`,title:["Tokyo Vibes","Japan Beat","City Sounds"][s]||"Tokyo Music",playUrl:"https://www.soundjay.com/misc/bell-ringing-05.wav",coverThumb:`https://picsum.photos/150/150?random=${s+10}`,coverMedium:`https://picsum.photos/150/150?random=${s+10}`,coverLarge:`https://picsum.photos/150/150?random=${s+10}`,authorName:["Tokyo Beats","Japan Music","City Sounds"][s]||"Music Artist",original:!0,duration:30,album:"Tokyo Collection"},stats:{diggCount:r.stats.likeCount,shareCount:r.stats.shareCount,commentCount:r.stats.commentCount,playCount:r.stats.viewCount,collectCount:Math.floor(r.stats.likeCount*.1)},duetInfo:{duetFromId:""},originalItem:!0,officalItem:!1,secret:!1,forFriend:!1,digged:!1,itemCommentStatus:0,showNotPass:!1,vl1:!1,itemMute:!1,embedsDisabled:!1,privateItem:!1,duetEnabled:!0,stitchEnabled:!0,shareEnabled:!0,isAd:!1,collected:!1,isActivityItem:!1}));return{videos:n,cursor:"0",hasMore:!0,total:n.length}},pA=()=>{const{spotId:t}=Ic();Rn();const[e,n]=R.useState([]),[r,s]=R.useState([]),[i,o]=R.useState(!0),[c,u]=R.useState("tweets"),h=t?g_[t]:null,f=h?dm[h.prefecture]:null;R.useEffect(()=>{h?p(h):o(!1)},[t]);const p=I=>U(Me,null,function*(){if(I){o(!0);try{const[_,v]=yield Promise.all([lA(I.keywords,I.hashtags),hA(I.keywords,I.hashtags)]),N=_.data.map(C=>{var D,O;return Qe(te({},C),{author:((O=(D=_.includes)==null?void 0:D.users)==null?void 0:O.find(E=>E.id===C.author_id))||C.author||{id:C.author_id,name:"Unknown User",username:"unknown"}})});n(N),s(v.videos)}catch(_){console.error("Error fetching spot data:",_)}finally{o(!1)}}}),g=()=>{h&&p(h)},y=I=>{switch(I){case"landmark":return"";case"temple":return"";case"nature":return"";case"entertainment":return"";case"cultural":return"";case"modern":return"";default:return""}},k=I=>{switch(I){case"landmark":return"from-red-500 to-pink-500";case"temple":return"from-orange-500 to-yellow-500";case"nature":return"from-green-500 to-emerald-500";case"entertainment":return"from-purple-500 to-pink-500";case"cultural":return"from-blue-500 to-indigo-500";case"modern":return"from-gray-500 to-slate-500";default:return"from-gray-400 to-gray-500"}},x=I=>{switch(I){case"landmark":return"";case"temple":return"";case"nature":return"";case"entertainment":return"";case"cultural":return"";case"modern":return"";default:return I}};return h?a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white",children:[a.jsx(Vr,{}),a.jsxs("section",{className:"relative pt-20 pb-16 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/70 to-black/50"})]}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-white/60",children:[a.jsx(bt,{to:"/",className:"hover:text-neon-blue transition-colors",children:""}),a.jsx("span",{children:"/"}),a.jsx(bt,{to:"/spots",className:"hover:text-neon-blue transition-colors",children:""}),a.jsx("span",{children:"/"}),f&&a.jsxs(a.Fragment,{children:[a.jsx(bt,{to:`/spots/${h.prefecture}`,className:"hover:text-neon-blue transition-colors",children:f.name}),a.jsx("span",{children:"/"})]}),a.jsx("span",{className:"text-white",children:h.name})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsxs("span",{className:`bg-gradient-to-r ${k(h.category)} px-4 py-2 rounded-full text-sm font-semibold text-white flex items-center mr-4`,children:[a.jsx("span",{className:"mr-2",children:y(h.category)}),x(h.category)]}),f&&a.jsxs("span",{className:`bg-gradient-to-r ${f.color} px-3 py-1 rounded-full text-sm font-medium text-white flex items-center`,children:[a.jsx("span",{className:"mr-1",children:f.icon}),f.name]})]}),a.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-4",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:h.name})}),a.jsx("p",{className:"text-xl text-white/60 mb-6",children:h.nameEn}),a.jsx("p",{className:"text-lg text-white/80 mb-8 leading-relaxed",children:h.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 text-center",children:[a.jsx(Bn,{className:"w-6 h-6 mx-auto mb-2 text-yellow-400"}),a.jsx("div",{className:"text-xl font-bold text-white",children:h.rating}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 text-center",children:[a.jsx(Nn,{className:"w-6 h-6 mx-auto mb-2 text-neon-blue"}),a.jsx("div",{className:"text-sm font-semibold text-white",children:h.visitTime}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 text-center",children:[a.jsx(F1,{className:"w-6 h-6 mx-auto mb-2 text-neon-green"}),a.jsx("div",{className:"text-sm font-semibold text-white",children:h.entrance.fee}),a.jsx("div",{className:"text-xs text-white/60",children:""})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 text-center",children:[a.jsx(xn,{className:"w-6 h-6 mx-auto mb-2 text-neon-purple"}),a.jsxs("div",{className:"text-sm font-semibold text-white",children:[h.location.station,""]}),a.jsx("div",{className:"text-xs text-white/60",children:""})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:""}),a.jsx("div",{className:"flex flex-wrap gap-3",children:h.highlights.map((I,_)=>a.jsx("span",{className:"px-3 py-1 bg-white/10 text-neon-blue rounded-full text-sm font-medium border border-neon-blue/30",children:I},_))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:g,disabled:i,className:"bg-gradient-to-r from-neon-blue to-neon-green px-6 py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-neon-blue/30 transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:[a.jsx("i",{className:`fas fa-sync-alt mr-2 ${i?"animate-spin":""}`}),i?"...":""]}),a.jsxs("button",{className:"bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-neon-pink/30 transition-all duration-300 transform hover:scale-105",children:[a.jsx("i",{className:"fas fa-route mr-2"}),""]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"aspect-w-4 aspect-h-3 rounded-2xl overflow-hidden",children:a.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent rounded-2xl"})]})]})]})]}),a.jsx("section",{className:"relative py-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(xn,{className:"w-6 h-6 mr-2 text-neon-blue"}),""]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white",children:h.access.train})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white",children:h.access.walking})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white text-sm",children:h.location.address})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Nn,{className:"w-6 h-6 mr-2 text-neon-green"}),""]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white",children:h.entrance.hours})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white",children:h.entrance.fee})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white/60 mb-1",children:""}),a.jsx("div",{className:"text-white",children:h.bestSeason.join("")})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[a.jsx(Nc,{className:"w-6 h-6 mr-2 text-neon-purple"}),""]}),a.jsx("div",{className:"space-y-2",children:h.tips.map((I,_)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-neon-purple rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("div",{className:"text-white/80 text-sm",children:I})]},_))})]})]})})}),a.jsx("section",{className:"relative py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:[a.jsx("span",{className:"bg-gradient-to-r from-neon-blue to-neon-green bg-clip-text text-transparent",children:h.name}),a.jsx("span",{className:"text-white",children:" "})]}),a.jsxs("p",{className:"text-white/70 text-lg",children:["",h.name,""]})]}),a.jsx("div",{className:"flex justify-center mb-12",children:a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-2 border border-white/20",children:[a.jsxs("button",{onClick:()=>u("tweets"),className:`px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${c==="tweets"?"bg-gradient-to-r from-neon-blue to-neon-green text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[a.jsx("i",{className:"fab fa-twitter mr-2"}),""]}),a.jsxs("button",{onClick:()=>u("tiktok"),className:`px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${c==="tiktok"?"bg-gradient-to-r from-electric-yellow to-neon-pink text-black shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[a.jsx("i",{className:"fab fa-tiktok mr-2"}),"TikTok"]})]})}),i?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((I,_)=>a.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 animate-pulse",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full mr-3"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-white/20 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-white/20 rounded w-2/3"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-white/20 rounded"}),a.jsx("div",{className:"h-4 bg-white/20 rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-white/20 rounded w-4/6"})]})]},_))}):a.jsxs(a.Fragment,{children:[c==="tweets"&&(e.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(I=>a.jsx(tA,{tweet:I},I.id))}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:""}),a.jsx("p",{className:"text-white/60 mb-6",children:""}),a.jsx("button",{onClick:g,className:"bg-gradient-to-r from-neon-blue to-neon-green px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-all duration-300",children:""})]})),c==="tiktok"&&(r.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(I=>a.jsx(iA,{video:I},I.id))}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"TikTok"}),a.jsx("p",{className:"text-white/60 mb-6",children:""}),a.jsx("button",{onClick:g,className:"bg-gradient-to-r from-electric-yellow to-neon-pink px-6 py-3 rounded-full font-semibold text-black hover:shadow-lg transition-all duration-300",children:""})]}))]})]})}),a.jsx("section",{className:"relative py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-8 text-center",children:""}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(bt,{to:`/spots/${h.prefecture}`,className:"flex items-center justify-center bg-gradient-to-r from-neon-blue to-neon-green px-6 py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-neon-blue/30 transition-all duration-300 transform hover:scale-105",children:[a.jsx(fs,{className:"w-5 h-5 mr-3"}),f==null?void 0:f.name,""]}),a.jsxs(bt,{to:"/spots/all",className:"flex items-center justify-center bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-4 rounded-xl font-semibold hover:shadow-lg hover:shadow-neon-pink/30 transition-all duration-300 transform hover:scale-105",children:["",a.jsx(as,{className:"w-5 h-5 ml-3"})]})]})]})}),a.jsx(Or,{})]}):a.jsx("div",{className:"min-h-screen font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),a.jsx(bt,{to:"/spots",className:"bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-3 rounded-full font-semibold hover:shadow-lg transition-all duration-300",children:""})]})})},gA={tokyo:{name:"Tokyo",description:"The bustling capital city with endless possibilities",highlights:["Shibuya Crossing","Tokyo Skytree","Tsukiji Market","Harajuku"],image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=600&fit=crop",icon:Nc,stats:{population:"14M",districts:"23 Special Wards",transport:"Extensive Rail Network"}},yokohama:{name:"Yokohama",description:"Modern port city with beautiful waterfront views",highlights:["Minato Mirai","Chinatown","Red Brick Warehouse","Cosmo World"],image:"https://images.unsplash.com/photo-1604919067684-df73bbe8dfdc?w=800&h=600&fit=crop",icon:En,stats:{population:"3.7M",districts:"18 Wards",transport:"Connected to Tokyo"}},saitama:{name:"Saitama",description:"Perfect blend of traditional culture and modern living",highlights:["Kawagoe","Omiya","Railway Museum","Chichibu"],image:"https://images.unsplash.com/photo-1598661048663-a3e0a077f1c4?w=800&h=600&fit=crop",icon:xn,stats:{population:"7.3M",districts:"40 Cities",transport:"Major Rail Hub"}},chiba:{name:"Chiba",description:"Coastal prefecture with beautiful nature and beaches",highlights:["Narita","Choshi","Boso Peninsula","Tokyo Disneyland"],image:"https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?w=800&h=600&fit=crop",icon:U1,stats:{population:"6.3M",districts:"37 Cities",transport:"Airport Gateway"}}},yA=()=>{const t=Rn(),e=n=>{t(`/category-selection/${n}`)};return a.jsxs("div",{className:"font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white overflow-x-hidden min-h-screen",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"floating-shape w-64 h-64 bg-gradient-to-r from-neon-pink/20 to-neon-purple/20 rounded-full absolute top-20 left-10 animate-float blur-xl"}),a.jsx("div",{className:"floating-shape w-48 h-48 bg-gradient-to-r from-neon-blue/20 to-neon-green/20 rounded-full absolute top-40 right-20 animate-float delay-1000 blur-xl"}),a.jsx("div",{className:"floating-shape w-32 h-32 bg-gradient-to-r from-electric-yellow/20 to-neon-pink/20 rounded-full absolute bottom-32 left-1/4 animate-float delay-2000 blur-xl"})]}),a.jsx("div",{className:"relative z-10 pt-24 pb-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink to-neon-purple px-4 py-2 rounded-full text-sm font-semibold border border-neon-pink/50 animate-pulse-glow",children:" Choose Your Adventure"})}),a.jsxs("h1",{className:"text-5xl md:text-7xl font-black mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:""}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-green to-electric-yellow bg-clip-text text-transparent",children:""})]}),a.jsxs("p",{className:"text-xl md:text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed",children:["",a.jsx("span",{className:"text-neon-blue font-semibold",children:""}),"",a.jsx("br",{className:"hidden md:block"}),a.jsx("span",{className:"text-neon-pink font-semibold",children:""}),""]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Object.entries(gA).map(([n,r])=>a.jsxs("div",{className:"group relative bg-black/30 backdrop-blur-lg rounded-xl border border-white/10 hover:border-neon-pink/50 transition-all duration-300 overflow-hidden cursor-pointer transform hover:scale-105 hover:shadow-2xl hover:shadow-neon-pink/20",onClick:()=>e(n),children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-56 object-cover transition-transform duration-300 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(r.icon,{className:"w-8 h-8 text-neon-blue"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent mb-3",children:r.name}),a.jsx("p",{className:"text-white/80 text-lg mb-4 leading-relaxed",children:r.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center text-neon-blue hover:text-neon-pink font-semibold text-lg transition-colors duration-300",children:["",a.jsx(as,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-white/60",children:""}),a.jsx("div",{className:"text-neon-green font-bold",children:r.stats.population})]})})]})]})]},n))})]})}),a.jsx(Or,{})]})},xA=[{id:"sightseeing",name:"",description:"",icon:fN,color:"from-blue-500 to-blue-600"},{id:"food",name:"",description:"",icon:RE,color:"from-orange-500 to-orange-600"},{id:"shopping",name:"",description:"",icon:bE,color:"from-purple-500 to-purple-600"},{id:"transport",name:"",description:"",icon:xn,color:"from-green-500 to-green-600"},{id:"accommodation",name:"",description:"",icon:zN,color:"from-red-500 to-red-600"},{id:"nature",name:"",description:"",icon:U1,color:"from-emerald-500 to-emerald-600"},{id:"cafe",name:"",description:"",icon:NN,color:"from-amber-500 to-amber-600"},{id:"culture",name:"",description:"",icon:lE,color:"from-pink-500 to-pink-600"}],ih={tokyo:"",yokohama:"",saitama:"",chiba:""},vA=()=>{const{area:t}=Ic(),e=Rn(),n=s=>{e(`/guide/${t}/${s}`)},r=()=>{e("/area-selection")};return!t||!ih[t]?a.jsx("div",{className:"font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),a.jsx("button",{onClick:()=>e("/area-selection"),className:"px-6 py-2 bg-gradient-to-r from-neon-pink to-neon-purple rounded-lg hover:shadow-lg transition-all duration-300",children:""})]})}):a.jsxs("div",{className:"font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white overflow-x-hidden min-h-screen",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"floating-shape w-64 h-64 bg-gradient-to-r from-neon-pink/20 to-neon-purple/20 rounded-full absolute top-20 left-10 animate-float blur-xl"}),a.jsx("div",{className:"floating-shape w-48 h-48 bg-gradient-to-r from-neon-blue/20 to-neon-green/20 rounded-full absolute top-40 right-20 animate-float delay-1000 blur-xl"}),a.jsx("div",{className:"floating-shape w-32 h-32 bg-gradient-to-r from-electric-yellow/20 to-neon-pink/20 rounded-full absolute bottom-32 left-1/4 animate-float delay-2000 blur-xl"})]}),a.jsx("div",{className:"relative z-10 pt-24 pb-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"mb-12",children:[a.jsxs("button",{onClick:r,className:"inline-flex items-center text-neon-blue hover:text-neon-pink mb-6 transition-colors duration-300 font-semibold",children:[a.jsx(fs,{className:"w-5 h-5 mr-2"}),""]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink to-neon-purple px-4 py-2 rounded-full text-sm font-semibold border border-neon-pink/50 animate-pulse-glow",children:" "})}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight",children:[a.jsxs("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:[ih[t],""]}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-green to-electric-yellow bg-clip-text text-transparent",children:""})]}),a.jsxs("p",{className:"text-xl text-white/80 max-w-3xl mx-auto leading-relaxed",children:[a.jsx("span",{className:"text-neon-blue font-semibold",children:""}),"",a.jsx("span",{className:"text-neon-pink font-semibold",children:""}),""]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-12",children:xA.map(s=>a.jsx("div",{className:"group bg-black/30 backdrop-blur-lg rounded-xl border border-white/10 hover:border-neon-pink/50 transition-all duration-300 cursor-pointer transform hover:scale-105 hover:shadow-2xl hover:shadow-neon-pink/20",onClick:()=>n(s.id),children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:`w-14 h-14 bg-gradient-to-r ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:a.jsx(s.icon,{className:"w-7 h-7 text-white"})}),a.jsx("h3",{className:"text-xl font-bold mb-2 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:s.name}),a.jsx("p",{className:"text-white/70 text-sm mb-4 leading-relaxed",children:s.description}),a.jsxs("div",{className:"flex items-center text-neon-blue group-hover:text-neon-pink transition-colors duration-300",children:[a.jsx("span",{className:"text-sm font-semibold",children:""}),a.jsx(as,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-300"})]})]})},s.id))}),a.jsxs("div",{className:"bg-black/20 backdrop-blur-lg rounded-xl border border-white/10 p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:[ih[t],""]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-white/80",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-neon-blue font-semibold",children:":"}),a.jsx("span",{className:"block",children:"3-510-11"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-neon-green font-semibold",children:":"}),a.jsx("span",{className:"block",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-neon-pink font-semibold",children:":"}),a.jsx("span",{className:"block",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-electric-yellow font-semibold",children:":"}),a.jsx("span",{className:"block",children:""})]})]})]})]})}),a.jsx(Or,{})]})},ly={tokyo:{sightseeing:{title:"",description:"",recommendations:[{id:"tokyo-tower",name:"",description:"",address:"4-2-8",rating:4.2,price:"1,200-3,000",hours:"9:0023:00",phone:"03-3433-5111",website:"https://www.tokyotower.co.jp/",image:"https://images.unsplash.com/photo-tokyo-tower?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR5",walking:"3"}},{id:"tokyo-skytree",name:"",description:"",address:"1-1-2",rating:4.1,price:"2,100-3,400",hours:"8:0022:00",phone:"0570-55-0634",website:"https://www.tokyo-skytree.jp/",image:"https://images.unsplash.com/photo-tokyo-skytree?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"sensoji-temple",name:"",description:"",address:"2-3-1",rating:4.3,price:"",hours:"6:0017:00",phone:"03-3842-0181",website:"https://www.senso-ji.jp/",image:"https://images.unsplash.com/photo-sensoji-temple?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"5",walking:"7"}},{id:"shibuya-crossing",name:"",description:"",address:"2-1",rating:4,price:"",hours:"24",image:"https://images.unsplash.com/photo-shibuya-crossing?w=800&h=600&fit=crop",tips:["","","2"],transport:{train:"JR1",walking:""}},{id:"ueno-zoo",name:"",description:"",address:"9-83",rating:4.2,price:"600200",hours:"9:3017:00",phone:"03-3828-5171",website:"https://www.tokyo-zoo.net/zoo/ueno/",image:"https://images.unsplash.com/photo-zoo-pandas?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"JR5",walking:"12"}},{id:"meiji-jingu",name:"",description:"",address:"1-1",rating:4.4,price:"500",hours:"5:0018:00",phone:"03-3379-5511",website:"https://www.meijijingu.or.jp/",image:"https://images.unsplash.com/photo-meiji-shrine?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"JR3",walking:"5"}},{id:"shinjuku-gyoen",name:"",description:"",address:"11",rating:4.3,price:"500250",hours:"9:0016:00",phone:"03-3350-0151",website:"https://www.env.go.jp/garden/shinjukugyoen/",image:"https://images.unsplash.com/photo-shinjuku-gyoen?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"JR10",walking:"5"}},{id:"tsukiji-market",name:"",description:"",address:"4-16-2",rating:4.1,price:"1,0003,000",hours:"5:0014:00",phone:"03-3541-9444",website:"https://www.tsukiji.or.jp/",image:"https://images.unsplash.com/photo-tsukiji-market?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"1",walking:"5"}},{id:"roppongi-hills",name:"",description:"",address:"6-10-1",rating:4,price:"1,800",hours:"11:0021:0023:00",phone:"03-6406-6000",website:"https://www.roppongihills.com/",image:"https://images.unsplash.com/photo-roppongi-hills?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"1C3",walking:"34"}},{id:"tokyo-national-museum",name:"",description:"",address:"13-9",rating:4.3,price:"1,000500",hours:"9:3017:0021:00",phone:"050-5541-8600",website:"https://www.tnm.jp/",image:"https://images.unsplash.com/photo-tokyo-national-museum?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"JR10",walking:"15"}}]},food:{title:"",description:"",recommendations:[{id:"tsumugi-cafe",name:" Tsumugi",description:"18",address:"3-15-1 ",rating:4.2,price:"1,000-2,000",hours:"8:00 - 21:00",phone:"03-6226-2728",website:"https://tsukiji-hongwanji.jp/tsumugi/",image:"https://images.unsplash.com/photo-japanese-breakfast?w=800&h=600&fit=crop",tips:["","18","",""],transport:{train:"5",walking:""}},{id:"sukiyabashi-jiro",name:" ",description:"",address:"4-2-15  B1F",rating:4.8,price:"30,000-50,000",hours:"11:30 - 14:00, 17:00 - 20:30",phone:"03-3535-3600",image:"https://images.unsplash.com/photo-sushi-chef?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"3",walking:""}},{id:"ichiran-shibuya",name:" ",description:"24",address:"2-29-11  1F",rating:4.1,price:"800-1,500",hours:"24",phone:"03-3770-0850",website:"https://ichiran.com/",image:"https://images.unsplash.com/photo-ramen-bowl?w=800&h=600&fit=crop",tips:["24","","",""],transport:{train:"JR5",walking:""}},{id:"tsukiji-market",name:"",description:"",address:"4-16-2",rating:4.1,price:"1,000-3,000",hours:"5:00 - 14:00",phone:"03-3541-9444",website:"https://www.tsukiji.or.jp/",image:"https://images.unsplash.com/photo-tsukiji-market?w=800&h=600&fit=crop",tips:["","","",""],transport:{train:"1",walking:"5"}}]}},yokohama:{sightseeing:{title:"Yokohama Sightseeing Guide",description:"Explore the modern port city with beautiful waterfront views",recommendations:[{id:"minato-mirai",name:"Minato Mirai 21",description:"Modern waterfront district with shopping and entertainment",address:"Minato Mirai, Nishi Ward, Yokohama, Kanagawa 220-0012",rating:4.4,price:"Free (attractions vary)",hours:"10:00 AM - 10:00 PM",image:"/images/minato-mirai.jpg",tips:["Visit at night for beautiful illuminations","Take the Cosmo Clock 21 ferris wheel","Great for shopping and dining"],transport:{train:"JR Negishi Line to Sakuragicho Station",walking:"5 minutes from station"}}]}},saitama:{sightseeing:{title:"Saitama Sightseeing Guide",description:"Discover traditional culture and modern attractions",recommendations:[{id:"kawagoe",name:"Kawagoe (Little Edo)",description:"Historic district preserving Edo-period architecture",address:"Kawagoe, Saitama 350-0063",rating:4.2,price:"Free (museums vary)",hours:"9:00 AM - 6:00 PM",image:"/images/kawagoe.jpg",tips:["Visit the famous Bell Tower","Try traditional sweets and snacks","Best in autumn for fall colors"],transport:{train:"JR Kawagoe Line to Kawagoe Station",walking:"15 minutes to historic district"}}]}},chiba:{sightseeing:{title:"",description:"",recommendations:[{id:"chiba-spot-1",name:"",description:"",address:"279-0031 ",rating:4.6,price:"8,200-9,400",hours:"8002200",phone:"+81 45-330-5211",website:"https://www.tokyodisneyresort.jp/tdl/",image:"https://images.unsplash.com/photo-disney-theme-park-castle?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-3",name:"",description:"",address:"279-0031 ",rating:4.6,price:"",hours:"",phone:"+81 45-330-5211",website:"https://www.tokyodisneyresort.jp/",image:"https://images.unsplash.com/photo-disney-theme-park-castle?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-4",name:"",description:"",address:"279-8511  ",rating:4.6,price:"",hours:"9002100",phone:"+81 50-3090-2613",website:"https://www.tokyodisneyresort.jp/tdr/facility/tdl_toontown.html",image:"https://images.unsplash.com/photo-amusement-park-rides?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-6",name:"",description:"",address:"279-0031 ",rating:4.3,price:"8,200-9,400",hours:"9002100",website:"https://www.tokyodisneyresort.jp/tds/",image:"https://images.unsplash.com/photo-disney-theme-park-castle?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-8",name:"",description:"",address:"279-8511 ",rating:4.6,price:"8,200-9,400",hours:"",phone:"+81 45-330-5211",website:"https://www.tokyodisneyresort.jp/tds/",image:"https://images.unsplash.com/photo-disney-theme-park-castle?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-9",name:" ",description:" ",address:"286-0023 ",rating:4.4,price:"",hours:"8001600",phone:"+81 476-22-2111",website:"https://www.naritasan.or.jp/",image:"https://images.unsplash.com/photo-japanese-temple-traditional?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JRJR",walking:"10"}},{id:"chiba-spot-10",name:" ",description:" ",address:"286-0023 ",rating:4.4,price:"",hours:"8001600",phone:"+81 476-22-2111",website:"http://www.nrtk.jp/mypage/00375.html",image:"https://images.unsplash.com/photo-japanese-temple-traditional?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JRJR",walking:"10"}},{id:"chiba-spot-11",name:"",description:"",address:"261-8550 ",rating:3.9,price:"",hours:"8002000",phone:"+81 43-296-0001",website:"https://www.m-messe.co.jp/",image:"https://images.unsplash.com/photo-convention-center-modern?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-12",name:"",description:"",address:"296-0041 ",rating:4.4,price:"3,3002,000",hours:"9001600",phone:"+81 4-7093-4803",website:"http://www.kamogawa-seaworld.jp/?utm_source=google&utm_medium=maps",image:"https://images.unsplash.com/photo-amusement-park-rides?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"10"}},{id:"chiba-spot-13",name:"",description:"",address:"299-1601 ",rating:4.2,price:"1,500800",hours:"9301630",phone:"+81 439-37-3211",website:"https://www.motherfarm.co.jp/",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-14",name:"",description:"",address:"299-1731 ",rating:4.2,price:"",hours:"9301630",phone:"+81 439-37-3211",website:"http://www.motherfarm.co.jp/animal/fureai/",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-15",name:"",description:"",address:"299-1601 ",rating:4,price:"",hours:"10001030, 11301200, 13301400, 15301600",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-16",name:" ",description:" ",address:"299-1731 ",rating:4.2,price:"",hours:"",phone:"+81 439-37-3211",website:"https://www.motherfarm.co.jp/animal/ride/",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-19",name:"",description:"",address:"299-1731 ",rating:3.7,price:"",hours:"",website:"https://www.motherfarm.co.jp/amusement/",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-20",name:"",description:"",address:"299-1731 ",rating:4.3,price:"",hours:"",image:"https://images.unsplash.com/photo-japan-chiba-tourism?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-21",name:"",description:"",address:"299-1731 ",rating:4.1,price:"",hours:"",image:"https://images.unsplash.com/photo-zoo-animals-wildlife?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-22",name:"",description:"",address:"299-1731 ",rating:4,price:"",hours:"",website:"https://www.motherfarm.co.jp/map/purpose/handmade.php",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-23",name:"",description:"",address:"288-0012 ",rating:4.1,price:"300150",hours:"8301700",phone:"+81 479-25-8239",website:"https://www.tokokai.org/tourlight/tourlight03/",image:"https://images.unsplash.com/photo-lighthouse-ocean-coast?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:"7"}},{id:"chiba-spot-24",name:"",description:"",address:"274-0054 ",rating:4.4,price:"900600200",hours:"9301600",phone:"+81 47-457-6627",website:"https://www.park-funabashi.or.jp/and/",image:"https://images.unsplash.com/photo-park-nature-green?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:"15"}},{id:"chiba-spot-26",name:"",description:"",address:"289-1804 ",rating:4.4,price:"",hours:"24 ",website:"https://99kankou.com/",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-27",name:"",description:"",address:"299-4326  ",rating:4.3,price:"",hours:"",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-29",name:"",description:"",address:"283-0104 ",rating:4.2,price:"",hours:"9001600",phone:"+81 475-70-3177",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-31",name:"",description:"",address:"289-3184 ",rating:4.1,price:"",hours:"24 ",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-32",name:"",description:"",address:"299-4203  ",rating:4,price:"",hours:"",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-34",name:"()",description:"()",address:"283-0113 ",rating:3.9,price:"",hours:"24 ",phone:"+81 475-70-3177",website:"https://www.town.kujukuri.chiba.jp/0000004140.html",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-35",name:"",description:"",address:"289-1305 ",rating:4.2,price:"",hours:"9001600",phone:"+81 475-80-1202",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-37",name:"",description:"",address:"283-0113  ",rating:4.1,price:"",hours:"",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-41",name:"",description:"",address:"283-0113  0113",rating:3.7,price:"",hours:"",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-42",name:"",description:"",address:"283-0101  ",rating:4.1,price:"",hours:"",phone:"+81 475-70-3177",website:"http://www.town.kujukuri.chiba.jp/",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-43",name:"",description:"",address:"299-3202  ",rating:4.1,price:"",hours:"8301600",phone:"+81 475-70-0356",website:"https://www.city.oamishirasato.lg.jp/0000001588.html",image:"https://images.unsplash.com/photo-beach-ocean-waves?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-45",name:"",description:"",address:"289-1726 ",rating:4.1,price:"",hours:"24 ",website:"https://www.pref.chiba.lg.jp/bousaik/tsunamityosa/shinsuiyosoku.html",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}}]},food:{title:"",description:"",recommendations:[{id:"chiba-spot-17",name:"",description:"",address:"299-1731 ",rating:3.8,price:"1,000-2,000",hours:"11001600",phone:"+81 439-37-3211",website:"http://www.motherfarm.co.jp/gourmet/restaurant/detail.php?CN=207959",image:"https://images.unsplash.com/photo-japanese-food-restaurant?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}},{id:"chiba-spot-25",name:"",description:"",address:"260-0024   ",rating:4,price:"1,000-3,000",hours:"9002100",phone:"+81 43-241-0125",website:"https://chiba-porttower.com/",image:"https://images.unsplash.com/photo-tower-city-skyline?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-28",name:"",description:"",address:"283-0102  2F",rating:3.6,price:"",hours:"9001700",phone:"+81 475-76-1734",website:"https://uminoeki99.com/",image:"https://images.unsplash.com/photo-japan-chiba-tourism?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-30",name:"",description:"",address:"283-0113 ",rating:4.2,price:"1,000-2,000",hours:"10001900",phone:"+81 475-76-0071",website:"https://99banya.com/",image:"https://images.unsplash.com/photo-japanese-food-restaurant?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-33",name:"",description:"",address:"283-0105 ",rating:4,price:"1,000-2,000",hours:"11001500, 17002000",phone:"+81 475-76-1988",website:"http://www.h-t-company.com/",image:"https://images.unsplash.com/photo-japanese-food-restaurant?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-36",name:" ",description:" ",address:"283-0113 ",rating:4.1,price:"1,000-2,000",hours:"10001900",phone:"+81 475-76-6237",website:"https://www.99beach.com/restrant/mukoujima/",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-38",name:"",description:"",address:"283-0114 ",rating:4,price:"1,000-2,000",hours:"700930, 11301400, 17302100",phone:"+81 475-76-4151",image:"https://images.unsplash.com/photo-restaurant-food-dining?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-39",name:"",description:"",address:"283-0105 ",rating:4,price:"1,000-2,000",hours:"10301510",phone:"+81 475-76-4959",website:"https://hamachaya-amimoto99.com/",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}},{id:"chiba-spot-44",name:"",description:"",address:"116-0002 ",rating:4.4,price:"500-1,000",hours:"16302200",phone:"+81 3-3802-2922",website:"http://99hamaten.com/",image:"https://images.unsplash.com/photo-beach-sand-ocean?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}}]},shopping:{title:"",description:"",recommendations:[{id:"chiba-spot-40",name:" ",description:" ",address:"6928,     283-0104 ",rating:3.7,price:"",hours:"6001800",image:"https://images.unsplash.com/photo-japan-chiba-tourism?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"",walking:""}}]},others:{title:"",description:"",recommendations:[{id:"chiba-spot-2",name:"",description:"",address:"279-0031 ",rating:5,price:"",hours:"",image:"https://images.unsplash.com/photo-amusement-park-rides?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-5",name:"",description:"",address:"279-0031 ",rating:4.4,price:"",hours:"",image:"https://images.unsplash.com/photo-disney-theme-park-castle?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"5"}},{id:"chiba-spot-18",name:"GLAMPING THE FARM",description:"GLAMPING THE FARM",address:"299-1731 ",rating:4.1,price:"",hours:"",website:"http://www.motherfarm.co.jp/glamping/",image:"https://images.unsplash.com/photo-farm-animals-countryside?w=800&h=600&fit=crop",tips:["","",""],transport:{train:"JR",walking:"25"}}]}}},wA={sightseeing:"",food:"",shopping:"",transport:"",accommodation:"",nature:"",cafe:"",culture:""},_A={tokyo:"",yokohama:"",saitama:"",chiba:""},bA=()=>{var k;const{area:t,category:e}=Ic(),n=Rn(),[r,s]=R.useState([]),{addItem:i,items:o}=p_(),c=()=>{n(`/category-selection/${t}`)},u=x=>{s(I=>I.includes(x)?I.filter(_=>_!==x):[...I,x])},h=x=>{const I=p(x.id),_={id:x.id,name:x.name,address:x.address,description:x.description,rating:x.rating,price:x.price,hours:x.hours,phone:x.phone,website:x.website,image:x.image,coordinates:I,estimatedVisitTime:g(x.id),category:e,addedAt:new Date,transport:x.transport};i(_)},f=x=>o.some(I=>I.id===x),p=x=>({"tokyo-tower":{lat:35.6585769,lng:139.7454506},"tokyo-skytree":{lat:35.7100627,lng:139.8107004},"sensoji-temple":{lat:35.7147651,lng:139.7965594},"shibuya-crossing":{lat:35.6591479,lng:139.7005657},"ueno-zoo":{lat:35.7169281,lng:139.7706166},"meiji-jingu":{lat:35.6763976,lng:139.6993259},"shinjuku-gyoen":{lat:35.6851471,lng:139.7100991},"tsukiji-market":{lat:35.6654861,lng:139.7706363},"roppongi-hills":{lat:35.6605468,lng:139.7295669},"tokyo-national-museum":{lat:35.7187283,lng:139.7758054}})[x]||{lat:35.6762,lng:139.6503},g=x=>({"tokyo-tower":90,"tokyo-skytree":120,"sensoji-temple":60,"shibuya-crossing":30,"ueno-zoo":180,"meiji-jingu":90,"shinjuku-gyoen":120,"tsukiji-market":120,"roppongi-hills":120,"tokyo-national-museum":150})[x]||90;if(!t||!e||!((k=ly[t])!=null&&k[e]))return a.jsx("div",{className:"min-h-screen font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),a.jsx("button",{onClick:()=>n("/area-selection"),className:"px-6 py-2 bg-gradient-to-r from-neon-pink to-neon-purple rounded-lg hover:shadow-lg transition-all duration-300",children:""})]})});const y=ly[t][e];return a.jsxs("div",{className:"font-inter bg-gradient-to-br from-deep-purple via-dark-purple to-cyber-blue text-white overflow-x-hidden min-h-screen",children:[a.jsx(Vr,{}),a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("div",{className:"floating-shape w-64 h-64 bg-gradient-to-r from-neon-pink/20 to-neon-purple/20 rounded-full absolute top-20 left-10 animate-float blur-xl"}),a.jsx("div",{className:"floating-shape w-48 h-48 bg-gradient-to-r from-neon-blue/20 to-neon-green/20 rounded-full absolute top-40 right-20 animate-float delay-1000 blur-xl"}),a.jsx("div",{className:"floating-shape w-32 h-32 bg-gradient-to-r from-electric-yellow/20 to-neon-pink/20 rounded-full absolute bottom-32 left-1/4 animate-float delay-2000 blur-xl"})]}),a.jsx("div",{className:"relative z-10 pt-24 pb-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsxs("div",{className:"mb-12",children:[a.jsxs("button",{onClick:c,className:"inline-flex items-center text-neon-blue hover:text-neon-pink mb-6 transition-colors duration-300 font-semibold",children:[a.jsx(fs,{className:"w-5 h-5 mr-2"}),""]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-neon-pink to-neon-purple px-4 py-2 rounded-full text-sm font-semibold border border-neon-pink/50 animate-pulse-glow",children:" "})}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-neon-pink via-neon-purple to-neon-blue bg-clip-text text-transparent",children:_A[t]}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-green to-electric-yellow bg-clip-text text-transparent",children:wA[e]||e})]}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto leading-relaxed mb-8",children:y.description}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{className:"inline-flex items-center bg-gradient-to-r from-neon-blue to-neon-green px-6 py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-neon-blue/30 transition-all duration-300 transform hover:scale-105",children:[a.jsx(CN,{className:"w-5 h-5 mr-2"}),""]}),a.jsxs("button",{className:"inline-flex items-center bg-gradient-to-r from-neon-pink to-neon-purple px-6 py-3 rounded-full font-semibold hover:shadow-lg hover:shadow-neon-pink/30 transition-all duration-300 transform hover:scale-105",children:[a.jsx(wE,{className:"w-5 h-5 mr-2"}),""]})]})]})]}),a.jsx("div",{className:"space-y-8",children:y.recommendations.map(x=>a.jsx("div",{className:"bg-black/30 backdrop-blur-lg rounded-2xl border border-white/10 overflow-hidden hover:border-neon-pink/50 transition-all duration-300",children:a.jsxs("div",{className:"md:flex",children:[a.jsxs("div",{className:"md:w-2/5 relative",children:[a.jsx("img",{src:x.image,alt:x.name,className:"w-full h-64 md:h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),a.jsxs("div",{className:"md:w-3/5 p-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent",children:x.name}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>u(x.id),className:`p-2 rounded-full transition-colors ${r.includes(x.id)?"text-neon-pink bg-neon-pink/20":"text-white/60 hover:text-neon-pink hover:bg-white/10"}`,children:a.jsx(UN,{className:"w-6 h-6",fill:r.includes(x.id)?"currentColor":"none"})}),a.jsx("button",{onClick:()=>h(x),disabled:f(x.id),className:`p-2 rounded-full transition-colors ${f(x.id)?"text-neon-blue bg-neon-blue/20 cursor-not-allowed":"text-white/60 hover:text-neon-blue hover:bg-white/10"}`,title:f(x.id)?"":"",children:f(x.id)?a.jsx(O1,{className:"w-6 h-6"}):a.jsx(dE,{className:"w-6 h-6"})})]})]}),a.jsx("p",{className:"text-white/80 mb-6 leading-relaxed",children:x.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(En,{className:"w-5 h-5 mr-3 text-neon-blue"}),a.jsx("span",{className:"text-sm",children:x.address})]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Nn,{className:"w-5 h-5 mr-3 text-neon-green"}),a.jsx("span",{className:"text-sm",children:x.hours})]}),a.jsxs("div",{className:"flex items-center text-white/70",children:[a.jsx(Bn,{className:"w-5 h-5 mr-3 text-yellow-400"}),a.jsxs("span",{className:"text-sm font-semibold",children:[x.rating,"/5.0"]})]}),a.jsx("div",{className:"flex items-center text-white/70",children:a.jsx("span",{className:"text-neon-pink font-bold text-lg",children:x.price})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-bold text-white mb-3 text-lg",children:""}),a.jsxs("div",{className:"space-y-2",children:[x.transport.train&&a.jsxs("div",{className:"flex items-center text-white/80",children:[a.jsx(xn,{className:"w-5 h-5 mr-3 text-neon-purple"}),a.jsx("span",{children:x.transport.train})]}),x.transport.walking&&a.jsxs("div",{className:"flex items-center text-white/80",children:[a.jsx("span",{className:"w-5 h-5 mr-3 text-neon-blue",children:""}),a.jsx("span",{children:x.transport.walking})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-bold text-white mb-3 text-lg",children:""}),a.jsx("div",{className:"space-y-2",children:x.tips.map((I,_)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-neon-pink rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-white/80",children:I})]},_))})]}),(x.phone||x.website)&&a.jsxs("div",{className:"flex gap-6",children:[x.phone&&a.jsxs("a",{href:`tel:${x.phone}`,className:"flex items-center text-neon-blue hover:text-neon-pink transition-colors",children:[a.jsx(mE,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:x.phone})]}),x.website&&a.jsxs("a",{href:x.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-neon-green hover:text-neon-pink transition-colors",children:[a.jsx(ON,{className:"w-5 h-5 mr-2"}),a.jsx("span",{className:"font-semibold",children:""})]})]})]})]})},x.id))})]})}),a.jsx(Or,{})]})},IA=()=>{const{prefecture:t}=Ic();return a.jsx(y_,{selectedPrefecture:t})},kA=()=>(R.useEffect(()=>{const t={threshold:.1,rootMargin:"0px 0px -50px 0px"},e=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&(s.target.style.animationDelay="0s",s.target.classList.add("animate-slide-up"))})},t);return document.querySelectorAll("section > div").forEach(r=>e.observe(r)),document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",function(s){s.preventDefault();const i=document.querySelector(this.getAttribute("href"));i&&i.scrollIntoView({behavior:"smooth",block:"start"})})}),document.querySelectorAll("button").forEach(r=>{r.addEventListener("mouseenter",function(){this.style.transform="scale(1.05)"}),r.addEventListener("mouseleave",function(){this.style.transform="scale(1)"})}),()=>{e.disconnect()}},[]),a.jsx(J6,{children:a.jsx(Ok,{children:a.jsxs(pk,{children:[a.jsx(zt,{path:"/",element:a.jsx(Xk,{})}),a.jsx(zt,{path:"/tokyo-tower-live",element:a.jsx(g3,{})}),a.jsx(zt,{path:"/admin",element:a.jsx(q6,{})}),a.jsx(zt,{path:"/itinerary",element:a.jsx(Y6,{})}),a.jsx(zt,{path:"/spots",element:a.jsx(eA,{})}),a.jsx(zt,{path:"/spots/all",element:a.jsx(y_,{selectedPrefecture:"all"})}),a.jsx(zt,{path:"/spots/:prefecture",element:a.jsx(IA,{})}),a.jsx(zt,{path:"/spot/:spotId",element:a.jsx(pA,{})}),a.jsx(zt,{path:"/area-selection",element:a.jsx(yA,{})}),a.jsx(zt,{path:"/category-selection/:area",element:a.jsx(vA,{})}),a.jsx(zt,{path:"/guide/:area/:category",element:a.jsx(bA,{})})]})})}));oh.createRoot(document.getElementById("root")).render(a.jsx(mb.StrictMode,{children:a.jsx(kA,{})}))});export default NA();
